function vg(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function _g(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var wg={exports:{}},Ql={},Eg={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ra=Symbol.for("react.element"),B0=Symbol.for("react.portal"),$0=Symbol.for("react.fragment"),H0=Symbol.for("react.strict_mode"),q0=Symbol.for("react.profiler"),G0=Symbol.for("react.provider"),K0=Symbol.for("react.context"),W0=Symbol.for("react.forward_ref"),Q0=Symbol.for("react.suspense"),Y0=Symbol.for("react.memo"),X0=Symbol.for("react.lazy"),zf=Symbol.iterator;function J0(t){return t===null||typeof t!="object"?null:(t=zf&&t[zf]||t["@@iterator"],typeof t=="function"?t:null)}var Tg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Sg=Object.assign,Ig={};function So(t,e,n){this.props=t,this.context=e,this.refs=Ig,this.updater=n||Tg}So.prototype.isReactComponent={};So.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};So.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Rg(){}Rg.prototype=So.prototype;function Oh(t,e,n){this.props=t,this.context=e,this.refs=Ig,this.updater=n||Tg}var Fh=Oh.prototype=new Rg;Fh.constructor=Oh;Sg(Fh,So.prototype);Fh.isPureReactComponent=!0;var Bf=Array.isArray,Cg=Object.prototype.hasOwnProperty,Uh={current:null},Ag={key:!0,ref:!0,__self:!0,__source:!0};function Pg(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)Cg.call(e,r)&&!Ag.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),h=0;h<l;h++)u[h]=arguments[h+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:ra,type:t,key:o,ref:s,props:i,_owner:Uh.current}}function Z0(t,e){return{$$typeof:ra,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function jh(t){return typeof t=="object"&&t!==null&&t.$$typeof===ra}function ew(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var $f=/\/+/g;function Ou(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ew(""+t.key):e.toString(36)}function Qa(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case ra:case B0:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Ou(s,0):r,Bf(i)?(n="",t!=null&&(n=t.replace($f,"$&/")+"/"),Qa(i,e,n,"",function(h){return h})):i!=null&&(jh(i)&&(i=Z0(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace($f,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Bf(t))for(var l=0;l<t.length;l++){o=t[l];var u=r+Ou(o,l);s+=Qa(o,e,n,u,i)}else if(u=J0(t),typeof u=="function")for(t=u.call(t),l=0;!(o=t.next()).done;)o=o.value,u=r+Ou(o,l++),s+=Qa(o,e,n,u,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Aa(t,e,n){if(t==null)return t;var r=[],i=0;return Qa(t,r,"","",function(o){return e.call(n,o,i++)}),r}function tw(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Vt={current:null},Ya={transition:null},nw={ReactCurrentDispatcher:Vt,ReactCurrentBatchConfig:Ya,ReactCurrentOwner:Uh};function kg(){throw Error("act(...) is not supported in production builds of React.")}he.Children={map:Aa,forEach:function(t,e,n){Aa(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Aa(t,function(){e++}),e},toArray:function(t){return Aa(t,function(e){return e})||[]},only:function(t){if(!jh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};he.Component=So;he.Fragment=$0;he.Profiler=q0;he.PureComponent=Oh;he.StrictMode=H0;he.Suspense=Q0;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nw;he.act=kg;he.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Sg({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Uh.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)Cg.call(e,u)&&!Ag.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var h=0;h<u;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:ra,type:t.type,key:i,ref:o,props:r,_owner:s}};he.createContext=function(t){return t={$$typeof:K0,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:G0,_context:t},t.Consumer=t};he.createElement=Pg;he.createFactory=function(t){var e=Pg.bind(null,t);return e.type=t,e};he.createRef=function(){return{current:null}};he.forwardRef=function(t){return{$$typeof:W0,render:t}};he.isValidElement=jh;he.lazy=function(t){return{$$typeof:X0,_payload:{_status:-1,_result:t},_init:tw}};he.memo=function(t,e){return{$$typeof:Y0,type:t,compare:e===void 0?null:e}};he.startTransition=function(t){var e=Ya.transition;Ya.transition={};try{t()}finally{Ya.transition=e}};he.unstable_act=kg;he.useCallback=function(t,e){return Vt.current.useCallback(t,e)};he.useContext=function(t){return Vt.current.useContext(t)};he.useDebugValue=function(){};he.useDeferredValue=function(t){return Vt.current.useDeferredValue(t)};he.useEffect=function(t,e){return Vt.current.useEffect(t,e)};he.useId=function(){return Vt.current.useId()};he.useImperativeHandle=function(t,e,n){return Vt.current.useImperativeHandle(t,e,n)};he.useInsertionEffect=function(t,e){return Vt.current.useInsertionEffect(t,e)};he.useLayoutEffect=function(t,e){return Vt.current.useLayoutEffect(t,e)};he.useMemo=function(t,e){return Vt.current.useMemo(t,e)};he.useReducer=function(t,e,n){return Vt.current.useReducer(t,e,n)};he.useRef=function(t){return Vt.current.useRef(t)};he.useState=function(t){return Vt.current.useState(t)};he.useSyncExternalStore=function(t,e,n){return Vt.current.useSyncExternalStore(t,e,n)};he.useTransition=function(){return Vt.current.useTransition()};he.version="18.3.1";Eg.exports=he;var U=Eg.exports;const xg=_g(U),rw=vg({__proto__:null,default:xg},[U]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iw=U,ow=Symbol.for("react.element"),sw=Symbol.for("react.fragment"),aw=Object.prototype.hasOwnProperty,lw=iw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,uw={key:!0,ref:!0,__self:!0,__source:!0};function Dg(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)aw.call(e,r)&&!uw.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:ow,type:t,key:o,ref:s,props:i,_owner:lw.current}}Ql.Fragment=sw;Ql.jsx=Dg;Ql.jsxs=Dg;wg.exports=Ql;var H=wg.exports,Ec={},Ng={exports:{}},Xt={},Vg={exports:{}},Lg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(K,te){var re=K.length;K.push(te);e:for(;0<re;){var pe=re-1>>>1,de=K[pe];if(0<i(de,te))K[pe]=te,K[re]=de,re=pe;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var te=K[0],re=K.pop();if(re!==te){K[0]=re;e:for(var pe=0,de=K.length,Pe=de>>>1;pe<Pe;){var Ze=2*(pe+1)-1,ut=K[Ze],ct=Ze+1,ln=K[ct];if(0>i(ut,re))ct<de&&0>i(ln,ut)?(K[pe]=ln,K[ct]=re,pe=ct):(K[pe]=ut,K[Ze]=re,pe=Ze);else if(ct<de&&0>i(ln,re))K[pe]=ln,K[ct]=re,pe=ct;else break e}}return te}function i(K,te){var re=K.sortIndex-te.sortIndex;return re!==0?re:K.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],h=[],f=1,p=null,m=3,R=!1,A=!1,k=!1,V=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(K){for(var te=n(h);te!==null;){if(te.callback===null)r(h);else if(te.startTime<=K)r(h),te.sortIndex=te.expirationTime,e(u,te);else break;te=n(h)}}function M(K){if(k=!1,I(K),!A)if(n(u)!==null)A=!0,Tn(b);else{var te=n(h);te!==null&&Se(M,te.startTime-K)}}function b(K,te){A=!1,k&&(k=!1,w(y),y=-1),R=!0;var re=m;try{for(I(te),p=n(u);p!==null&&(!(p.expirationTime>te)||K&&!C());){var pe=p.callback;if(typeof pe=="function"){p.callback=null,m=p.priorityLevel;var de=pe(p.expirationTime<=te);te=t.unstable_now(),typeof de=="function"?p.callback=de:p===n(u)&&r(u),I(te)}else r(u);p=n(u)}if(p!==null)var Pe=!0;else{var Ze=n(h);Ze!==null&&Se(M,Ze.startTime-te),Pe=!1}return Pe}finally{p=null,m=re,R=!1}}var x=!1,E=null,y=-1,_=5,S=-1;function C(){return!(t.unstable_now()-S<_)}function N(){if(E!==null){var K=t.unstable_now();S=K;var te=!0;try{te=E(!0,K)}finally{te?T():(x=!1,E=null)}}else x=!1}var T;if(typeof v=="function")T=function(){v(N)};else if(typeof MessageChannel<"u"){var Te=new MessageChannel,Mt=Te.port2;Te.port1.onmessage=N,T=function(){Mt.postMessage(null)}}else T=function(){V(N,0)};function Tn(K){E=K,x||(x=!0,T())}function Se(K,te){y=V(function(){K(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_continueExecution=function(){A||R||(A=!0,Tn(b))},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(K){switch(m){case 1:case 2:case 3:var te=3;break;default:te=m}var re=m;m=te;try{return K()}finally{m=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(K,te){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var re=m;m=K;try{return te()}finally{m=re}},t.unstable_scheduleCallback=function(K,te,re){var pe=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?pe+re:pe):re=pe,K){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=re+de,K={id:f++,callback:te,priorityLevel:K,startTime:re,expirationTime:de,sortIndex:-1},re>pe?(K.sortIndex=re,e(h,K),n(u)===null&&K===n(h)&&(k?(w(y),y=-1):k=!0,Se(M,re-pe))):(K.sortIndex=de,e(u,K),A||R||(A=!0,Tn(b))),K},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(K){var te=m;return function(){var re=m;m=te;try{return K.apply(this,arguments)}finally{m=re}}}})(Lg);Vg.exports=Lg;var cw=Vg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hw=U,Yt=cw;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Mg=new Set,ks={};function _i(t,e){ao(t,e),ao(t+"Capture",e)}function ao(t,e){for(ks[t]=e,t=0;t<e.length;t++)Mg.add(e[t])}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tc=Object.prototype.hasOwnProperty,dw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Hf={},qf={};function fw(t){return Tc.call(qf,t)?!0:Tc.call(Hf,t)?!1:dw.test(t)?qf[t]=!0:(Hf[t]=!0,!1)}function pw(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function mw(t,e,n,r){if(e===null||typeof e>"u"||pw(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Lt(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){yt[t]=new Lt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];yt[e]=new Lt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){yt[t]=new Lt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){yt[t]=new Lt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){yt[t]=new Lt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){yt[t]=new Lt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){yt[t]=new Lt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){yt[t]=new Lt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){yt[t]=new Lt(t,5,!1,t.toLowerCase(),null,!1,!1)});var bh=/[\-:]([a-z])/g;function zh(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(bh,zh);yt[e]=new Lt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(bh,zh);yt[e]=new Lt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(bh,zh);yt[e]=new Lt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){yt[t]=new Lt(t,1,!1,t.toLowerCase(),null,!1,!1)});yt.xlinkHref=new Lt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){yt[t]=new Lt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Bh(t,e,n,r){var i=yt.hasOwnProperty(e)?yt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(mw(e,n,i,r)&&(n=null),r||i===null?fw(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var tr=hw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pa=Symbol.for("react.element"),bi=Symbol.for("react.portal"),zi=Symbol.for("react.fragment"),$h=Symbol.for("react.strict_mode"),Sc=Symbol.for("react.profiler"),Og=Symbol.for("react.provider"),Fg=Symbol.for("react.context"),Hh=Symbol.for("react.forward_ref"),Ic=Symbol.for("react.suspense"),Rc=Symbol.for("react.suspense_list"),qh=Symbol.for("react.memo"),dr=Symbol.for("react.lazy"),Ug=Symbol.for("react.offscreen"),Gf=Symbol.iterator;function Wo(t){return t===null||typeof t!="object"?null:(t=Gf&&t[Gf]||t["@@iterator"],typeof t=="function"?t:null)}var Be=Object.assign,Fu;function ss(t){if(Fu===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Fu=e&&e[1]||""}return`
`+Fu+t}var Uu=!1;function ju(t,e){if(!t||Uu)return"";Uu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,l=o.length-1;1<=s&&0<=l&&i[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==o[l]){var u=`
`+i[s].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=s&&0<=l);break}}}finally{Uu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ss(t):""}function gw(t){switch(t.tag){case 5:return ss(t.type);case 16:return ss("Lazy");case 13:return ss("Suspense");case 19:return ss("SuspenseList");case 0:case 2:case 15:return t=ju(t.type,!1),t;case 11:return t=ju(t.type.render,!1),t;case 1:return t=ju(t.type,!0),t;default:return""}}function Cc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case zi:return"Fragment";case bi:return"Portal";case Sc:return"Profiler";case $h:return"StrictMode";case Ic:return"Suspense";case Rc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Fg:return(t.displayName||"Context")+".Consumer";case Og:return(t._context.displayName||"Context")+".Provider";case Hh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case qh:return e=t.displayName||null,e!==null?e:Cc(t.type)||"Memo";case dr:e=t._payload,t=t._init;try{return Cc(t(e))}catch{}}return null}function yw(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cc(e);case 8:return e===$h?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Lr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function jg(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function vw(t){var e=jg(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ka(t){t._valueTracker||(t._valueTracker=vw(t))}function bg(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=jg(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function fl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ac(t,e){var n=e.checked;return Be({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Kf(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Lr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function zg(t,e){e=e.checked,e!=null&&Bh(t,"checked",e,!1)}function Pc(t,e){zg(t,e);var n=Lr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?kc(t,e.type,n):e.hasOwnProperty("defaultValue")&&kc(t,e.type,Lr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Wf(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function kc(t,e,n){(e!=="number"||fl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var as=Array.isArray;function Ji(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Lr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function xc(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return Be({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Qf(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(as(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Lr(n)}}function Bg(t,e){var n=Lr(e.value),r=Lr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Yf(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function $g(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?$g(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var xa,Hg=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(xa=xa||document.createElement("div"),xa.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=xa.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function xs(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ms={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_w=["Webkit","ms","Moz","O"];Object.keys(ms).forEach(function(t){_w.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ms[e]=ms[t]})});function qg(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ms.hasOwnProperty(t)&&ms[t]?(""+e).trim():e+"px"}function Gg(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=qg(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var ww=Be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nc(t,e){if(e){if(ww[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function Vc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lc=null;function Gh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Mc=null,Zi=null,eo=null;function Xf(t){if(t=sa(t)){if(typeof Mc!="function")throw Error(B(280));var e=t.stateNode;e&&(e=eu(e),Mc(t.stateNode,t.type,e))}}function Kg(t){Zi?eo?eo.push(t):eo=[t]:Zi=t}function Wg(){if(Zi){var t=Zi,e=eo;if(eo=Zi=null,Xf(t),e)for(t=0;t<e.length;t++)Xf(e[t])}}function Qg(t,e){return t(e)}function Yg(){}var bu=!1;function Xg(t,e,n){if(bu)return t(e,n);bu=!0;try{return Qg(t,e,n)}finally{bu=!1,(Zi!==null||eo!==null)&&(Yg(),Wg())}}function Ds(t,e){var n=t.stateNode;if(n===null)return null;var r=eu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var Oc=!1;if(Yn)try{var Qo={};Object.defineProperty(Qo,"passive",{get:function(){Oc=!0}}),window.addEventListener("test",Qo,Qo),window.removeEventListener("test",Qo,Qo)}catch{Oc=!1}function Ew(t,e,n,r,i,o,s,l,u){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(f){this.onError(f)}}var gs=!1,pl=null,ml=!1,Fc=null,Tw={onError:function(t){gs=!0,pl=t}};function Sw(t,e,n,r,i,o,s,l,u){gs=!1,pl=null,Ew.apply(Tw,arguments)}function Iw(t,e,n,r,i,o,s,l,u){if(Sw.apply(this,arguments),gs){if(gs){var h=pl;gs=!1,pl=null}else throw Error(B(198));ml||(ml=!0,Fc=h)}}function wi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Jg(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Jf(t){if(wi(t)!==t)throw Error(B(188))}function Rw(t){var e=t.alternate;if(!e){if(e=wi(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Jf(i),t;if(o===r)return Jf(i),e;o=o.sibling}throw Error(B(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function Zg(t){return t=Rw(t),t!==null?ey(t):null}function ey(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ey(t);if(e!==null)return e;t=t.sibling}return null}var ty=Yt.unstable_scheduleCallback,Zf=Yt.unstable_cancelCallback,Cw=Yt.unstable_shouldYield,Aw=Yt.unstable_requestPaint,Ge=Yt.unstable_now,Pw=Yt.unstable_getCurrentPriorityLevel,Kh=Yt.unstable_ImmediatePriority,ny=Yt.unstable_UserBlockingPriority,gl=Yt.unstable_NormalPriority,kw=Yt.unstable_LowPriority,ry=Yt.unstable_IdlePriority,Yl=null,xn=null;function xw(t){if(xn&&typeof xn.onCommitFiberRoot=="function")try{xn.onCommitFiberRoot(Yl,t,void 0,(t.current.flags&128)===128)}catch{}}var _n=Math.clz32?Math.clz32:Vw,Dw=Math.log,Nw=Math.LN2;function Vw(t){return t>>>=0,t===0?32:31-(Dw(t)/Nw|0)|0}var Da=64,Na=4194304;function ls(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function yl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var l=s&~i;l!==0?r=ls(l):(o&=s,o!==0&&(r=ls(o)))}else s=n&~i,s!==0?r=ls(s):o!==0&&(r=ls(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-_n(e),i=1<<n,r|=t[n],e&=~i;return r}function Lw(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mw(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-_n(o),l=1<<s,u=i[s];u===-1?(!(l&n)||l&r)&&(i[s]=Lw(l,e)):u<=e&&(t.expiredLanes|=l),o&=~l}}function Uc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function iy(){var t=Da;return Da<<=1,!(Da&4194240)&&(Da=64),t}function zu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ia(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-_n(e),t[e]=n}function Ow(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-_n(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Wh(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-_n(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ae=0;function oy(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var sy,Qh,ay,ly,uy,jc=!1,Va=[],wr=null,Er=null,Tr=null,Ns=new Map,Vs=new Map,pr=[],Fw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ep(t,e){switch(t){case"focusin":case"focusout":wr=null;break;case"dragenter":case"dragleave":Er=null;break;case"mouseover":case"mouseout":Tr=null;break;case"pointerover":case"pointerout":Ns.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vs.delete(e.pointerId)}}function Yo(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=sa(e),e!==null&&Qh(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Uw(t,e,n,r,i){switch(e){case"focusin":return wr=Yo(wr,t,e,n,r,i),!0;case"dragenter":return Er=Yo(Er,t,e,n,r,i),!0;case"mouseover":return Tr=Yo(Tr,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ns.set(o,Yo(Ns.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Vs.set(o,Yo(Vs.get(o)||null,t,e,n,r,i)),!0}return!1}function cy(t){var e=Zr(t.target);if(e!==null){var n=wi(e);if(n!==null){if(e=n.tag,e===13){if(e=Jg(n),e!==null){t.blockedOn=e,uy(t.priority,function(){ay(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xa(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=bc(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Lc=r,n.target.dispatchEvent(r),Lc=null}else return e=sa(n),e!==null&&Qh(e),t.blockedOn=n,!1;e.shift()}return!0}function tp(t,e,n){Xa(t)&&n.delete(e)}function jw(){jc=!1,wr!==null&&Xa(wr)&&(wr=null),Er!==null&&Xa(Er)&&(Er=null),Tr!==null&&Xa(Tr)&&(Tr=null),Ns.forEach(tp),Vs.forEach(tp)}function Xo(t,e){t.blockedOn===e&&(t.blockedOn=null,jc||(jc=!0,Yt.unstable_scheduleCallback(Yt.unstable_NormalPriority,jw)))}function Ls(t){function e(i){return Xo(i,t)}if(0<Va.length){Xo(Va[0],t);for(var n=1;n<Va.length;n++){var r=Va[n];r.blockedOn===t&&(r.blockedOn=null)}}for(wr!==null&&Xo(wr,t),Er!==null&&Xo(Er,t),Tr!==null&&Xo(Tr,t),Ns.forEach(e),Vs.forEach(e),n=0;n<pr.length;n++)r=pr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<pr.length&&(n=pr[0],n.blockedOn===null);)cy(n),n.blockedOn===null&&pr.shift()}var to=tr.ReactCurrentBatchConfig,vl=!0;function bw(t,e,n,r){var i=Ae,o=to.transition;to.transition=null;try{Ae=1,Yh(t,e,n,r)}finally{Ae=i,to.transition=o}}function zw(t,e,n,r){var i=Ae,o=to.transition;to.transition=null;try{Ae=4,Yh(t,e,n,r)}finally{Ae=i,to.transition=o}}function Yh(t,e,n,r){if(vl){var i=bc(t,e,n,r);if(i===null)Xu(t,e,r,_l,n),ep(t,r);else if(Uw(i,t,e,n,r))r.stopPropagation();else if(ep(t,r),e&4&&-1<Fw.indexOf(t)){for(;i!==null;){var o=sa(i);if(o!==null&&sy(o),o=bc(t,e,n,r),o===null&&Xu(t,e,r,_l,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Xu(t,e,r,null,n)}}var _l=null;function bc(t,e,n,r){if(_l=null,t=Gh(r),t=Zr(t),t!==null)if(e=wi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Jg(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return _l=t,null}function hy(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Pw()){case Kh:return 1;case ny:return 4;case gl:case kw:return 16;case ry:return 536870912;default:return 16}default:return 16}}var gr=null,Xh=null,Ja=null;function dy(){if(Ja)return Ja;var t,e=Xh,n=e.length,r,i="value"in gr?gr.value:gr.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Ja=i.slice(t,1<r?1-r:void 0)}function Za(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function La(){return!0}function np(){return!1}function Jt(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?La:np,this.isPropagationStopped=np,this}return Be(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=La)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=La)},persist:function(){},isPersistent:La}),e}var Io={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jh=Jt(Io),oa=Be({},Io,{view:0,detail:0}),Bw=Jt(oa),Bu,$u,Jo,Xl=Be({},oa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Jo&&(Jo&&t.type==="mousemove"?(Bu=t.screenX-Jo.screenX,$u=t.screenY-Jo.screenY):$u=Bu=0,Jo=t),Bu)},movementY:function(t){return"movementY"in t?t.movementY:$u}}),rp=Jt(Xl),$w=Be({},Xl,{dataTransfer:0}),Hw=Jt($w),qw=Be({},oa,{relatedTarget:0}),Hu=Jt(qw),Gw=Be({},Io,{animationName:0,elapsedTime:0,pseudoElement:0}),Kw=Jt(Gw),Ww=Be({},Io,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Qw=Jt(Ww),Yw=Be({},Io,{data:0}),ip=Jt(Yw),Xw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eE(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Zw[t])?!!e[t]:!1}function Zh(){return eE}var tE=Be({},oa,{key:function(t){if(t.key){var e=Xw[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Za(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Jw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zh,charCode:function(t){return t.type==="keypress"?Za(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Za(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),nE=Jt(tE),rE=Be({},Xl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),op=Jt(rE),iE=Be({},oa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zh}),oE=Jt(iE),sE=Be({},Io,{propertyName:0,elapsedTime:0,pseudoElement:0}),aE=Jt(sE),lE=Be({},Xl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),uE=Jt(lE),cE=[9,13,27,32],ed=Yn&&"CompositionEvent"in window,ys=null;Yn&&"documentMode"in document&&(ys=document.documentMode);var hE=Yn&&"TextEvent"in window&&!ys,fy=Yn&&(!ed||ys&&8<ys&&11>=ys),sp=" ",ap=!1;function py(t,e){switch(t){case"keyup":return cE.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function my(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Bi=!1;function dE(t,e){switch(t){case"compositionend":return my(e);case"keypress":return e.which!==32?null:(ap=!0,sp);case"textInput":return t=e.data,t===sp&&ap?null:t;default:return null}}function fE(t,e){if(Bi)return t==="compositionend"||!ed&&py(t,e)?(t=dy(),Ja=Xh=gr=null,Bi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return fy&&e.locale!=="ko"?null:e.data;default:return null}}var pE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!pE[t.type]:e==="textarea"}function gy(t,e,n,r){Kg(r),e=wl(e,"onChange"),0<e.length&&(n=new Jh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var vs=null,Ms=null;function mE(t){Ay(t,0)}function Jl(t){var e=qi(t);if(bg(e))return t}function gE(t,e){if(t==="change")return e}var yy=!1;if(Yn){var qu;if(Yn){var Gu="oninput"in document;if(!Gu){var up=document.createElement("div");up.setAttribute("oninput","return;"),Gu=typeof up.oninput=="function"}qu=Gu}else qu=!1;yy=qu&&(!document.documentMode||9<document.documentMode)}function cp(){vs&&(vs.detachEvent("onpropertychange",vy),Ms=vs=null)}function vy(t){if(t.propertyName==="value"&&Jl(Ms)){var e=[];gy(e,Ms,t,Gh(t)),Xg(mE,e)}}function yE(t,e,n){t==="focusin"?(cp(),vs=e,Ms=n,vs.attachEvent("onpropertychange",vy)):t==="focusout"&&cp()}function vE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Jl(Ms)}function _E(t,e){if(t==="click")return Jl(e)}function wE(t,e){if(t==="input"||t==="change")return Jl(e)}function EE(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var En=typeof Object.is=="function"?Object.is:EE;function Os(t,e){if(En(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Tc.call(e,i)||!En(t[i],e[i]))return!1}return!0}function hp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function dp(t,e){var n=hp(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=hp(n)}}function _y(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?_y(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function wy(){for(var t=window,e=fl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=fl(t.document)}return e}function td(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function TE(t){var e=wy(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&_y(n.ownerDocument.documentElement,n)){if(r!==null&&td(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=dp(n,o);var s=dp(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var SE=Yn&&"documentMode"in document&&11>=document.documentMode,$i=null,zc=null,_s=null,Bc=!1;function fp(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Bc||$i==null||$i!==fl(r)||(r=$i,"selectionStart"in r&&td(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),_s&&Os(_s,r)||(_s=r,r=wl(zc,"onSelect"),0<r.length&&(e=new Jh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=$i)))}function Ma(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Hi={animationend:Ma("Animation","AnimationEnd"),animationiteration:Ma("Animation","AnimationIteration"),animationstart:Ma("Animation","AnimationStart"),transitionend:Ma("Transition","TransitionEnd")},Ku={},Ey={};Yn&&(Ey=document.createElement("div").style,"AnimationEvent"in window||(delete Hi.animationend.animation,delete Hi.animationiteration.animation,delete Hi.animationstart.animation),"TransitionEvent"in window||delete Hi.transitionend.transition);function Zl(t){if(Ku[t])return Ku[t];if(!Hi[t])return t;var e=Hi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Ey)return Ku[t]=e[n];return t}var Ty=Zl("animationend"),Sy=Zl("animationiteration"),Iy=Zl("animationstart"),Ry=Zl("transitionend"),Cy=new Map,pp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jr(t,e){Cy.set(t,e),_i(e,[t])}for(var Wu=0;Wu<pp.length;Wu++){var Qu=pp[Wu],IE=Qu.toLowerCase(),RE=Qu[0].toUpperCase()+Qu.slice(1);jr(IE,"on"+RE)}jr(Ty,"onAnimationEnd");jr(Sy,"onAnimationIteration");jr(Iy,"onAnimationStart");jr("dblclick","onDoubleClick");jr("focusin","onFocus");jr("focusout","onBlur");jr(Ry,"onTransitionEnd");ao("onMouseEnter",["mouseout","mouseover"]);ao("onMouseLeave",["mouseout","mouseover"]);ao("onPointerEnter",["pointerout","pointerover"]);ao("onPointerLeave",["pointerout","pointerover"]);_i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_i("onBeforeInput",["compositionend","keypress","textInput","paste"]);_i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var us="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CE=new Set("cancel close invalid load scroll toggle".split(" ").concat(us));function mp(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Iw(r,e,void 0,t),t.currentTarget=null}function Ay(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var l=r[s],u=l.instance,h=l.currentTarget;if(l=l.listener,u!==o&&i.isPropagationStopped())break e;mp(i,l,h),o=u}else for(s=0;s<r.length;s++){if(l=r[s],u=l.instance,h=l.currentTarget,l=l.listener,u!==o&&i.isPropagationStopped())break e;mp(i,l,h),o=u}}}if(ml)throw t=Fc,ml=!1,Fc=null,t}function Le(t,e){var n=e[Kc];n===void 0&&(n=e[Kc]=new Set);var r=t+"__bubble";n.has(r)||(Py(e,t,2,!1),n.add(r))}function Yu(t,e,n){var r=0;e&&(r|=4),Py(n,t,r,e)}var Oa="_reactListening"+Math.random().toString(36).slice(2);function Fs(t){if(!t[Oa]){t[Oa]=!0,Mg.forEach(function(n){n!=="selectionchange"&&(CE.has(n)||Yu(n,!1,t),Yu(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Oa]||(e[Oa]=!0,Yu("selectionchange",!1,e))}}function Py(t,e,n,r){switch(hy(e)){case 1:var i=bw;break;case 4:i=zw;break;default:i=Yh}n=i.bind(null,e,n,t),i=void 0,!Oc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Xu(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;s=s.return}for(;l!==null;){if(s=Zr(l),s===null)return;if(u=s.tag,u===5||u===6){r=o=s;continue e}l=l.parentNode}}r=r.return}Xg(function(){var h=o,f=Gh(n),p=[];e:{var m=Cy.get(t);if(m!==void 0){var R=Jh,A=t;switch(t){case"keypress":if(Za(n)===0)break e;case"keydown":case"keyup":R=nE;break;case"focusin":A="focus",R=Hu;break;case"focusout":A="blur",R=Hu;break;case"beforeblur":case"afterblur":R=Hu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=rp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=Hw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=oE;break;case Ty:case Sy:case Iy:R=Kw;break;case Ry:R=aE;break;case"scroll":R=Bw;break;case"wheel":R=uE;break;case"copy":case"cut":case"paste":R=Qw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=op}var k=(e&4)!==0,V=!k&&t==="scroll",w=k?m!==null?m+"Capture":null:m;k=[];for(var v=h,I;v!==null;){I=v;var M=I.stateNode;if(I.tag===5&&M!==null&&(I=M,w!==null&&(M=Ds(v,w),M!=null&&k.push(Us(v,M,I)))),V)break;v=v.return}0<k.length&&(m=new R(m,A,null,n,f),p.push({event:m,listeners:k}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",R=t==="mouseout"||t==="pointerout",m&&n!==Lc&&(A=n.relatedTarget||n.fromElement)&&(Zr(A)||A[Xn]))break e;if((R||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,R?(A=n.relatedTarget||n.toElement,R=h,A=A?Zr(A):null,A!==null&&(V=wi(A),A!==V||A.tag!==5&&A.tag!==6)&&(A=null)):(R=null,A=h),R!==A)){if(k=rp,M="onMouseLeave",w="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(k=op,M="onPointerLeave",w="onPointerEnter",v="pointer"),V=R==null?m:qi(R),I=A==null?m:qi(A),m=new k(M,v+"leave",R,n,f),m.target=V,m.relatedTarget=I,M=null,Zr(f)===h&&(k=new k(w,v+"enter",A,n,f),k.target=I,k.relatedTarget=V,M=k),V=M,R&&A)t:{for(k=R,w=A,v=0,I=k;I;I=Mi(I))v++;for(I=0,M=w;M;M=Mi(M))I++;for(;0<v-I;)k=Mi(k),v--;for(;0<I-v;)w=Mi(w),I--;for(;v--;){if(k===w||w!==null&&k===w.alternate)break t;k=Mi(k),w=Mi(w)}k=null}else k=null;R!==null&&gp(p,m,R,k,!1),A!==null&&V!==null&&gp(p,V,A,k,!0)}}e:{if(m=h?qi(h):window,R=m.nodeName&&m.nodeName.toLowerCase(),R==="select"||R==="input"&&m.type==="file")var b=gE;else if(lp(m))if(yy)b=wE;else{b=vE;var x=yE}else(R=m.nodeName)&&R.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(b=_E);if(b&&(b=b(t,h))){gy(p,b,n,f);break e}x&&x(t,m,h),t==="focusout"&&(x=m._wrapperState)&&x.controlled&&m.type==="number"&&kc(m,"number",m.value)}switch(x=h?qi(h):window,t){case"focusin":(lp(x)||x.contentEditable==="true")&&($i=x,zc=h,_s=null);break;case"focusout":_s=zc=$i=null;break;case"mousedown":Bc=!0;break;case"contextmenu":case"mouseup":case"dragend":Bc=!1,fp(p,n,f);break;case"selectionchange":if(SE)break;case"keydown":case"keyup":fp(p,n,f)}var E;if(ed)e:{switch(t){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Bi?py(t,n)&&(y="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(fy&&n.locale!=="ko"&&(Bi||y!=="onCompositionStart"?y==="onCompositionEnd"&&Bi&&(E=dy()):(gr=f,Xh="value"in gr?gr.value:gr.textContent,Bi=!0)),x=wl(h,y),0<x.length&&(y=new ip(y,t,null,n,f),p.push({event:y,listeners:x}),E?y.data=E:(E=my(n),E!==null&&(y.data=E)))),(E=hE?dE(t,n):fE(t,n))&&(h=wl(h,"onBeforeInput"),0<h.length&&(f=new ip("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:h}),f.data=E))}Ay(p,e)})}function Us(t,e,n){return{instance:t,listener:e,currentTarget:n}}function wl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Ds(t,n),o!=null&&r.unshift(Us(t,o,i)),o=Ds(t,e),o!=null&&r.push(Us(t,o,i))),t=t.return}return r}function Mi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function gp(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var l=n,u=l.alternate,h=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&h!==null&&(l=h,i?(u=Ds(n,o),u!=null&&s.unshift(Us(n,u,l))):i||(u=Ds(n,o),u!=null&&s.push(Us(n,u,l)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var AE=/\r\n?/g,PE=/\u0000|\uFFFD/g;function yp(t){return(typeof t=="string"?t:""+t).replace(AE,`
`).replace(PE,"")}function Fa(t,e,n){if(e=yp(e),yp(t)!==e&&n)throw Error(B(425))}function El(){}var $c=null,Hc=null;function qc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Gc=typeof setTimeout=="function"?setTimeout:void 0,kE=typeof clearTimeout=="function"?clearTimeout:void 0,vp=typeof Promise=="function"?Promise:void 0,xE=typeof queueMicrotask=="function"?queueMicrotask:typeof vp<"u"?function(t){return vp.resolve(null).then(t).catch(DE)}:Gc;function DE(t){setTimeout(function(){throw t})}function Ju(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ls(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ls(e)}function Sr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function _p(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ro=Math.random().toString(36).slice(2),Pn="__reactFiber$"+Ro,js="__reactProps$"+Ro,Xn="__reactContainer$"+Ro,Kc="__reactEvents$"+Ro,NE="__reactListeners$"+Ro,VE="__reactHandles$"+Ro;function Zr(t){var e=t[Pn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Xn]||n[Pn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=_p(t);t!==null;){if(n=t[Pn])return n;t=_p(t)}return e}t=n,n=t.parentNode}return null}function sa(t){return t=t[Pn]||t[Xn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function qi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function eu(t){return t[js]||null}var Wc=[],Gi=-1;function br(t){return{current:t}}function Me(t){0>Gi||(t.current=Wc[Gi],Wc[Gi]=null,Gi--)}function De(t,e){Gi++,Wc[Gi]=t.current,t.current=e}var Mr={},At=br(Mr),jt=br(!1),ui=Mr;function lo(t,e){var n=t.type.contextTypes;if(!n)return Mr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function bt(t){return t=t.childContextTypes,t!=null}function Tl(){Me(jt),Me(At)}function wp(t,e,n){if(At.current!==Mr)throw Error(B(168));De(At,e),De(jt,n)}function ky(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(B(108,yw(t)||"Unknown",i));return Be({},n,r)}function Sl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Mr,ui=At.current,De(At,t),De(jt,jt.current),!0}function Ep(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=ky(t,e,ui),r.__reactInternalMemoizedMergedChildContext=t,Me(jt),Me(At),De(At,t)):Me(jt),De(jt,n)}var qn=null,tu=!1,Zu=!1;function xy(t){qn===null?qn=[t]:qn.push(t)}function LE(t){tu=!0,xy(t)}function zr(){if(!Zu&&qn!==null){Zu=!0;var t=0,e=Ae;try{var n=qn;for(Ae=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}qn=null,tu=!1}catch(i){throw qn!==null&&(qn=qn.slice(t+1)),ty(Kh,zr),i}finally{Ae=e,Zu=!1}}return null}var Ki=[],Wi=0,Il=null,Rl=0,tn=[],nn=0,ci=null,Gn=1,Kn="";function Qr(t,e){Ki[Wi++]=Rl,Ki[Wi++]=Il,Il=t,Rl=e}function Dy(t,e,n){tn[nn++]=Gn,tn[nn++]=Kn,tn[nn++]=ci,ci=t;var r=Gn;t=Kn;var i=32-_n(r)-1;r&=~(1<<i),n+=1;var o=32-_n(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Gn=1<<32-_n(e)+i|n<<i|r,Kn=o+t}else Gn=1<<o|n<<i|r,Kn=t}function nd(t){t.return!==null&&(Qr(t,1),Dy(t,1,0))}function rd(t){for(;t===Il;)Il=Ki[--Wi],Ki[Wi]=null,Rl=Ki[--Wi],Ki[Wi]=null;for(;t===ci;)ci=tn[--nn],tn[nn]=null,Kn=tn[--nn],tn[nn]=null,Gn=tn[--nn],tn[nn]=null}var Qt=null,Wt=null,Fe=!1,yn=null;function Ny(t,e){var n=rn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Tp(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Qt=t,Wt=Sr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Qt=t,Wt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ci!==null?{id:Gn,overflow:Kn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=rn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Qt=t,Wt=null,!0):!1;default:return!1}}function Qc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Yc(t){if(Fe){var e=Wt;if(e){var n=e;if(!Tp(t,e)){if(Qc(t))throw Error(B(418));e=Sr(n.nextSibling);var r=Qt;e&&Tp(t,e)?Ny(r,n):(t.flags=t.flags&-4097|2,Fe=!1,Qt=t)}}else{if(Qc(t))throw Error(B(418));t.flags=t.flags&-4097|2,Fe=!1,Qt=t}}}function Sp(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Qt=t}function Ua(t){if(t!==Qt)return!1;if(!Fe)return Sp(t),Fe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!qc(t.type,t.memoizedProps)),e&&(e=Wt)){if(Qc(t))throw Vy(),Error(B(418));for(;e;)Ny(t,e),e=Sr(e.nextSibling)}if(Sp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Wt=Sr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Wt=null}}else Wt=Qt?Sr(t.stateNode.nextSibling):null;return!0}function Vy(){for(var t=Wt;t;)t=Sr(t.nextSibling)}function uo(){Wt=Qt=null,Fe=!1}function id(t){yn===null?yn=[t]:yn.push(t)}var ME=tr.ReactCurrentBatchConfig;function Zo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var l=i.refs;s===null?delete l[o]:l[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function ja(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ip(t){var e=t._init;return e(t._payload)}function Ly(t){function e(w,v){if(t){var I=w.deletions;I===null?(w.deletions=[v],w.flags|=16):I.push(v)}}function n(w,v){if(!t)return null;for(;v!==null;)e(w,v),v=v.sibling;return null}function r(w,v){for(w=new Map;v!==null;)v.key!==null?w.set(v.key,v):w.set(v.index,v),v=v.sibling;return w}function i(w,v){return w=Ar(w,v),w.index=0,w.sibling=null,w}function o(w,v,I){return w.index=I,t?(I=w.alternate,I!==null?(I=I.index,I<v?(w.flags|=2,v):I):(w.flags|=2,v)):(w.flags|=1048576,v)}function s(w){return t&&w.alternate===null&&(w.flags|=2),w}function l(w,v,I,M){return v===null||v.tag!==6?(v=sc(I,w.mode,M),v.return=w,v):(v=i(v,I),v.return=w,v)}function u(w,v,I,M){var b=I.type;return b===zi?f(w,v,I.props.children,M,I.key):v!==null&&(v.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===dr&&Ip(b)===v.type)?(M=i(v,I.props),M.ref=Zo(w,v,I),M.return=w,M):(M=sl(I.type,I.key,I.props,null,w.mode,M),M.ref=Zo(w,v,I),M.return=w,M)}function h(w,v,I,M){return v===null||v.tag!==4||v.stateNode.containerInfo!==I.containerInfo||v.stateNode.implementation!==I.implementation?(v=ac(I,w.mode,M),v.return=w,v):(v=i(v,I.children||[]),v.return=w,v)}function f(w,v,I,M,b){return v===null||v.tag!==7?(v=si(I,w.mode,M,b),v.return=w,v):(v=i(v,I),v.return=w,v)}function p(w,v,I){if(typeof v=="string"&&v!==""||typeof v=="number")return v=sc(""+v,w.mode,I),v.return=w,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Pa:return I=sl(v.type,v.key,v.props,null,w.mode,I),I.ref=Zo(w,null,v),I.return=w,I;case bi:return v=ac(v,w.mode,I),v.return=w,v;case dr:var M=v._init;return p(w,M(v._payload),I)}if(as(v)||Wo(v))return v=si(v,w.mode,I,null),v.return=w,v;ja(w,v)}return null}function m(w,v,I,M){var b=v!==null?v.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return b!==null?null:l(w,v,""+I,M);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Pa:return I.key===b?u(w,v,I,M):null;case bi:return I.key===b?h(w,v,I,M):null;case dr:return b=I._init,m(w,v,b(I._payload),M)}if(as(I)||Wo(I))return b!==null?null:f(w,v,I,M,null);ja(w,I)}return null}function R(w,v,I,M,b){if(typeof M=="string"&&M!==""||typeof M=="number")return w=w.get(I)||null,l(v,w,""+M,b);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Pa:return w=w.get(M.key===null?I:M.key)||null,u(v,w,M,b);case bi:return w=w.get(M.key===null?I:M.key)||null,h(v,w,M,b);case dr:var x=M._init;return R(w,v,I,x(M._payload),b)}if(as(M)||Wo(M))return w=w.get(I)||null,f(v,w,M,b,null);ja(v,M)}return null}function A(w,v,I,M){for(var b=null,x=null,E=v,y=v=0,_=null;E!==null&&y<I.length;y++){E.index>y?(_=E,E=null):_=E.sibling;var S=m(w,E,I[y],M);if(S===null){E===null&&(E=_);break}t&&E&&S.alternate===null&&e(w,E),v=o(S,v,y),x===null?b=S:x.sibling=S,x=S,E=_}if(y===I.length)return n(w,E),Fe&&Qr(w,y),b;if(E===null){for(;y<I.length;y++)E=p(w,I[y],M),E!==null&&(v=o(E,v,y),x===null?b=E:x.sibling=E,x=E);return Fe&&Qr(w,y),b}for(E=r(w,E);y<I.length;y++)_=R(E,w,y,I[y],M),_!==null&&(t&&_.alternate!==null&&E.delete(_.key===null?y:_.key),v=o(_,v,y),x===null?b=_:x.sibling=_,x=_);return t&&E.forEach(function(C){return e(w,C)}),Fe&&Qr(w,y),b}function k(w,v,I,M){var b=Wo(I);if(typeof b!="function")throw Error(B(150));if(I=b.call(I),I==null)throw Error(B(151));for(var x=b=null,E=v,y=v=0,_=null,S=I.next();E!==null&&!S.done;y++,S=I.next()){E.index>y?(_=E,E=null):_=E.sibling;var C=m(w,E,S.value,M);if(C===null){E===null&&(E=_);break}t&&E&&C.alternate===null&&e(w,E),v=o(C,v,y),x===null?b=C:x.sibling=C,x=C,E=_}if(S.done)return n(w,E),Fe&&Qr(w,y),b;if(E===null){for(;!S.done;y++,S=I.next())S=p(w,S.value,M),S!==null&&(v=o(S,v,y),x===null?b=S:x.sibling=S,x=S);return Fe&&Qr(w,y),b}for(E=r(w,E);!S.done;y++,S=I.next())S=R(E,w,y,S.value,M),S!==null&&(t&&S.alternate!==null&&E.delete(S.key===null?y:S.key),v=o(S,v,y),x===null?b=S:x.sibling=S,x=S);return t&&E.forEach(function(N){return e(w,N)}),Fe&&Qr(w,y),b}function V(w,v,I,M){if(typeof I=="object"&&I!==null&&I.type===zi&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case Pa:e:{for(var b=I.key,x=v;x!==null;){if(x.key===b){if(b=I.type,b===zi){if(x.tag===7){n(w,x.sibling),v=i(x,I.props.children),v.return=w,w=v;break e}}else if(x.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===dr&&Ip(b)===x.type){n(w,x.sibling),v=i(x,I.props),v.ref=Zo(w,x,I),v.return=w,w=v;break e}n(w,x);break}else e(w,x);x=x.sibling}I.type===zi?(v=si(I.props.children,w.mode,M,I.key),v.return=w,w=v):(M=sl(I.type,I.key,I.props,null,w.mode,M),M.ref=Zo(w,v,I),M.return=w,w=M)}return s(w);case bi:e:{for(x=I.key;v!==null;){if(v.key===x)if(v.tag===4&&v.stateNode.containerInfo===I.containerInfo&&v.stateNode.implementation===I.implementation){n(w,v.sibling),v=i(v,I.children||[]),v.return=w,w=v;break e}else{n(w,v);break}else e(w,v);v=v.sibling}v=ac(I,w.mode,M),v.return=w,w=v}return s(w);case dr:return x=I._init,V(w,v,x(I._payload),M)}if(as(I))return A(w,v,I,M);if(Wo(I))return k(w,v,I,M);ja(w,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,v!==null&&v.tag===6?(n(w,v.sibling),v=i(v,I),v.return=w,w=v):(n(w,v),v=sc(I,w.mode,M),v.return=w,w=v),s(w)):n(w,v)}return V}var co=Ly(!0),My=Ly(!1),Cl=br(null),Al=null,Qi=null,od=null;function sd(){od=Qi=Al=null}function ad(t){var e=Cl.current;Me(Cl),t._currentValue=e}function Xc(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function no(t,e){Al=t,od=Qi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ut=!0),t.firstContext=null)}function sn(t){var e=t._currentValue;if(od!==t)if(t={context:t,memoizedValue:e,next:null},Qi===null){if(Al===null)throw Error(B(308));Qi=t,Al.dependencies={lanes:0,firstContext:t}}else Qi=Qi.next=t;return e}var ei=null;function ld(t){ei===null?ei=[t]:ei.push(t)}function Oy(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,ld(e)):(n.next=i.next,i.next=n),e.interleaved=n,Jn(t,r)}function Jn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var fr=!1;function ud(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fy(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Wn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ir(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,_e&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Jn(t,n)}return i=r.interleaved,i===null?(e.next=e,ld(r)):(e.next=i.next,i.next=e),r.interleaved=e,Jn(t,n)}function el(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Wh(t,n)}}function Rp(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Pl(t,e,n,r){var i=t.updateQueue;fr=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,h=u.next;u.next=null,s===null?o=h:s.next=h,s=u;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==s&&(l===null?f.firstBaseUpdate=h:l.next=h,f.lastBaseUpdate=u))}if(o!==null){var p=i.baseState;s=0,f=h=u=null,l=o;do{var m=l.lane,R=l.eventTime;if((r&m)===m){f!==null&&(f=f.next={eventTime:R,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var A=t,k=l;switch(m=e,R=n,k.tag){case 1:if(A=k.payload,typeof A=="function"){p=A.call(R,p,m);break e}p=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=k.payload,m=typeof A=="function"?A.call(R,p,m):A,m==null)break e;p=Be({},p,m);break e;case 2:fr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else R={eventTime:R,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(h=f=R,u=p):f=f.next=R,s|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(f===null&&(u=p),i.baseState=u,i.firstBaseUpdate=h,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);di|=s,t.lanes=s,t.memoizedState=p}}function Cp(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(B(191,i));i.call(r)}}}var aa={},Dn=br(aa),bs=br(aa),zs=br(aa);function ti(t){if(t===aa)throw Error(B(174));return t}function cd(t,e){switch(De(zs,e),De(bs,t),De(Dn,aa),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Dc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Dc(e,t)}Me(Dn),De(Dn,e)}function ho(){Me(Dn),Me(bs),Me(zs)}function Uy(t){ti(zs.current);var e=ti(Dn.current),n=Dc(e,t.type);e!==n&&(De(bs,t),De(Dn,n))}function hd(t){bs.current===t&&(Me(Dn),Me(bs))}var be=br(0);function kl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ec=[];function dd(){for(var t=0;t<ec.length;t++)ec[t]._workInProgressVersionPrimary=null;ec.length=0}var tl=tr.ReactCurrentDispatcher,tc=tr.ReactCurrentBatchConfig,hi=0,ze=null,nt=null,at=null,xl=!1,ws=!1,Bs=0,OE=0;function Et(){throw Error(B(321))}function fd(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!En(t[n],e[n]))return!1;return!0}function pd(t,e,n,r,i,o){if(hi=o,ze=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,tl.current=t===null||t.memoizedState===null?bE:zE,t=n(r,i),ws){o=0;do{if(ws=!1,Bs=0,25<=o)throw Error(B(301));o+=1,at=nt=null,e.updateQueue=null,tl.current=BE,t=n(r,i)}while(ws)}if(tl.current=Dl,e=nt!==null&&nt.next!==null,hi=0,at=nt=ze=null,xl=!1,e)throw Error(B(300));return t}function md(){var t=Bs!==0;return Bs=0,t}function An(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?ze.memoizedState=at=t:at=at.next=t,at}function an(){if(nt===null){var t=ze.alternate;t=t!==null?t.memoizedState:null}else t=nt.next;var e=at===null?ze.memoizedState:at.next;if(e!==null)at=e,nt=t;else{if(t===null)throw Error(B(310));nt=t,t={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},at===null?ze.memoizedState=at=t:at=at.next=t}return at}function $s(t,e){return typeof e=="function"?e(t):e}function nc(t){var e=an(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=nt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=s=null,u=null,h=o;do{var f=h.lane;if((hi&f)===f)u!==null&&(u=u.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var p={lane:f,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};u===null?(l=u=p,s=r):u=u.next=p,ze.lanes|=f,di|=f}h=h.next}while(h!==null&&h!==o);u===null?s=r:u.next=l,En(r,e.memoizedState)||(Ut=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,ze.lanes|=o,di|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function rc(t){var e=an(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);En(o,e.memoizedState)||(Ut=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function jy(){}function by(t,e){var n=ze,r=an(),i=e(),o=!En(r.memoizedState,i);if(o&&(r.memoizedState=i,Ut=!0),r=r.queue,gd($y.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||at!==null&&at.memoizedState.tag&1){if(n.flags|=2048,Hs(9,By.bind(null,n,r,i,e),void 0,null),lt===null)throw Error(B(349));hi&30||zy(n,e,i)}return i}function zy(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ze.updateQueue,e===null?(e={lastEffect:null,stores:null},ze.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function By(t,e,n,r){e.value=n,e.getSnapshot=r,Hy(e)&&qy(t)}function $y(t,e,n){return n(function(){Hy(e)&&qy(t)})}function Hy(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!En(t,n)}catch{return!0}}function qy(t){var e=Jn(t,1);e!==null&&wn(e,t,1,-1)}function Ap(t){var e=An();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$s,lastRenderedState:t},e.queue=t,t=t.dispatch=jE.bind(null,ze,t),[e.memoizedState,t]}function Hs(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ze.updateQueue,e===null?(e={lastEffect:null,stores:null},ze.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Gy(){return an().memoizedState}function nl(t,e,n,r){var i=An();ze.flags|=t,i.memoizedState=Hs(1|e,n,void 0,r===void 0?null:r)}function nu(t,e,n,r){var i=an();r=r===void 0?null:r;var o=void 0;if(nt!==null){var s=nt.memoizedState;if(o=s.destroy,r!==null&&fd(r,s.deps)){i.memoizedState=Hs(e,n,o,r);return}}ze.flags|=t,i.memoizedState=Hs(1|e,n,o,r)}function Pp(t,e){return nl(8390656,8,t,e)}function gd(t,e){return nu(2048,8,t,e)}function Ky(t,e){return nu(4,2,t,e)}function Wy(t,e){return nu(4,4,t,e)}function Qy(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Yy(t,e,n){return n=n!=null?n.concat([t]):null,nu(4,4,Qy.bind(null,e,t),n)}function yd(){}function Xy(t,e){var n=an();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&fd(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Jy(t,e){var n=an();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&fd(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Zy(t,e,n){return hi&21?(En(n,e)||(n=iy(),ze.lanes|=n,di|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ut=!0),t.memoizedState=n)}function FE(t,e){var n=Ae;Ae=n!==0&&4>n?n:4,t(!0);var r=tc.transition;tc.transition={};try{t(!1),e()}finally{Ae=n,tc.transition=r}}function ev(){return an().memoizedState}function UE(t,e,n){var r=Cr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},tv(t))nv(e,n);else if(n=Oy(t,e,n,r),n!==null){var i=Nt();wn(n,t,r,i),rv(n,e,r)}}function jE(t,e,n){var r=Cr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(tv(t))nv(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,l=o(s,n);if(i.hasEagerState=!0,i.eagerState=l,En(l,s)){var u=e.interleaved;u===null?(i.next=i,ld(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=Oy(t,e,i,r),n!==null&&(i=Nt(),wn(n,t,r,i),rv(n,e,r))}}function tv(t){var e=t.alternate;return t===ze||e!==null&&e===ze}function nv(t,e){ws=xl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function rv(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Wh(t,n)}}var Dl={readContext:sn,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useInsertionEffect:Et,useLayoutEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useMutableSource:Et,useSyncExternalStore:Et,useId:Et,unstable_isNewReconciler:!1},bE={readContext:sn,useCallback:function(t,e){return An().memoizedState=[t,e===void 0?null:e],t},useContext:sn,useEffect:Pp,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,nl(4194308,4,Qy.bind(null,e,t),n)},useLayoutEffect:function(t,e){return nl(4194308,4,t,e)},useInsertionEffect:function(t,e){return nl(4,2,t,e)},useMemo:function(t,e){var n=An();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=An();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=UE.bind(null,ze,t),[r.memoizedState,t]},useRef:function(t){var e=An();return t={current:t},e.memoizedState=t},useState:Ap,useDebugValue:yd,useDeferredValue:function(t){return An().memoizedState=t},useTransition:function(){var t=Ap(!1),e=t[0];return t=FE.bind(null,t[1]),An().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ze,i=An();if(Fe){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),lt===null)throw Error(B(349));hi&30||zy(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Pp($y.bind(null,r,o,t),[t]),r.flags|=2048,Hs(9,By.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=An(),e=lt.identifierPrefix;if(Fe){var n=Kn,r=Gn;n=(r&~(1<<32-_n(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Bs++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=OE++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},zE={readContext:sn,useCallback:Xy,useContext:sn,useEffect:gd,useImperativeHandle:Yy,useInsertionEffect:Ky,useLayoutEffect:Wy,useMemo:Jy,useReducer:nc,useRef:Gy,useState:function(){return nc($s)},useDebugValue:yd,useDeferredValue:function(t){var e=an();return Zy(e,nt.memoizedState,t)},useTransition:function(){var t=nc($s)[0],e=an().memoizedState;return[t,e]},useMutableSource:jy,useSyncExternalStore:by,useId:ev,unstable_isNewReconciler:!1},BE={readContext:sn,useCallback:Xy,useContext:sn,useEffect:gd,useImperativeHandle:Yy,useInsertionEffect:Ky,useLayoutEffect:Wy,useMemo:Jy,useReducer:rc,useRef:Gy,useState:function(){return rc($s)},useDebugValue:yd,useDeferredValue:function(t){var e=an();return nt===null?e.memoizedState=t:Zy(e,nt.memoizedState,t)},useTransition:function(){var t=rc($s)[0],e=an().memoizedState;return[t,e]},useMutableSource:jy,useSyncExternalStore:by,useId:ev,unstable_isNewReconciler:!1};function pn(t,e){if(t&&t.defaultProps){e=Be({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Jc(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Be({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ru={isMounted:function(t){return(t=t._reactInternals)?wi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Nt(),i=Cr(t),o=Wn(r,i);o.payload=e,n!=null&&(o.callback=n),e=Ir(t,o,i),e!==null&&(wn(e,t,i,r),el(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Nt(),i=Cr(t),o=Wn(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Ir(t,o,i),e!==null&&(wn(e,t,i,r),el(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Nt(),r=Cr(t),i=Wn(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ir(t,i,r),e!==null&&(wn(e,t,r,n),el(e,t,r))}};function kp(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Os(n,r)||!Os(i,o):!0}function iv(t,e,n){var r=!1,i=Mr,o=e.contextType;return typeof o=="object"&&o!==null?o=sn(o):(i=bt(e)?ui:At.current,r=e.contextTypes,o=(r=r!=null)?lo(t,i):Mr),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ru,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function xp(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ru.enqueueReplaceState(e,e.state,null)}function Zc(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},ud(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=sn(o):(o=bt(e)?ui:At.current,i.context=lo(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Jc(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ru.enqueueReplaceState(i,i.state,null),Pl(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function fo(t,e){try{var n="",r=e;do n+=gw(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function ic(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function eh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var $E=typeof WeakMap=="function"?WeakMap:Map;function ov(t,e,n){n=Wn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Vl||(Vl=!0,ch=r),eh(t,e)},n}function sv(t,e,n){n=Wn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){eh(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){eh(t,e),typeof r!="function"&&(Rr===null?Rr=new Set([this]):Rr.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Dp(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new $E;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=r1.bind(null,t,e,n),e.then(t,t))}function Np(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Vp(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Wn(-1,1),e.tag=2,Ir(n,e,1))),n.lanes|=1),t)}var HE=tr.ReactCurrentOwner,Ut=!1;function xt(t,e,n,r){e.child=t===null?My(e,null,n,r):co(e,t.child,n,r)}function Lp(t,e,n,r,i){n=n.render;var o=e.ref;return no(e,i),r=pd(t,e,n,r,o,i),n=md(),t!==null&&!Ut?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Zn(t,e,i)):(Fe&&n&&nd(e),e.flags|=1,xt(t,e,r,i),e.child)}function Mp(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Rd(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,av(t,e,o,r,i)):(t=sl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Os,n(s,r)&&t.ref===e.ref)return Zn(t,e,i)}return e.flags|=1,t=Ar(o,r),t.ref=e.ref,t.return=e,e.child=t}function av(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Os(o,r)&&t.ref===e.ref)if(Ut=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Ut=!0);else return e.lanes=t.lanes,Zn(t,e,i)}return th(t,e,n,r,i)}function lv(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(Xi,Gt),Gt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,De(Xi,Gt),Gt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,De(Xi,Gt),Gt|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,De(Xi,Gt),Gt|=r;return xt(t,e,i,n),e.child}function uv(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function th(t,e,n,r,i){var o=bt(n)?ui:At.current;return o=lo(e,o),no(e,i),n=pd(t,e,n,r,o,i),r=md(),t!==null&&!Ut?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Zn(t,e,i)):(Fe&&r&&nd(e),e.flags|=1,xt(t,e,n,i),e.child)}function Op(t,e,n,r,i){if(bt(n)){var o=!0;Sl(e)}else o=!1;if(no(e,i),e.stateNode===null)rl(t,e),iv(e,n,r),Zc(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,l=e.memoizedProps;s.props=l;var u=s.context,h=n.contextType;typeof h=="object"&&h!==null?h=sn(h):(h=bt(n)?ui:At.current,h=lo(e,h));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";p||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||u!==h)&&xp(e,s,r,h),fr=!1;var m=e.memoizedState;s.state=m,Pl(e,r,s,i),u=e.memoizedState,l!==r||m!==u||jt.current||fr?(typeof f=="function"&&(Jc(e,n,f,r),u=e.memoizedState),(l=fr||kp(e,n,l,r,m,u,h))?(p||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),s.props=r,s.state=u,s.context=h,r=l):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,Fy(t,e),l=e.memoizedProps,h=e.type===e.elementType?l:pn(e.type,l),s.props=h,p=e.pendingProps,m=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=sn(u):(u=bt(n)?ui:At.current,u=lo(e,u));var R=n.getDerivedStateFromProps;(f=typeof R=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==p||m!==u)&&xp(e,s,r,u),fr=!1,m=e.memoizedState,s.state=m,Pl(e,r,s,i);var A=e.memoizedState;l!==p||m!==A||jt.current||fr?(typeof R=="function"&&(Jc(e,n,R,r),A=e.memoizedState),(h=fr||kp(e,n,h,r,m,A,u)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,A,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,A,u)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=A),s.props=r,s.state=A,s.context=u,r=h):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return nh(t,e,n,r,o,i)}function nh(t,e,n,r,i,o){uv(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&Ep(e,n,!1),Zn(t,e,o);r=e.stateNode,HE.current=e;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=co(e,t.child,null,o),e.child=co(e,null,l,o)):xt(t,e,l,o),e.memoizedState=r.state,i&&Ep(e,n,!0),e.child}function cv(t){var e=t.stateNode;e.pendingContext?wp(t,e.pendingContext,e.pendingContext!==e.context):e.context&&wp(t,e.context,!1),cd(t,e.containerInfo)}function Fp(t,e,n,r,i){return uo(),id(i),e.flags|=256,xt(t,e,n,r),e.child}var rh={dehydrated:null,treeContext:null,retryLane:0};function ih(t){return{baseLanes:t,cachePool:null,transitions:null}}function hv(t,e,n){var r=e.pendingProps,i=be.current,o=!1,s=(e.flags&128)!==0,l;if((l=s)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),De(be,i&1),t===null)return Yc(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=su(s,r,0,null),t=si(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=ih(n),e.memoizedState=rh,t):vd(e,s));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return qE(t,e,s,r,l,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Ar(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=Ar(l,o):(o=si(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?ih(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=rh,r}return o=t.child,t=o.sibling,r=Ar(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function vd(t,e){return e=su({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ba(t,e,n,r){return r!==null&&id(r),co(e,t.child,null,n),t=vd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function qE(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=ic(Error(B(422))),ba(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=su({mode:"visible",children:r.children},i,0,null),o=si(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&co(e,t.child,null,s),e.child.memoizedState=ih(s),e.memoizedState=rh,o);if(!(e.mode&1))return ba(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(B(419)),r=ic(o,r,void 0),ba(t,e,s,r)}if(l=(s&t.childLanes)!==0,Ut||l){if(r=lt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Jn(t,i),wn(r,t,i,-1))}return Id(),r=ic(Error(B(421))),ba(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=i1.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Wt=Sr(i.nextSibling),Qt=e,Fe=!0,yn=null,t!==null&&(tn[nn++]=Gn,tn[nn++]=Kn,tn[nn++]=ci,Gn=t.id,Kn=t.overflow,ci=e),e=vd(e,r.children),e.flags|=4096,e)}function Up(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Xc(t.return,e,n)}function oc(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function dv(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(xt(t,e,r.children,n),r=be.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Up(t,n,e);else if(t.tag===19)Up(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(De(be,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&kl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),oc(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&kl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}oc(e,!0,n,null,o);break;case"together":oc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function rl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Zn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),di|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=Ar(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ar(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function GE(t,e,n){switch(e.tag){case 3:cv(e),uo();break;case 5:Uy(e);break;case 1:bt(e.type)&&Sl(e);break;case 4:cd(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;De(Cl,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(De(be,be.current&1),e.flags|=128,null):n&e.child.childLanes?hv(t,e,n):(De(be,be.current&1),t=Zn(t,e,n),t!==null?t.sibling:null);De(be,be.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return dv(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),De(be,be.current),r)break;return null;case 22:case 23:return e.lanes=0,lv(t,e,n)}return Zn(t,e,n)}var fv,oh,pv,mv;fv=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};oh=function(){};pv=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ti(Dn.current);var o=null;switch(n){case"input":i=Ac(t,i),r=Ac(t,r),o=[];break;case"select":i=Be({},i,{value:void 0}),r=Be({},r,{value:void 0}),o=[];break;case"textarea":i=xc(t,i),r=xc(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=El)}Nc(n,r);var s;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var l=i[h];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(ks.hasOwnProperty(h)?o||(o=[]):(o=o||[]).push(h,null));for(h in r){var u=r[h];if(l=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&u!==l&&(u!=null||l!=null))if(h==="style")if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(h,n)),n=u;else h==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(o=o||[]).push(h,u)):h==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(h,""+u):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(ks.hasOwnProperty(h)?(u!=null&&h==="onScroll"&&Le("scroll",t),o||l===u||(o=[])):(o=o||[]).push(h,u))}n&&(o=o||[]).push("style",n);var h=o;(e.updateQueue=h)&&(e.flags|=4)}};mv=function(t,e,n,r){n!==r&&(e.flags|=4)};function es(t,e){if(!Fe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Tt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function KE(t,e,n){var r=e.pendingProps;switch(rd(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(e),null;case 1:return bt(e.type)&&Tl(),Tt(e),null;case 3:return r=e.stateNode,ho(),Me(jt),Me(At),dd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ua(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,yn!==null&&(fh(yn),yn=null))),oh(t,e),Tt(e),null;case 5:hd(e);var i=ti(zs.current);if(n=e.type,t!==null&&e.stateNode!=null)pv(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return Tt(e),null}if(t=ti(Dn.current),Ua(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Pn]=e,r[js]=o,t=(e.mode&1)!==0,n){case"dialog":Le("cancel",r),Le("close",r);break;case"iframe":case"object":case"embed":Le("load",r);break;case"video":case"audio":for(i=0;i<us.length;i++)Le(us[i],r);break;case"source":Le("error",r);break;case"img":case"image":case"link":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"input":Kf(r,o),Le("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Le("invalid",r);break;case"textarea":Qf(r,o),Le("invalid",r)}Nc(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&Fa(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Fa(r.textContent,l,t),i=["children",""+l]):ks.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&Le("scroll",r)}switch(n){case"input":ka(r),Wf(r,o,!0);break;case"textarea":ka(r),Yf(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=El)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=$g(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Pn]=e,t[js]=r,fv(t,e,!1,!1),e.stateNode=t;e:{switch(s=Vc(n,r),n){case"dialog":Le("cancel",t),Le("close",t),i=r;break;case"iframe":case"object":case"embed":Le("load",t),i=r;break;case"video":case"audio":for(i=0;i<us.length;i++)Le(us[i],t);i=r;break;case"source":Le("error",t),i=r;break;case"img":case"image":case"link":Le("error",t),Le("load",t),i=r;break;case"details":Le("toggle",t),i=r;break;case"input":Kf(t,r),i=Ac(t,r),Le("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Be({},r,{value:void 0}),Le("invalid",t);break;case"textarea":Qf(t,r),i=xc(t,r),Le("invalid",t);break;default:i=r}Nc(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var u=l[o];o==="style"?Gg(t,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Hg(t,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&xs(t,u):typeof u=="number"&&xs(t,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ks.hasOwnProperty(o)?u!=null&&o==="onScroll"&&Le("scroll",t):u!=null&&Bh(t,o,u,s))}switch(n){case"input":ka(t),Wf(t,r,!1);break;case"textarea":ka(t),Yf(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Lr(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Ji(t,!!r.multiple,o,!1):r.defaultValue!=null&&Ji(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=El)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Tt(e),null;case 6:if(t&&e.stateNode!=null)mv(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=ti(zs.current),ti(Dn.current),Ua(e)){if(r=e.stateNode,n=e.memoizedProps,r[Pn]=e,(o=r.nodeValue!==n)&&(t=Qt,t!==null))switch(t.tag){case 3:Fa(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Fa(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Pn]=e,e.stateNode=r}return Tt(e),null;case 13:if(Me(be),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Fe&&Wt!==null&&e.mode&1&&!(e.flags&128))Vy(),uo(),e.flags|=98560,o=!1;else if(o=Ua(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(B(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(B(317));o[Pn]=e}else uo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Tt(e),o=!1}else yn!==null&&(fh(yn),yn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||be.current&1?it===0&&(it=3):Id())),e.updateQueue!==null&&(e.flags|=4),Tt(e),null);case 4:return ho(),oh(t,e),t===null&&Fs(e.stateNode.containerInfo),Tt(e),null;case 10:return ad(e.type._context),Tt(e),null;case 17:return bt(e.type)&&Tl(),Tt(e),null;case 19:if(Me(be),o=e.memoizedState,o===null)return Tt(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)es(o,!1);else{if(it!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=kl(t),s!==null){for(e.flags|=128,es(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return De(be,be.current&1|2),e.child}t=t.sibling}o.tail!==null&&Ge()>po&&(e.flags|=128,r=!0,es(o,!1),e.lanes=4194304)}else{if(!r)if(t=kl(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),es(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Fe)return Tt(e),null}else 2*Ge()-o.renderingStartTime>po&&n!==1073741824&&(e.flags|=128,r=!0,es(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ge(),e.sibling=null,n=be.current,De(be,r?n&1|2:n&1),e):(Tt(e),null);case 22:case 23:return Sd(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Gt&1073741824&&(Tt(e),e.subtreeFlags&6&&(e.flags|=8192)):Tt(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function WE(t,e){switch(rd(e),e.tag){case 1:return bt(e.type)&&Tl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ho(),Me(jt),Me(At),dd(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return hd(e),null;case 13:if(Me(be),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));uo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Me(be),null;case 4:return ho(),null;case 10:return ad(e.type._context),null;case 22:case 23:return Sd(),null;case 24:return null;default:return null}}var za=!1,Rt=!1,QE=typeof WeakSet=="function"?WeakSet:Set,Q=null;function Yi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){He(t,e,r)}else n.current=null}function sh(t,e,n){try{n()}catch(r){He(t,e,r)}}var jp=!1;function YE(t,e){if($c=vl,t=wy(),td(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,l=-1,u=-1,h=0,f=0,p=t,m=null;t:for(;;){for(var R;p!==n||i!==0&&p.nodeType!==3||(l=s+i),p!==o||r!==0&&p.nodeType!==3||(u=s+r),p.nodeType===3&&(s+=p.nodeValue.length),(R=p.firstChild)!==null;)m=p,p=R;for(;;){if(p===t)break t;if(m===n&&++h===i&&(l=s),m===o&&++f===r&&(u=s),(R=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=R}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Hc={focusedElem:t,selectionRange:n},vl=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var A=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var k=A.memoizedProps,V=A.memoizedState,w=e.stateNode,v=w.getSnapshotBeforeUpdate(e.elementType===e.type?k:pn(e.type,k),V);w.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(M){He(e,e.return,M)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return A=jp,jp=!1,A}function Es(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&sh(e,n,o)}i=i.next}while(i!==r)}}function iu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ah(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function gv(t){var e=t.alternate;e!==null&&(t.alternate=null,gv(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Pn],delete e[js],delete e[Kc],delete e[NE],delete e[VE])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function yv(t){return t.tag===5||t.tag===3||t.tag===4}function bp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||yv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function lh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=El));else if(r!==4&&(t=t.child,t!==null))for(lh(t,e,n),t=t.sibling;t!==null;)lh(t,e,n),t=t.sibling}function uh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(uh(t,e,n),t=t.sibling;t!==null;)uh(t,e,n),t=t.sibling}var ft=null,mn=!1;function cr(t,e,n){for(n=n.child;n!==null;)vv(t,e,n),n=n.sibling}function vv(t,e,n){if(xn&&typeof xn.onCommitFiberUnmount=="function")try{xn.onCommitFiberUnmount(Yl,n)}catch{}switch(n.tag){case 5:Rt||Yi(n,e);case 6:var r=ft,i=mn;ft=null,cr(t,e,n),ft=r,mn=i,ft!==null&&(mn?(t=ft,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ft.removeChild(n.stateNode));break;case 18:ft!==null&&(mn?(t=ft,n=n.stateNode,t.nodeType===8?Ju(t.parentNode,n):t.nodeType===1&&Ju(t,n),Ls(t)):Ju(ft,n.stateNode));break;case 4:r=ft,i=mn,ft=n.stateNode.containerInfo,mn=!0,cr(t,e,n),ft=r,mn=i;break;case 0:case 11:case 14:case 15:if(!Rt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&sh(n,e,s),i=i.next}while(i!==r)}cr(t,e,n);break;case 1:if(!Rt&&(Yi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){He(n,e,l)}cr(t,e,n);break;case 21:cr(t,e,n);break;case 22:n.mode&1?(Rt=(r=Rt)||n.memoizedState!==null,cr(t,e,n),Rt=r):cr(t,e,n);break;default:cr(t,e,n)}}function zp(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new QE),e.forEach(function(r){var i=o1.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function fn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,l=s;e:for(;l!==null;){switch(l.tag){case 5:ft=l.stateNode,mn=!1;break e;case 3:ft=l.stateNode.containerInfo,mn=!0;break e;case 4:ft=l.stateNode.containerInfo,mn=!0;break e}l=l.return}if(ft===null)throw Error(B(160));vv(o,s,i),ft=null,mn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(h){He(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)_v(e,t),e=e.sibling}function _v(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(fn(e,t),Cn(t),r&4){try{Es(3,t,t.return),iu(3,t)}catch(k){He(t,t.return,k)}try{Es(5,t,t.return)}catch(k){He(t,t.return,k)}}break;case 1:fn(e,t),Cn(t),r&512&&n!==null&&Yi(n,n.return);break;case 5:if(fn(e,t),Cn(t),r&512&&n!==null&&Yi(n,n.return),t.flags&32){var i=t.stateNode;try{xs(i,"")}catch(k){He(t,t.return,k)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&zg(i,o),Vc(l,s);var h=Vc(l,o);for(s=0;s<u.length;s+=2){var f=u[s],p=u[s+1];f==="style"?Gg(i,p):f==="dangerouslySetInnerHTML"?Hg(i,p):f==="children"?xs(i,p):Bh(i,f,p,h)}switch(l){case"input":Pc(i,o);break;case"textarea":Bg(i,o);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var R=o.value;R!=null?Ji(i,!!o.multiple,R,!1):m!==!!o.multiple&&(o.defaultValue!=null?Ji(i,!!o.multiple,o.defaultValue,!0):Ji(i,!!o.multiple,o.multiple?[]:"",!1))}i[js]=o}catch(k){He(t,t.return,k)}}break;case 6:if(fn(e,t),Cn(t),r&4){if(t.stateNode===null)throw Error(B(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(k){He(t,t.return,k)}}break;case 3:if(fn(e,t),Cn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ls(e.containerInfo)}catch(k){He(t,t.return,k)}break;case 4:fn(e,t),Cn(t);break;case 13:fn(e,t),Cn(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Ed=Ge())),r&4&&zp(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Rt=(h=Rt)||f,fn(e,t),Rt=h):fn(e,t),Cn(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!f&&t.mode&1)for(Q=t,f=t.child;f!==null;){for(p=Q=f;Q!==null;){switch(m=Q,R=m.child,m.tag){case 0:case 11:case 14:case 15:Es(4,m,m.return);break;case 1:Yi(m,m.return);var A=m.stateNode;if(typeof A.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,A.props=e.memoizedProps,A.state=e.memoizedState,A.componentWillUnmount()}catch(k){He(r,n,k)}}break;case 5:Yi(m,m.return);break;case 22:if(m.memoizedState!==null){$p(p);continue}}R!==null?(R.return=m,Q=R):$p(p)}f=f.sibling}e:for(f=null,p=t;;){if(p.tag===5){if(f===null){f=p;try{i=p.stateNode,h?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=p.stateNode,u=p.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=qg("display",s))}catch(k){He(t,t.return,k)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=h?"":p.memoizedProps}catch(k){He(t,t.return,k)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:fn(e,t),Cn(t),r&4&&zp(t);break;case 21:break;default:fn(e,t),Cn(t)}}function Cn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(yv(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(xs(i,""),r.flags&=-33);var o=bp(t);uh(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,l=bp(t);lh(t,l,s);break;default:throw Error(B(161))}}catch(u){He(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function XE(t,e,n){Q=t,wv(t)}function wv(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var i=Q,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||za;if(!s){var l=i.alternate,u=l!==null&&l.memoizedState!==null||Rt;l=za;var h=Rt;if(za=s,(Rt=u)&&!h)for(Q=i;Q!==null;)s=Q,u=s.child,s.tag===22&&s.memoizedState!==null?Hp(i):u!==null?(u.return=s,Q=u):Hp(i);for(;o!==null;)Q=o,wv(o),o=o.sibling;Q=i,za=l,Rt=h}Bp(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Q=o):Bp(t)}}function Bp(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Rt||iu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Rt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:pn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Cp(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Cp(e,s,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var f=h.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&Ls(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}Rt||e.flags&512&&ah(e)}catch(m){He(e,e.return,m)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function $p(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function Hp(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{iu(4,e)}catch(u){He(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){He(e,i,u)}}var o=e.return;try{ah(e)}catch(u){He(e,o,u)}break;case 5:var s=e.return;try{ah(e)}catch(u){He(e,s,u)}}}catch(u){He(e,e.return,u)}if(e===t){Q=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Q=l;break}Q=e.return}}var JE=Math.ceil,Nl=tr.ReactCurrentDispatcher,_d=tr.ReactCurrentOwner,on=tr.ReactCurrentBatchConfig,_e=0,lt=null,Xe=null,mt=0,Gt=0,Xi=br(0),it=0,qs=null,di=0,ou=0,wd=0,Ts=null,Ft=null,Ed=0,po=1/0,Hn=null,Vl=!1,ch=null,Rr=null,Ba=!1,yr=null,Ll=0,Ss=0,hh=null,il=-1,ol=0;function Nt(){return _e&6?Ge():il!==-1?il:il=Ge()}function Cr(t){return t.mode&1?_e&2&&mt!==0?mt&-mt:ME.transition!==null?(ol===0&&(ol=iy()),ol):(t=Ae,t!==0||(t=window.event,t=t===void 0?16:hy(t.type)),t):1}function wn(t,e,n,r){if(50<Ss)throw Ss=0,hh=null,Error(B(185));ia(t,n,r),(!(_e&2)||t!==lt)&&(t===lt&&(!(_e&2)&&(ou|=n),it===4&&mr(t,mt)),zt(t,r),n===1&&_e===0&&!(e.mode&1)&&(po=Ge()+500,tu&&zr()))}function zt(t,e){var n=t.callbackNode;Mw(t,e);var r=yl(t,t===lt?mt:0);if(r===0)n!==null&&Zf(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Zf(n),e===1)t.tag===0?LE(qp.bind(null,t)):xy(qp.bind(null,t)),xE(function(){!(_e&6)&&zr()}),n=null;else{switch(oy(r)){case 1:n=Kh;break;case 4:n=ny;break;case 16:n=gl;break;case 536870912:n=ry;break;default:n=gl}n=Pv(n,Ev.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Ev(t,e){if(il=-1,ol=0,_e&6)throw Error(B(327));var n=t.callbackNode;if(ro()&&t.callbackNode!==n)return null;var r=yl(t,t===lt?mt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ml(t,r);else{e=r;var i=_e;_e|=2;var o=Sv();(lt!==t||mt!==e)&&(Hn=null,po=Ge()+500,oi(t,e));do try{t1();break}catch(l){Tv(t,l)}while(!0);sd(),Nl.current=o,_e=i,Xe!==null?e=0:(lt=null,mt=0,e=it)}if(e!==0){if(e===2&&(i=Uc(t),i!==0&&(r=i,e=dh(t,i))),e===1)throw n=qs,oi(t,0),mr(t,r),zt(t,Ge()),n;if(e===6)mr(t,r);else{if(i=t.current.alternate,!(r&30)&&!ZE(i)&&(e=Ml(t,r),e===2&&(o=Uc(t),o!==0&&(r=o,e=dh(t,o))),e===1))throw n=qs,oi(t,0),mr(t,r),zt(t,Ge()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:Yr(t,Ft,Hn);break;case 3:if(mr(t,r),(r&130023424)===r&&(e=Ed+500-Ge(),10<e)){if(yl(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Nt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Gc(Yr.bind(null,t,Ft,Hn),e);break}Yr(t,Ft,Hn);break;case 4:if(mr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-_n(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Ge()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*JE(r/1960))-r,10<r){t.timeoutHandle=Gc(Yr.bind(null,t,Ft,Hn),r);break}Yr(t,Ft,Hn);break;case 5:Yr(t,Ft,Hn);break;default:throw Error(B(329))}}}return zt(t,Ge()),t.callbackNode===n?Ev.bind(null,t):null}function dh(t,e){var n=Ts;return t.current.memoizedState.isDehydrated&&(oi(t,e).flags|=256),t=Ml(t,e),t!==2&&(e=Ft,Ft=n,e!==null&&fh(e)),t}function fh(t){Ft===null?Ft=t:Ft.push.apply(Ft,t)}function ZE(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!En(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function mr(t,e){for(e&=~wd,e&=~ou,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-_n(e),r=1<<n;t[n]=-1,e&=~r}}function qp(t){if(_e&6)throw Error(B(327));ro();var e=yl(t,0);if(!(e&1))return zt(t,Ge()),null;var n=Ml(t,e);if(t.tag!==0&&n===2){var r=Uc(t);r!==0&&(e=r,n=dh(t,r))}if(n===1)throw n=qs,oi(t,0),mr(t,e),zt(t,Ge()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Yr(t,Ft,Hn),zt(t,Ge()),null}function Td(t,e){var n=_e;_e|=1;try{return t(e)}finally{_e=n,_e===0&&(po=Ge()+500,tu&&zr())}}function fi(t){yr!==null&&yr.tag===0&&!(_e&6)&&ro();var e=_e;_e|=1;var n=on.transition,r=Ae;try{if(on.transition=null,Ae=1,t)return t()}finally{Ae=r,on.transition=n,_e=e,!(_e&6)&&zr()}}function Sd(){Gt=Xi.current,Me(Xi)}function oi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,kE(n)),Xe!==null)for(n=Xe.return;n!==null;){var r=n;switch(rd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Tl();break;case 3:ho(),Me(jt),Me(At),dd();break;case 5:hd(r);break;case 4:ho();break;case 13:Me(be);break;case 19:Me(be);break;case 10:ad(r.type._context);break;case 22:case 23:Sd()}n=n.return}if(lt=t,Xe=t=Ar(t.current,null),mt=Gt=e,it=0,qs=null,wd=ou=di=0,Ft=Ts=null,ei!==null){for(e=0;e<ei.length;e++)if(n=ei[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}ei=null}return t}function Tv(t,e){do{var n=Xe;try{if(sd(),tl.current=Dl,xl){for(var r=ze.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}xl=!1}if(hi=0,at=nt=ze=null,ws=!1,Bs=0,_d.current=null,n===null||n.return===null){it=1,qs=e,Xe=null;break}e:{var o=t,s=n.return,l=n,u=e;if(e=mt,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=u,f=l,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var R=Np(s);if(R!==null){R.flags&=-257,Vp(R,s,l,o,e),R.mode&1&&Dp(o,h,e),e=R,u=h;var A=e.updateQueue;if(A===null){var k=new Set;k.add(u),e.updateQueue=k}else A.add(u);break e}else{if(!(e&1)){Dp(o,h,e),Id();break e}u=Error(B(426))}}else if(Fe&&l.mode&1){var V=Np(s);if(V!==null){!(V.flags&65536)&&(V.flags|=256),Vp(V,s,l,o,e),id(fo(u,l));break e}}o=u=fo(u,l),it!==4&&(it=2),Ts===null?Ts=[o]:Ts.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var w=ov(o,u,e);Rp(o,w);break e;case 1:l=u;var v=o.type,I=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(Rr===null||!Rr.has(I)))){o.flags|=65536,e&=-e,o.lanes|=e;var M=sv(o,l,e);Rp(o,M);break e}}o=o.return}while(o!==null)}Rv(n)}catch(b){e=b,Xe===n&&n!==null&&(Xe=n=n.return);continue}break}while(!0)}function Sv(){var t=Nl.current;return Nl.current=Dl,t===null?Dl:t}function Id(){(it===0||it===3||it===2)&&(it=4),lt===null||!(di&268435455)&&!(ou&268435455)||mr(lt,mt)}function Ml(t,e){var n=_e;_e|=2;var r=Sv();(lt!==t||mt!==e)&&(Hn=null,oi(t,e));do try{e1();break}catch(i){Tv(t,i)}while(!0);if(sd(),_e=n,Nl.current=r,Xe!==null)throw Error(B(261));return lt=null,mt=0,it}function e1(){for(;Xe!==null;)Iv(Xe)}function t1(){for(;Xe!==null&&!Cw();)Iv(Xe)}function Iv(t){var e=Av(t.alternate,t,Gt);t.memoizedProps=t.pendingProps,e===null?Rv(t):Xe=e,_d.current=null}function Rv(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=WE(n,e),n!==null){n.flags&=32767,Xe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{it=6,Xe=null;return}}else if(n=KE(n,e,Gt),n!==null){Xe=n;return}if(e=e.sibling,e!==null){Xe=e;return}Xe=e=t}while(e!==null);it===0&&(it=5)}function Yr(t,e,n){var r=Ae,i=on.transition;try{on.transition=null,Ae=1,n1(t,e,n,r)}finally{on.transition=i,Ae=r}return null}function n1(t,e,n,r){do ro();while(yr!==null);if(_e&6)throw Error(B(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(Ow(t,o),t===lt&&(Xe=lt=null,mt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ba||(Ba=!0,Pv(gl,function(){return ro(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=on.transition,on.transition=null;var s=Ae;Ae=1;var l=_e;_e|=4,_d.current=null,YE(t,n),_v(n,t),TE(Hc),vl=!!$c,Hc=$c=null,t.current=n,XE(n),Aw(),_e=l,Ae=s,on.transition=o}else t.current=n;if(Ba&&(Ba=!1,yr=t,Ll=i),o=t.pendingLanes,o===0&&(Rr=null),xw(n.stateNode),zt(t,Ge()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Vl)throw Vl=!1,t=ch,ch=null,t;return Ll&1&&t.tag!==0&&ro(),o=t.pendingLanes,o&1?t===hh?Ss++:(Ss=0,hh=t):Ss=0,zr(),null}function ro(){if(yr!==null){var t=oy(Ll),e=on.transition,n=Ae;try{if(on.transition=null,Ae=16>t?16:t,yr===null)var r=!1;else{if(t=yr,yr=null,Ll=0,_e&6)throw Error(B(331));var i=_e;for(_e|=4,Q=t.current;Q!==null;){var o=Q,s=o.child;if(Q.flags&16){var l=o.deletions;if(l!==null){for(var u=0;u<l.length;u++){var h=l[u];for(Q=h;Q!==null;){var f=Q;switch(f.tag){case 0:case 11:case 15:Es(8,f,o)}var p=f.child;if(p!==null)p.return=f,Q=p;else for(;Q!==null;){f=Q;var m=f.sibling,R=f.return;if(gv(f),f===h){Q=null;break}if(m!==null){m.return=R,Q=m;break}Q=R}}}var A=o.alternate;if(A!==null){var k=A.child;if(k!==null){A.child=null;do{var V=k.sibling;k.sibling=null,k=V}while(k!==null)}}Q=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Q=s;else e:for(;Q!==null;){if(o=Q,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Es(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,Q=w;break e}Q=o.return}}var v=t.current;for(Q=v;Q!==null;){s=Q;var I=s.child;if(s.subtreeFlags&2064&&I!==null)I.return=s,Q=I;else e:for(s=v;Q!==null;){if(l=Q,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:iu(9,l)}}catch(b){He(l,l.return,b)}if(l===s){Q=null;break e}var M=l.sibling;if(M!==null){M.return=l.return,Q=M;break e}Q=l.return}}if(_e=i,zr(),xn&&typeof xn.onPostCommitFiberRoot=="function")try{xn.onPostCommitFiberRoot(Yl,t)}catch{}r=!0}return r}finally{Ae=n,on.transition=e}}return!1}function Gp(t,e,n){e=fo(n,e),e=ov(t,e,1),t=Ir(t,e,1),e=Nt(),t!==null&&(ia(t,1,e),zt(t,e))}function He(t,e,n){if(t.tag===3)Gp(t,t,n);else for(;e!==null;){if(e.tag===3){Gp(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Rr===null||!Rr.has(r))){t=fo(n,t),t=sv(e,t,1),e=Ir(e,t,1),t=Nt(),e!==null&&(ia(e,1,t),zt(e,t));break}}e=e.return}}function r1(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Nt(),t.pingedLanes|=t.suspendedLanes&n,lt===t&&(mt&n)===n&&(it===4||it===3&&(mt&130023424)===mt&&500>Ge()-Ed?oi(t,0):wd|=n),zt(t,e)}function Cv(t,e){e===0&&(t.mode&1?(e=Na,Na<<=1,!(Na&130023424)&&(Na=4194304)):e=1);var n=Nt();t=Jn(t,e),t!==null&&(ia(t,e,n),zt(t,n))}function i1(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Cv(t,n)}function o1(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),Cv(t,n)}var Av;Av=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||jt.current)Ut=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ut=!1,GE(t,e,n);Ut=!!(t.flags&131072)}else Ut=!1,Fe&&e.flags&1048576&&Dy(e,Rl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;rl(t,e),t=e.pendingProps;var i=lo(e,At.current);no(e,n),i=pd(null,e,r,t,i,n);var o=md();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,bt(r)?(o=!0,Sl(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ud(e),i.updater=ru,e.stateNode=i,i._reactInternals=e,Zc(e,r,t,n),e=nh(null,e,r,!0,o,n)):(e.tag=0,Fe&&o&&nd(e),xt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(rl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=a1(r),t=pn(r,t),i){case 0:e=th(null,e,r,t,n);break e;case 1:e=Op(null,e,r,t,n);break e;case 11:e=Lp(null,e,r,t,n);break e;case 14:e=Mp(null,e,r,pn(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pn(r,i),th(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pn(r,i),Op(t,e,r,i,n);case 3:e:{if(cv(e),t===null)throw Error(B(387));r=e.pendingProps,o=e.memoizedState,i=o.element,Fy(t,e),Pl(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=fo(Error(B(423)),e),e=Fp(t,e,r,n,i);break e}else if(r!==i){i=fo(Error(B(424)),e),e=Fp(t,e,r,n,i);break e}else for(Wt=Sr(e.stateNode.containerInfo.firstChild),Qt=e,Fe=!0,yn=null,n=My(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(uo(),r===i){e=Zn(t,e,n);break e}xt(t,e,r,n)}e=e.child}return e;case 5:return Uy(e),t===null&&Yc(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,qc(r,i)?s=null:o!==null&&qc(r,o)&&(e.flags|=32),uv(t,e),xt(t,e,s,n),e.child;case 6:return t===null&&Yc(e),null;case 13:return hv(t,e,n);case 4:return cd(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=co(e,null,r,n):xt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pn(r,i),Lp(t,e,r,i,n);case 7:return xt(t,e,e.pendingProps,n),e.child;case 8:return xt(t,e,e.pendingProps.children,n),e.child;case 12:return xt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,De(Cl,r._currentValue),r._currentValue=s,o!==null)if(En(o.value,s)){if(o.children===i.children&&!jt.current){e=Zn(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=Wn(-1,n&-n),u.tag=2;var h=o.updateQueue;if(h!==null){h=h.shared;var f=h.pending;f===null?u.next=u:(u.next=f.next,f.next=u),h.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),Xc(o.return,n,e),l.lanes|=n;break}u=u.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(B(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Xc(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}xt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,no(e,n),i=sn(i),r=r(i),e.flags|=1,xt(t,e,r,n),e.child;case 14:return r=e.type,i=pn(r,e.pendingProps),i=pn(r.type,i),Mp(t,e,r,i,n);case 15:return av(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pn(r,i),rl(t,e),e.tag=1,bt(r)?(t=!0,Sl(e)):t=!1,no(e,n),iv(e,r,i),Zc(e,r,i,n),nh(null,e,r,!0,t,n);case 19:return dv(t,e,n);case 22:return lv(t,e,n)}throw Error(B(156,e.tag))};function Pv(t,e){return ty(t,e)}function s1(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rn(t,e,n,r){return new s1(t,e,n,r)}function Rd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function a1(t){if(typeof t=="function")return Rd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Hh)return 11;if(t===qh)return 14}return 2}function Ar(t,e){var n=t.alternate;return n===null?(n=rn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function sl(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Rd(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case zi:return si(n.children,i,o,e);case $h:s=8,i|=8;break;case Sc:return t=rn(12,n,e,i|2),t.elementType=Sc,t.lanes=o,t;case Ic:return t=rn(13,n,e,i),t.elementType=Ic,t.lanes=o,t;case Rc:return t=rn(19,n,e,i),t.elementType=Rc,t.lanes=o,t;case Ug:return su(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Og:s=10;break e;case Fg:s=9;break e;case Hh:s=11;break e;case qh:s=14;break e;case dr:s=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=rn(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function si(t,e,n,r){return t=rn(7,t,r,e),t.lanes=n,t}function su(t,e,n,r){return t=rn(22,t,r,e),t.elementType=Ug,t.lanes=n,t.stateNode={isHidden:!1},t}function sc(t,e,n){return t=rn(6,t,null,e),t.lanes=n,t}function ac(t,e,n){return e=rn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function l1(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zu(0),this.expirationTimes=zu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zu(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Cd(t,e,n,r,i,o,s,l,u){return t=new l1(t,e,n,l,u),e===1?(e=1,o===!0&&(e|=8)):e=0,o=rn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ud(o),t}function u1(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function kv(t){if(!t)return Mr;t=t._reactInternals;e:{if(wi(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(bt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(bt(n))return ky(t,n,e)}return e}function xv(t,e,n,r,i,o,s,l,u){return t=Cd(n,r,!0,t,i,o,s,l,u),t.context=kv(null),n=t.current,r=Nt(),i=Cr(n),o=Wn(r,i),o.callback=e??null,Ir(n,o,i),t.current.lanes=i,ia(t,i,r),zt(t,r),t}function au(t,e,n,r){var i=e.current,o=Nt(),s=Cr(i);return n=kv(n),e.context===null?e.context=n:e.pendingContext=n,e=Wn(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ir(i,e,s),t!==null&&(wn(t,i,s,o),el(t,i,s)),s}function Ol(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Kp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ad(t,e){Kp(t,e),(t=t.alternate)&&Kp(t,e)}function c1(){return null}var Dv=typeof reportError=="function"?reportError:function(t){console.error(t)};function Pd(t){this._internalRoot=t}lu.prototype.render=Pd.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));au(t,e,null,null)};lu.prototype.unmount=Pd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;fi(function(){au(null,t,null,null)}),e[Xn]=null}};function lu(t){this._internalRoot=t}lu.prototype.unstable_scheduleHydration=function(t){if(t){var e=ly();t={blockedOn:null,target:t,priority:e};for(var n=0;n<pr.length&&e!==0&&e<pr[n].priority;n++);pr.splice(n,0,t),n===0&&cy(t)}};function kd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function uu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Wp(){}function h1(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var h=Ol(s);o.call(h)}}var s=xv(e,r,t,0,null,!1,!1,"",Wp);return t._reactRootContainer=s,t[Xn]=s.current,Fs(t.nodeType===8?t.parentNode:t),fi(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var h=Ol(u);l.call(h)}}var u=Cd(t,0,!1,null,null,!1,!1,"",Wp);return t._reactRootContainer=u,t[Xn]=u.current,Fs(t.nodeType===8?t.parentNode:t),fi(function(){au(e,u,n,r)}),u}function cu(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var l=i;i=function(){var u=Ol(s);l.call(u)}}au(e,s,t,i)}else s=h1(n,e,t,i,r);return Ol(s)}sy=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ls(e.pendingLanes);n!==0&&(Wh(e,n|1),zt(e,Ge()),!(_e&6)&&(po=Ge()+500,zr()))}break;case 13:fi(function(){var r=Jn(t,1);if(r!==null){var i=Nt();wn(r,t,1,i)}}),Ad(t,1)}};Qh=function(t){if(t.tag===13){var e=Jn(t,134217728);if(e!==null){var n=Nt();wn(e,t,134217728,n)}Ad(t,134217728)}};ay=function(t){if(t.tag===13){var e=Cr(t),n=Jn(t,e);if(n!==null){var r=Nt();wn(n,t,e,r)}Ad(t,e)}};ly=function(){return Ae};uy=function(t,e){var n=Ae;try{return Ae=t,e()}finally{Ae=n}};Mc=function(t,e,n){switch(e){case"input":if(Pc(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=eu(r);if(!i)throw Error(B(90));bg(r),Pc(r,i)}}}break;case"textarea":Bg(t,n);break;case"select":e=n.value,e!=null&&Ji(t,!!n.multiple,e,!1)}};Qg=Td;Yg=fi;var d1={usingClientEntryPoint:!1,Events:[sa,qi,eu,Kg,Wg,Td]},ts={findFiberByHostInstance:Zr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},f1={bundleType:ts.bundleType,version:ts.version,rendererPackageName:ts.rendererPackageName,rendererConfig:ts.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:tr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Zg(t),t===null?null:t.stateNode},findFiberByHostInstance:ts.findFiberByHostInstance||c1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $a=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$a.isDisabled&&$a.supportsFiber)try{Yl=$a.inject(f1),xn=$a}catch{}}Xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=d1;Xt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kd(e))throw Error(B(200));return u1(t,e,null,n)};Xt.createRoot=function(t,e){if(!kd(t))throw Error(B(299));var n=!1,r="",i=Dv;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Cd(t,1,!1,null,null,n,!1,r,i),t[Xn]=e.current,Fs(t.nodeType===8?t.parentNode:t),new Pd(e)};Xt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=Zg(e),t=t===null?null:t.stateNode,t};Xt.flushSync=function(t){return fi(t)};Xt.hydrate=function(t,e,n){if(!uu(e))throw Error(B(200));return cu(null,t,e,!0,n)};Xt.hydrateRoot=function(t,e,n){if(!kd(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=Dv;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=xv(e,null,t,1,n??null,i,!1,o,s),t[Xn]=e.current,Fs(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new lu(e)};Xt.render=function(t,e,n){if(!uu(e))throw Error(B(200));return cu(null,t,e,!1,n)};Xt.unmountComponentAtNode=function(t){if(!uu(t))throw Error(B(40));return t._reactRootContainer?(fi(function(){cu(null,null,t,!1,function(){t._reactRootContainer=null,t[Xn]=null})}),!0):!1};Xt.unstable_batchedUpdates=Td;Xt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!uu(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return cu(t,e,n,!1,r)};Xt.version="18.3.1-next-f1338f8080-20240426";function Nv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Nv)}catch(t){console.error(t)}}Nv(),Ng.exports=Xt;var xd=Ng.exports;const p1=_g(xd),m1=vg({__proto__:null,default:p1},[xd]);var Qp=xd;Ec.createRoot=Qp.createRoot,Ec.hydrateRoot=Qp.hydrateRoot;/**
 * @remix-run/router v1.17.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function je(){return je=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},je.apply(this,arguments)}var Qe;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Qe||(Qe={}));const Yp="popstate";function g1(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:l}=r.location;return Gs("",{pathname:o,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:pi(i)}return v1(e,n,null,t)}function ce(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function mo(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function y1(){return Math.random().toString(36).substr(2,8)}function Xp(t,e){return{usr:t.state,key:t.key,idx:e}}function Gs(t,e,n,r){return n===void 0&&(n=null),je({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Br(e):e,{state:n,key:e&&e.key||r||y1()})}function pi(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Br(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function v1(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,l=Qe.Pop,u=null,h=f();h==null&&(h=0,s.replaceState(je({},s.state,{idx:h}),""));function f(){return(s.state||{idx:null}).idx}function p(){l=Qe.Pop;let V=f(),w=V==null?null:V-h;h=V,u&&u({action:l,location:k.location,delta:w})}function m(V,w){l=Qe.Push;let v=Gs(k.location,V,w);h=f()+1;let I=Xp(v,h),M=k.createHref(v);try{s.pushState(I,"",M)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;i.location.assign(M)}o&&u&&u({action:l,location:k.location,delta:1})}function R(V,w){l=Qe.Replace;let v=Gs(k.location,V,w);h=f();let I=Xp(v,h),M=k.createHref(v);s.replaceState(I,"",M),o&&u&&u({action:l,location:k.location,delta:0})}function A(V){let w=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof V=="string"?V:pi(V);return v=v.replace(/ $/,"%20"),ce(w,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,w)}let k={get action(){return l},get location(){return t(i,s)},listen(V){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Yp,p),u=V,()=>{i.removeEventListener(Yp,p),u=null}},createHref(V){return e(i,V)},createURL:A,encodeLocation(V){let w=A(V);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:m,replace:R,go(V){return s.go(V)}};return k}var xe;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(xe||(xe={}));const _1=new Set(["lazy","caseSensitive","path","id","index","children"]);function w1(t){return t.index===!0}function Ks(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,o)=>{let s=[...n,String(o)],l=typeof i.id=="string"?i.id:s.join("-");if(ce(i.index!==!0||!i.children,"Cannot specify children on an index route"),ce(!r[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),w1(i)){let u=je({},i,e(i),{id:l});return r[l]=u,u}else{let u=je({},i,e(i),{id:l,children:void 0});return r[l]=u,i.children&&(u.children=Ks(i.children,e,s,r)),u}})}function Jr(t,e,n){return n===void 0&&(n="/"),al(t,e,n,!1)}function al(t,e,n,r){let i=typeof e=="string"?Br(e):e,o=Co(i.pathname||"/",n);if(o==null)return null;let s=Vv(t);T1(s);let l=null;for(let u=0;l==null&&u<s.length;++u){let h=V1(o);l=D1(s[u],h,r)}return l}function E1(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function Vv(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,l)=>{let u={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};u.relativePath.startsWith("/")&&(ce(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let h=Qn([r,u.relativePath]),f=n.concat(u);o.children&&o.children.length>0&&(ce(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),Vv(o.children,e,f,h)),!(o.path==null&&!o.index)&&e.push({path:h,score:k1(h,o.index),routesMeta:f})};return t.forEach((o,s)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,s);else for(let u of Lv(o.path))i(o,s,u)}),e}function Lv(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=Lv(r.join("/")),l=[];return l.push(...s.map(u=>u===""?o:[o,u].join("/"))),i&&l.push(...s),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function T1(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:x1(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const S1=/^:[\w-]+$/,I1=3,R1=2,C1=1,A1=10,P1=-2,Jp=t=>t==="*";function k1(t,e){let n=t.split("/"),r=n.length;return n.some(Jp)&&(r+=P1),e&&(r+=R1),n.filter(i=>!Jp(i)).reduce((i,o)=>i+(S1.test(o)?I1:o===""?C1:A1),r)}function x1(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function D1(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},o="/",s=[];for(let l=0;l<r.length;++l){let u=r[l],h=l===r.length-1,f=o==="/"?e:e.slice(o.length)||"/",p=Zp({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},f),m=u.route;if(!p&&h&&n&&!r[r.length-1].route.index&&(p=Zp({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!p)return null;Object.assign(i,p.params),s.push({params:i,pathname:Qn([o,p.pathname]),pathnameBase:O1(Qn([o,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(o=Qn([o,p.pathnameBase]))}return s}function Zp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=N1(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((h,f,p)=>{let{paramName:m,isOptional:R}=f;if(m==="*"){let k=l[p]||"";s=o.slice(0,o.length-k.length).replace(/(.)\/+$/,"$1")}const A=l[p];return R&&!A?h[m]=void 0:h[m]=(A||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:s,pattern:t}}function N1(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),mo(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function V1(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return mo(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Co(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function L1(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Br(t):t;return{pathname:n?n.startsWith("/")?n:M1(n,e):e,search:F1(r),hash:U1(i)}}function M1(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function lc(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Mv(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Dd(t,e){let n=Mv(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Nd(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Br(t):(i=je({},t),ce(!i.pathname||!i.pathname.includes("?"),lc("?","pathname","search",i)),ce(!i.pathname||!i.pathname.includes("#"),lc("#","pathname","hash",i)),ce(!i.search||!i.search.includes("#"),lc("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,l;if(s==null)l=n;else{let p=e.length-1;if(!r&&s.startsWith("..")){let m=s.split("/");for(;m[0]==="..";)m.shift(),p-=1;i.pathname=m.join("/")}l=p>=0?e[p]:"/"}let u=L1(i,l),h=s&&s!=="/"&&s.endsWith("/"),f=(o||s===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(h||f)&&(u.pathname+="/"),u}const Qn=t=>t.join("/").replace(/\/\/+/g,"/"),O1=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),F1=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,U1=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Vd{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function hu(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Ov=["post","put","patch","delete"],j1=new Set(Ov),b1=["get",...Ov],z1=new Set(b1),B1=new Set([301,302,303,307,308]),$1=new Set([307,308]),uc={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},H1={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ns={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Ld=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,q1=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),Fv="remix-router-transitions";function G1(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;ce(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let P=t.detectErrorBoundary;i=D=>({hasErrorBoundary:P(D)})}else i=q1;let o={},s=Ks(t.routes,i,void 0,o),l,u=t.basename||"/",h=t.unstable_dataStrategy||X1,f=t.unstable_patchRoutesOnMiss,p=je({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,unstable_skipActionErrorRevalidation:!1},t.future),m=null,R=new Set,A=null,k=null,V=null,w=t.hydrationData!=null,v=Jr(s,t.history.location,u),I=null;if(v==null&&!f){let P=kt(404,{pathname:t.history.location.pathname}),{matches:D,route:O}=um(s);v=D,I={[O.id]:P}}let M;if(!v)M=!1,v=[];else if(v.some(P=>P.route.lazy))M=!1;else if(!v.some(P=>P.route.loader))M=!0;else if(p.v7_partialHydration){let P=t.hydrationData?t.hydrationData.loaderData:null,D=t.hydrationData?t.hydrationData.errors:null,O=j=>j.route.loader?typeof j.route.loader=="function"&&j.route.loader.hydrate===!0?!1:P&&P[j.route.id]!==void 0||D&&D[j.route.id]!==void 0:!0;if(D){let j=v.findIndex(W=>D[W.route.id]!==void 0);M=v.slice(0,j+1).every(O)}else M=v.every(O)}else M=t.hydrationData!=null;let b,x={historyAction:t.history.action,location:t.history.location,matches:v,initialized:M,navigation:uc,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||I,fetchers:new Map,blockers:new Map},E=Qe.Pop,y=!1,_,S=!1,C=new Map,N=null,T=!1,Te=!1,Mt=[],Tn=[],Se=new Map,K=0,te=-1,re=new Map,pe=new Set,de=new Map,Pe=new Map,Ze=new Set,ut=new Map,ct=new Map,ln=new Map,xo=!1;function Cu(){if(m=t.history.listen(P=>{let{action:D,location:O,delta:j}=P;if(xo){xo=!1;return}mo(ct.size===0||j!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let W=Fo({currentLocation:x.location,nextLocation:O,historyAction:D});if(W&&j!=null){xo=!0,t.history.go(j*-1),Hr(W,{state:"blocked",location:O,proceed(){Hr(W,{state:"proceeding",proceed:void 0,reset:void 0,location:O}),t.history.go(j)},reset(){let Y=new Map(x.blockers);Y.set(W,ns),ot({blockers:Y})}});return}return In(D,O)}),n){cT(e,C);let P=()=>hT(e,C);e.addEventListener("pagehide",P),N=()=>e.removeEventListener("pagehide",P)}return x.initialized||In(Qe.Pop,x.location,{initialHydration:!0}),b}function Ii(){m&&m(),N&&N(),R.clear(),_&&_.abort(),x.fetchers.forEach((P,D)=>Ai(D)),x.blockers.forEach((P,D)=>ki(D))}function Ri(P){return R.add(P),()=>R.delete(P)}function ot(P,D){D===void 0&&(D={}),x=je({},x,P);let O=[],j=[];p.v7_fetcherPersist&&x.fetchers.forEach((W,Y)=>{W.state==="idle"&&(Ze.has(Y)?j.push(Y):O.push(Y))}),[...R].forEach(W=>W(x,{deletedFetchers:j,unstable_viewTransitionOpts:D.viewTransitionOpts,unstable_flushSync:D.flushSync===!0})),p.v7_fetcherPersist&&(O.forEach(W=>x.fetchers.delete(W)),j.forEach(W=>Ai(W)))}function Sn(P,D,O){var j,W;let{flushSync:Y}=O===void 0?{}:O,ee=x.actionData!=null&&x.navigation.formMethod!=null&&gn(x.navigation.formMethod)&&x.navigation.state==="loading"&&((j=P.state)==null?void 0:j._isRedirect)!==!0,G;D.actionData?Object.keys(D.actionData).length>0?G=D.actionData:G=null:ee?G=x.actionData:G=null;let ie=D.loaderData?am(x.loaderData,D.loaderData,D.matches||[],D.errors):x.loaderData,X=x.blockers;X.size>0&&(X=new Map(X),X.forEach((ue,Ie)=>X.set(Ie,ns)));let oe=y===!0||x.navigation.formMethod!=null&&gn(x.navigation.formMethod)&&((W=P.state)==null?void 0:W._isRedirect)!==!0;l&&(s=l,l=void 0),T||E===Qe.Pop||(E===Qe.Push?t.history.push(P,P.state):E===Qe.Replace&&t.history.replace(P,P.state));let me;if(E===Qe.Pop){let ue=C.get(x.location.pathname);ue&&ue.has(P.pathname)?me={currentLocation:x.location,nextLocation:P}:C.has(P.pathname)&&(me={currentLocation:P,nextLocation:x.location})}else if(S){let ue=C.get(x.location.pathname);ue?ue.add(P.pathname):(ue=new Set([P.pathname]),C.set(x.location.pathname,ue)),me={currentLocation:x.location,nextLocation:P}}ot(je({},D,{actionData:G,loaderData:ie,historyAction:E,location:P,initialized:!0,navigation:uc,revalidation:"idle",restoreScrollPosition:jo(P,D.matches||x.matches),preventScrollReset:oe,blockers:X}),{viewTransitionOpts:me,flushSync:Y===!0}),E=Qe.Pop,y=!1,S=!1,T=!1,Te=!1,Mt=[],Tn=[]}async function Ci(P,D){if(typeof P=="number"){t.history.go(P);return}let O=ph(x.location,x.matches,u,p.v7_prependBasename,P,p.v7_relativeSplatPath,D==null?void 0:D.fromRouteId,D==null?void 0:D.relative),{path:j,submission:W,error:Y}=em(p.v7_normalizeFormMethod,!1,O,D),ee=x.location,G=Gs(x.location,j,D&&D.state);G=je({},G,t.history.encodeLocation(G));let ie=D&&D.replace!=null?D.replace:void 0,X=Qe.Push;ie===!0?X=Qe.Replace:ie===!1||W!=null&&gn(W.formMethod)&&W.formAction===x.location.pathname+x.location.search&&(X=Qe.Replace);let oe=D&&"preventScrollReset"in D?D.preventScrollReset===!0:void 0,me=(D&&D.unstable_flushSync)===!0,ue=Fo({currentLocation:ee,nextLocation:G,historyAction:X});if(ue){Hr(ue,{state:"blocked",location:G,proceed(){Hr(ue,{state:"proceeding",proceed:void 0,reset:void 0,location:G}),Ci(P,D)},reset(){let Ie=new Map(x.blockers);Ie.set(ue,ns),ot({blockers:Ie})}});return}return await In(X,G,{submission:W,pendingError:Y,preventScrollReset:oe,replace:D&&D.replace,enableViewTransition:D&&D.unstable_viewTransition,flushSync:me})}function Do(){if(tt(),ot({revalidation:"loading"}),x.navigation.state!=="submitting"){if(x.navigation.state==="idle"){In(x.historyAction,x.location,{startUninterruptedRevalidation:!0});return}In(E||x.historyAction,x.navigation.location,{overrideNavigation:x.navigation})}}async function In(P,D,O){_&&_.abort(),_=null,E=P,T=(O&&O.startUninterruptedRevalidation)===!0,xi(x.location,x.matches),y=(O&&O.preventScrollReset)===!0,S=(O&&O.enableViewTransition)===!0;let j=l||s,W=O&&O.overrideNavigation,Y=Jr(j,D,u),ee=(O&&O.flushSync)===!0,G=ir(Y,j,D.pathname);if(G.active&&G.matches&&(Y=G.matches),!Y){let{error:ge,notFoundMatches:qe,route:Oe}=jn(D.pathname);Sn(D,{matches:qe,loaderData:{},errors:{[Oe.id]:ge}},{flushSync:ee});return}if(x.initialized&&!Te&&rT(x.location,D)&&!(O&&O.submission&&gn(O.submission.formMethod))){Sn(D,{matches:Y},{flushSync:ee});return}_=new AbortController;let ie=Oi(t.history,D,_.signal,O&&O.submission),X;if(O&&O.pendingError)X=[Is(Y).route.id,{type:xe.error,error:O.pendingError}];else if(O&&O.submission&&gn(O.submission.formMethod)){let ge=await Au(ie,D,O.submission,Y,G.active,{replace:O.replace,flushSync:ee});if(ge.shortCircuited)return;if(ge.pendingActionResult){let[qe,Oe]=ge.pendingActionResult;if(Kt(Oe)&&hu(Oe.error)&&Oe.error.status===404){_=null,Sn(D,{matches:ge.matches,loaderData:{},errors:{[qe]:Oe.error}});return}}Y=ge.matches||Y,X=ge.pendingActionResult,W=cc(D,O.submission),ee=!1,G.active=!1,ie=Oi(t.history,ie.url,ie.signal)}let{shortCircuited:oe,matches:me,loaderData:ue,errors:Ie}=await Pu(ie,D,Y,G.active,W,O&&O.submission,O&&O.fetcherSubmission,O&&O.replace,O&&O.initialHydration===!0,ee,X);oe||(_=null,Sn(D,je({matches:me||Y},lm(X),{loaderData:ue,errors:Ie})))}async function Au(P,D,O,j,W,Y){Y===void 0&&(Y={}),tt();let ee=lT(D,O);if(ot({navigation:ee},{flushSync:Y.flushSync===!0}),W){let X=await Gr(j,D.pathname,P.signal);if(X.type==="aborted")return{shortCircuited:!0};if(X.type==="error"){let{error:oe,notFoundMatches:me,route:ue}=rr(D.pathname,X);return{matches:me,pendingActionResult:[ue.id,{type:xe.error,error:oe}]}}else if(X.matches)j=X.matches;else{let{notFoundMatches:oe,error:me,route:ue}=jn(D.pathname);return{matches:oe,pendingActionResult:[ue.id,{type:xe.error,error:me}]}}}let G,ie=cs(j,D);if(!ie.route.action&&!ie.route.lazy)G={type:xe.error,error:kt(405,{method:P.method,pathname:D.pathname,routeId:ie.route.id})};else if(G=(await nr("action",P,[ie],j))[0],P.signal.aborted)return{shortCircuited:!0};if(ri(G)){let X;return Y&&Y.replace!=null?X=Y.replace:X=im(G.response.headers.get("Location"),new URL(P.url),u)===x.location.pathname+x.location.search,await Un(P,G,{submission:O,replace:X}),{shortCircuited:!0}}if(ni(G))throw kt(400,{type:"defer-action"});if(Kt(G)){let X=Is(j,ie.route.id);return(Y&&Y.replace)!==!0&&(E=Qe.Push),{matches:j,pendingActionResult:[X.route.id,G]}}return{matches:j,pendingActionResult:[ie.route.id,G]}}async function Pu(P,D,O,j,W,Y,ee,G,ie,X,oe){let me=W||cc(D,Y),ue=Y||ee||dm(me),Ie=!T&&(!p.v7_partialHydration||!ie);if(j){if(Ie){let Ne=No(oe);ot(je({navigation:me},Ne!==void 0?{actionData:Ne}:{}),{flushSync:X})}let ae=await Gr(O,D.pathname,P.signal);if(ae.type==="aborted")return{shortCircuited:!0};if(ae.type==="error"){let{error:Ne,notFoundMatches:vt,route:Ce}=rr(D.pathname,ae);return{matches:vt,loaderData:{},errors:{[Ce.id]:Ne}}}else if(ae.matches)O=ae.matches;else{let{error:Ne,notFoundMatches:vt,route:Ce}=jn(D.pathname);return{matches:vt,loaderData:{},errors:{[Ce.id]:Ne}}}}let ge=l||s,[qe,Oe]=tm(t.history,x,O,ue,D,p.v7_partialHydration&&ie===!0,p.unstable_skipActionErrorRevalidation,Te,Mt,Tn,Ze,de,pe,ge,u,oe);if(qr(ae=>!(O&&O.some(Ne=>Ne.route.id===ae))||qe&&qe.some(Ne=>Ne.route.id===ae)),te=++K,qe.length===0&&Oe.length===0){let ae=Pi();return Sn(D,je({matches:O,loaderData:{},errors:oe&&Kt(oe[1])?{[oe[0]]:oe[1].error}:null},lm(oe),ae?{fetchers:new Map(x.fetchers)}:{}),{flushSync:X}),{shortCircuited:!0}}if(Ie){let ae={};if(!j){ae.navigation=me;let Ne=No(oe);Ne!==void 0&&(ae.actionData=Ne)}Oe.length>0&&(ae.fetchers=Vo(Oe)),ot(ae,{flushSync:X})}Oe.forEach(ae=>{Se.has(ae.key)&&un(ae.key),ae.controller&&Se.set(ae.key,ae.controller)});let or=()=>Oe.forEach(ae=>un(ae.key));_&&_.signal.addEventListener("abort",or);let{loaderResults:cn,fetcherResults:sr}=await et(x.matches,O,qe,Oe,P);if(P.signal.aborted)return{shortCircuited:!0};_&&_.signal.removeEventListener("abort",or),Oe.forEach(ae=>Se.delete(ae.key));let hn=cm([...cn,...sr]);if(hn){if(hn.idx>=qe.length){let ae=Oe[hn.idx-qe.length].key;pe.add(ae)}return await Un(P,hn.result,{replace:G}),{shortCircuited:!0}}let{loaderData:zn,errors:Ot}=sm(x,O,qe,cn,oe,Oe,sr,ut);ut.forEach((ae,Ne)=>{ae.subscribe(vt=>{(vt||ae.done)&&ut.delete(Ne)})}),p.v7_partialHydration&&ie&&x.errors&&Object.entries(x.errors).filter(ae=>{let[Ne]=ae;return!qe.some(vt=>vt.route.id===Ne)}).forEach(ae=>{let[Ne,vt]=ae;Ot=Object.assign(Ot||{},{[Ne]:vt})});let Rn=Pi(),en=ma(te),ar=Rn||en||Oe.length>0;return je({matches:O,loaderData:zn,errors:Ot},ar?{fetchers:new Map(x.fetchers)}:{})}function No(P){if(P&&!Kt(P[1]))return{[P[0]]:P[1].data};if(x.actionData)return Object.keys(x.actionData).length===0?null:x.actionData}function Vo(P){return P.forEach(D=>{let O=x.fetchers.get(D.key),j=rs(void 0,O?O.data:void 0);x.fetchers.set(D.key,j)}),new Map(x.fetchers)}function pa(P,D,O,j){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Se.has(P)&&un(P);let W=(j&&j.unstable_flushSync)===!0,Y=l||s,ee=ph(x.location,x.matches,u,p.v7_prependBasename,O,p.v7_relativeSplatPath,D,j==null?void 0:j.relative),G=Jr(Y,ee,u),ie=ir(G,Y,ee);if(ie.active&&ie.matches&&(G=ie.matches),!G){Zt(P,D,kt(404,{pathname:ee}),{flushSync:W});return}let{path:X,submission:oe,error:me}=em(p.v7_normalizeFormMethod,!0,ee,j);if(me){Zt(P,D,me,{flushSync:W});return}let ue=cs(G,X);if(y=(j&&j.preventScrollReset)===!0,oe&&gn(oe.formMethod)){ku(P,D,X,ue,G,ie.active,W,oe);return}de.set(P,{routeId:D,path:X}),Lo(P,D,X,ue,G,ie.active,W,oe)}async function ku(P,D,O,j,W,Y,ee,G){tt(),de.delete(P);function ie(Ce){if(!Ce.route.action&&!Ce.route.lazy){let Ht=kt(405,{method:G.formMethod,pathname:O,routeId:D});return Zt(P,D,Ht,{flushSync:ee}),!0}return!1}if(!Y&&ie(j))return;let X=x.fetchers.get(P);$t(P,uT(G,X),{flushSync:ee});let oe=new AbortController,me=Oi(t.history,O,oe.signal,G);if(Y){let Ce=await Gr(W,O,me.signal);if(Ce.type==="aborted")return;if(Ce.type==="error"){let{error:Ht}=rr(O,Ce);Zt(P,D,Ht,{flushSync:ee});return}else if(Ce.matches){if(W=Ce.matches,j=cs(W,O),ie(j))return}else{Zt(P,D,kt(404,{pathname:O}),{flushSync:ee});return}}Se.set(P,oe);let ue=K,ge=(await nr("action",me,[j],W))[0];if(me.signal.aborted){Se.get(P)===oe&&Se.delete(P);return}if(p.v7_fetcherPersist&&Ze.has(P)){if(ri(ge)||Kt(ge)){$t(P,hr(void 0));return}}else{if(ri(ge))if(Se.delete(P),te>ue){$t(P,hr(void 0));return}else return pe.add(P),$t(P,rs(G)),Un(me,ge,{fetcherSubmission:G});if(Kt(ge)){Zt(P,D,ge.error);return}}if(ni(ge))throw kt(400,{type:"defer-action"});let qe=x.navigation.location||x.location,Oe=Oi(t.history,qe,oe.signal),or=l||s,cn=x.navigation.state!=="idle"?Jr(or,x.navigation.location,u):x.matches;ce(cn,"Didn't find any matches after fetcher action");let sr=++K;re.set(P,sr);let hn=rs(G,ge.data);x.fetchers.set(P,hn);let[zn,Ot]=tm(t.history,x,cn,G,qe,!1,p.unstable_skipActionErrorRevalidation,Te,Mt,Tn,Ze,de,pe,or,u,[j.route.id,ge]);Ot.filter(Ce=>Ce.key!==P).forEach(Ce=>{let Ht=Ce.key,Di=x.fetchers.get(Ht),ga=rs(void 0,Di?Di.data:void 0);x.fetchers.set(Ht,ga),Se.has(Ht)&&un(Ht),Ce.controller&&Se.set(Ht,Ce.controller)}),ot({fetchers:new Map(x.fetchers)});let Rn=()=>Ot.forEach(Ce=>un(Ce.key));oe.signal.addEventListener("abort",Rn);let{loaderResults:en,fetcherResults:ar}=await et(x.matches,cn,zn,Ot,Oe);if(oe.signal.aborted)return;oe.signal.removeEventListener("abort",Rn),re.delete(P),Se.delete(P),Ot.forEach(Ce=>Se.delete(Ce.key));let ae=cm([...en,...ar]);if(ae){if(ae.idx>=zn.length){let Ce=Ot[ae.idx-zn.length].key;pe.add(Ce)}return Un(Oe,ae.result)}let{loaderData:Ne,errors:vt}=sm(x,x.matches,zn,en,void 0,Ot,ar,ut);if(x.fetchers.has(P)){let Ce=hr(ge.data);x.fetchers.set(P,Ce)}ma(sr),x.navigation.state==="loading"&&sr>te?(ce(E,"Expected pending action"),_&&_.abort(),Sn(x.navigation.location,{matches:cn,loaderData:Ne,errors:vt,fetchers:new Map(x.fetchers)})):(ot({errors:vt,loaderData:am(x.loaderData,Ne,cn,vt),fetchers:new Map(x.fetchers)}),Te=!1)}async function Lo(P,D,O,j,W,Y,ee,G){let ie=x.fetchers.get(P);$t(P,rs(G,ie?ie.data:void 0),{flushSync:ee});let X=new AbortController,oe=Oi(t.history,O,X.signal);if(Y){let ge=await Gr(W,O,oe.signal);if(ge.type==="aborted")return;if(ge.type==="error"){let{error:qe}=rr(O,ge);Zt(P,D,qe,{flushSync:ee});return}else if(ge.matches)W=ge.matches,j=cs(W,O);else{Zt(P,D,kt(404,{pathname:O}),{flushSync:ee});return}}Se.set(P,X);let me=K,Ie=(await nr("loader",oe,[j],W))[0];if(ni(Ie)&&(Ie=await Bv(Ie,oe.signal,!0)||Ie),Se.get(P)===X&&Se.delete(P),!oe.signal.aborted){if(Ze.has(P)){$t(P,hr(void 0));return}if(ri(Ie))if(te>me){$t(P,hr(void 0));return}else{pe.add(P),await Un(oe,Ie);return}if(Kt(Ie)){Zt(P,D,Ie.error);return}ce(!ni(Ie),"Unhandled fetcher deferred data"),$t(P,hr(Ie.data))}}async function Un(P,D,O){let{submission:j,fetcherSubmission:W,replace:Y}=O===void 0?{}:O;D.response.headers.has("X-Remix-Revalidate")&&(Te=!0);let ee=D.response.headers.get("Location");ce(ee,"Expected a Location header on the redirect Response"),ee=im(ee,new URL(P.url),u);let G=Gs(x.location,ee,{_isRedirect:!0});if(n){let Ie=!1;if(D.response.headers.has("X-Remix-Reload-Document"))Ie=!0;else if(Ld.test(ee)){const ge=t.history.createURL(ee);Ie=ge.origin!==e.location.origin||Co(ge.pathname,u)==null}if(Ie){Y?e.location.replace(ee):e.location.assign(ee);return}}_=null;let ie=Y===!0?Qe.Replace:Qe.Push,{formMethod:X,formAction:oe,formEncType:me}=x.navigation;!j&&!W&&X&&oe&&me&&(j=dm(x.navigation));let ue=j||W;if($1.has(D.response.status)&&ue&&gn(ue.formMethod))await In(ie,G,{submission:je({},ue,{formAction:ee}),preventScrollReset:y});else{let Ie=cc(G,j);await In(ie,G,{overrideNavigation:Ie,fetcherSubmission:W,preventScrollReset:y})}}async function nr(P,D,O,j){try{let W=await J1(h,P,D,O,j,o,i);return await Promise.all(W.map((Y,ee)=>{if(oT(Y)){let G=Y.result;return{type:xe.redirect,response:tT(G,D,O[ee].route.id,j,u,p.v7_relativeSplatPath)}}return eT(Y)}))}catch(W){return O.map(()=>({type:xe.error,error:W}))}}async function et(P,D,O,j,W){let[Y,...ee]=await Promise.all([O.length?nr("loader",W,O,D):[],...j.map(G=>{if(G.matches&&G.match&&G.controller){let ie=Oi(t.history,G.path,G.controller.signal);return nr("loader",ie,[G.match],G.matches).then(X=>X[0])}else return Promise.resolve({type:xe.error,error:kt(404,{pathname:G.path})})})]);return await Promise.all([hm(P,O,Y,Y.map(()=>W.signal),!1,x.loaderData),hm(P,j.map(G=>G.match),ee,j.map(G=>G.controller?G.controller.signal:null),!0)]),{loaderResults:Y,fetcherResults:ee}}function tt(){Te=!0,Mt.push(...qr()),de.forEach((P,D)=>{Se.has(D)&&(Tn.push(D),un(D))})}function $t(P,D,O){O===void 0&&(O={}),x.fetchers.set(P,D),ot({fetchers:new Map(x.fetchers)},{flushSync:(O&&O.flushSync)===!0})}function Zt(P,D,O,j){j===void 0&&(j={});let W=Is(x.matches,D);Ai(P),ot({errors:{[W.route.id]:O},fetchers:new Map(x.fetchers)},{flushSync:(j&&j.flushSync)===!0})}function Mo(P){return p.v7_fetcherPersist&&(Pe.set(P,(Pe.get(P)||0)+1),Ze.has(P)&&Ze.delete(P)),x.fetchers.get(P)||H1}function Ai(P){let D=x.fetchers.get(P);Se.has(P)&&!(D&&D.state==="loading"&&re.has(P))&&un(P),de.delete(P),re.delete(P),pe.delete(P),Ze.delete(P),x.fetchers.delete(P)}function $r(P){if(p.v7_fetcherPersist){let D=(Pe.get(P)||0)-1;D<=0?(Pe.delete(P),Ze.add(P)):Pe.set(P,D)}else Ai(P);ot({fetchers:new Map(x.fetchers)})}function un(P){let D=Se.get(P);ce(D,"Expected fetch controller: "+P),D.abort(),Se.delete(P)}function Oo(P){for(let D of P){let O=Mo(D),j=hr(O.data);x.fetchers.set(D,j)}}function Pi(){let P=[],D=!1;for(let O of pe){let j=x.fetchers.get(O);ce(j,"Expected fetcher: "+O),j.state==="loading"&&(pe.delete(O),P.push(O),D=!0)}return Oo(P),D}function ma(P){let D=[];for(let[O,j]of re)if(j<P){let W=x.fetchers.get(O);ce(W,"Expected fetcher: "+O),W.state==="loading"&&(un(O),re.delete(O),D.push(O))}return Oo(D),D.length>0}function xu(P,D){let O=x.blockers.get(P)||ns;return ct.get(P)!==D&&ct.set(P,D),O}function ki(P){x.blockers.delete(P),ct.delete(P)}function Hr(P,D){let O=x.blockers.get(P)||ns;ce(O.state==="unblocked"&&D.state==="blocked"||O.state==="blocked"&&D.state==="blocked"||O.state==="blocked"&&D.state==="proceeding"||O.state==="blocked"&&D.state==="unblocked"||O.state==="proceeding"&&D.state==="unblocked","Invalid blocker state transition: "+O.state+" -> "+D.state);let j=new Map(x.blockers);j.set(P,D),ot({blockers:j})}function Fo(P){let{currentLocation:D,nextLocation:O,historyAction:j}=P;if(ct.size===0)return;ct.size>1&&mo(!1,"A router only supports one blocker at a time");let W=Array.from(ct.entries()),[Y,ee]=W[W.length-1],G=x.blockers.get(Y);if(!(G&&G.state==="proceeding")&&ee({currentLocation:D,nextLocation:O,historyAction:j}))return Y}function jn(P){let D=kt(404,{pathname:P}),O=l||s,{matches:j,route:W}=um(O);return qr(),{notFoundMatches:j,route:W,error:D}}function rr(P,D){let O=D.partialMatches,j=O[O.length-1].route,W=kt(400,{type:"route-discovery",routeId:j.id,pathname:P,message:D.error!=null&&"message"in D.error?D.error:String(D.error)});return{notFoundMatches:O,route:j,error:W}}function qr(P){let D=[];return ut.forEach((O,j)=>{(!P||P(j))&&(O.cancel(),D.push(j),ut.delete(j))}),D}function bn(P,D,O){if(A=P,V=D,k=O||null,!w&&x.navigation===uc){w=!0;let j=jo(x.location,x.matches);j!=null&&ot({restoreScrollPosition:j})}return()=>{A=null,V=null,k=null}}function Uo(P,D){return k&&k(P,D.map(j=>E1(j,x.loaderData)))||P.key}function xi(P,D){if(A&&V){let O=Uo(P,D);A[O]=V()}}function jo(P,D){if(A){let O=Uo(P,D),j=A[O];if(typeof j=="number")return j}return null}function ir(P,D,O){if(f)if(P){if(P[P.length-1].route.path==="*")return{active:!0,matches:al(D,O,u,!0)}}else return{active:!0,matches:al(D,O,u,!0)||[]};return{active:!1,matches:null}}async function Gr(P,D,O){let j=P,W=j.length>0?j[j.length-1].route:null;for(;;){try{await Y1(f,D,j,s||l,o,i,ln,O)}catch(X){return{type:"error",error:X,partialMatches:j}}if(O.aborted)return{type:"aborted"};let Y=l||s,ee=Jr(Y,D,u),G=!1;if(ee){let X=ee[ee.length-1].route;if(X.index)return{type:"success",matches:ee};if(X.path&&X.path.length>0)if(X.path==="*")G=!0;else return{type:"success",matches:ee}}let ie=al(Y,D,u,!0);if(!ie||j.map(X=>X.route.id).join("-")===ie.map(X=>X.route.id).join("-"))return{type:"success",matches:G?ee:null};if(j=ie,W=j[j.length-1].route,W.path==="*")return{type:"success",matches:j}}}function ht(P){o={},l=Ks(P,i,void 0,o)}return b={get basename(){return u},get future(){return p},get state(){return x},get routes(){return s},get window(){return e},initialize:Cu,subscribe:Ri,enableScrollRestoration:bn,navigate:Ci,fetch:pa,revalidate:Do,createHref:P=>t.history.createHref(P),encodeLocation:P=>t.history.encodeLocation(P),getFetcher:Mo,deleteFetcher:$r,dispose:Ii,getBlocker:xu,deleteBlocker:ki,patchRoutes(P,D){return jv(P,D,s||l,o,i)},_internalFetchControllers:Se,_internalActiveDeferreds:ut,_internalSetRoutes:ht},b}function K1(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function ph(t,e,n,r,i,o,s,l){let u,h;if(s){u=[];for(let p of e)if(u.push(p),p.route.id===s){h=p;break}}else u=e,h=e[e.length-1];let f=Nd(i||".",Dd(u,o),Co(t.pathname,n)||t.pathname,l==="path");return i==null&&(f.search=t.search,f.hash=t.hash),(i==null||i===""||i===".")&&h&&h.route.index&&!Md(f.search)&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(f.pathname=f.pathname==="/"?n:Qn([n,f.pathname])),pi(f)}function em(t,e,n,r){if(!r||!K1(r))return{path:n};if(r.formMethod&&!aT(r.formMethod))return{path:n,error:kt(405,{method:r.formMethod})};let i=()=>({path:n,error:kt(400,{type:"invalid-body"})}),o=r.formMethod||"get",s=t?o.toUpperCase():o.toLowerCase(),l=bv(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!gn(s))return i();let m=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((R,A)=>{let[k,V]=A;return""+R+k+"="+V+`
`},""):String(r.body);return{path:n,submission:{formMethod:s,formAction:l,formEncType:r.formEncType,formData:void 0,json:void 0,text:m}}}else if(r.formEncType==="application/json"){if(!gn(s))return i();try{let m=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:s,formAction:l,formEncType:r.formEncType,formData:void 0,json:m,text:void 0}}}catch{return i()}}}ce(typeof FormData=="function","FormData is not available in this environment");let u,h;if(r.formData)u=mh(r.formData),h=r.formData;else if(r.body instanceof FormData)u=mh(r.body),h=r.body;else if(r.body instanceof URLSearchParams)u=r.body,h=om(u);else if(r.body==null)u=new URLSearchParams,h=new FormData;else try{u=new URLSearchParams(r.body),h=om(u)}catch{return i()}let f={formMethod:s,formAction:l,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:h,json:void 0,text:void 0};if(gn(f.formMethod))return{path:n,submission:f};let p=Br(n);return e&&p.search&&Md(p.search)&&u.append("index",""),p.search="?"+u,{path:pi(p),submission:f}}function W1(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function tm(t,e,n,r,i,o,s,l,u,h,f,p,m,R,A,k){let V=k?Kt(k[1])?k[1].error:k[1].data:void 0,w=t.createURL(e.location),v=t.createURL(i),I=k&&Kt(k[1])?k[0]:void 0,M=I?W1(n,I):n,b=k?k[1].statusCode:void 0,x=s&&b&&b>=400,E=M.filter((_,S)=>{let{route:C}=_;if(C.lazy)return!0;if(C.loader==null)return!1;if(o)return typeof C.loader!="function"||C.loader.hydrate?!0:e.loaderData[C.id]===void 0&&(!e.errors||e.errors[C.id]===void 0);if(Q1(e.loaderData,e.matches[S],_)||u.some(Te=>Te===_.route.id))return!0;let N=e.matches[S],T=_;return nm(_,je({currentUrl:w,currentParams:N.params,nextUrl:v,nextParams:T.params},r,{actionResult:V,unstable_actionStatus:b,defaultShouldRevalidate:x?!1:l||w.pathname+w.search===v.pathname+v.search||w.search!==v.search||Uv(N,T)}))}),y=[];return p.forEach((_,S)=>{if(o||!n.some(Mt=>Mt.route.id===_.routeId)||f.has(S))return;let C=Jr(R,_.path,A);if(!C){y.push({key:S,routeId:_.routeId,path:_.path,matches:null,match:null,controller:null});return}let N=e.fetchers.get(S),T=cs(C,_.path),Te=!1;m.has(S)?Te=!1:h.includes(S)?Te=!0:N&&N.state!=="idle"&&N.data===void 0?Te=l:Te=nm(T,je({currentUrl:w,currentParams:e.matches[e.matches.length-1].params,nextUrl:v,nextParams:n[n.length-1].params},r,{actionResult:V,unstable_actionStatus:b,defaultShouldRevalidate:x?!1:l})),Te&&y.push({key:S,routeId:_.routeId,path:_.path,matches:C,match:T,controller:new AbortController})}),[E,y]}function Q1(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function Uv(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function nm(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function Y1(t,e,n,r,i,o,s,l){let u=[e,...n.map(h=>h.route.id)].join("-");try{let h=s.get(u);h||(h=t({path:e,matches:n,patch:(f,p)=>{l.aborted||jv(f,p,r,i,o)}}),s.set(u,h)),h&&iT(h)&&await h}finally{s.delete(u)}}function jv(t,e,n,r,i){if(t){var o;let s=r[t];ce(s,"No route found to patch children into: routeId = "+t);let l=Ks(e,i,[t,"patch",String(((o=s.children)==null?void 0:o.length)||"0")],r);s.children?s.children.push(...l):s.children=l}else{let s=Ks(e,i,["patch",String(n.length||"0")],r);n.push(...s)}}async function rm(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];ce(i,"No route found in manifest");let o={};for(let s in r){let u=i[s]!==void 0&&s!=="hasErrorBoundary";mo(!u,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!u&&!_1.has(s)&&(o[s]=r[s])}Object.assign(i,o),Object.assign(i,je({},e(i),{lazy:void 0}))}function X1(t){return Promise.all(t.matches.map(e=>e.resolve()))}async function J1(t,e,n,r,i,o,s,l){let u=r.reduce((p,m)=>p.add(m.route.id),new Set),h=new Set,f=await t({matches:i.map(p=>{let m=u.has(p.route.id);return je({},p,{shouldLoad:m,resolve:A=>(h.add(p.route.id),m?Z1(e,n,p,o,s,A,l):Promise.resolve({type:xe.data,result:void 0}))})}),request:n,params:i[0].params,context:l});return i.forEach(p=>ce(h.has(p.route.id),'`match.resolve()` was not called for route id "'+p.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),f.filter((p,m)=>u.has(i[m].route.id))}async function Z1(t,e,n,r,i,o,s){let l,u,h=f=>{let p,m=new Promise((k,V)=>p=V);u=()=>p(),e.signal.addEventListener("abort",u);let R=k=>typeof f!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):f({request:e,params:n.params,context:s},...k!==void 0?[k]:[]),A;return o?A=o(k=>R(k)):A=(async()=>{try{return{type:"data",result:await R()}}catch(k){return{type:"error",result:k}}})(),Promise.race([A,m])};try{let f=n.route[t];if(n.route.lazy)if(f){let p,[m]=await Promise.all([h(f).catch(R=>{p=R}),rm(n.route,i,r)]);if(p!==void 0)throw p;l=m}else if(await rm(n.route,i,r),f=n.route[t],f)l=await h(f);else if(t==="action"){let p=new URL(e.url),m=p.pathname+p.search;throw kt(405,{method:e.method,pathname:m,routeId:n.route.id})}else return{type:xe.data,result:void 0};else if(f)l=await h(f);else{let p=new URL(e.url),m=p.pathname+p.search;throw kt(404,{pathname:m})}ce(l.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(f){return{type:xe.error,result:f}}finally{u&&e.signal.removeEventListener("abort",u)}return l}async function eT(t){let{result:e,type:n,status:r}=t;if(zv(e)){let s;try{let l=e.headers.get("Content-Type");l&&/\bapplication\/json\b/.test(l)?e.body==null?s=null:s=await e.json():s=await e.text()}catch(l){return{type:xe.error,error:l}}return n===xe.error?{type:xe.error,error:new Vd(e.status,e.statusText,s),statusCode:e.status,headers:e.headers}:{type:xe.data,data:s,statusCode:e.status,headers:e.headers}}if(n===xe.error)return{type:xe.error,error:e,statusCode:hu(e)?e.status:r};if(sT(e)){var i,o;return{type:xe.deferred,deferredData:e,statusCode:(i=e.init)==null?void 0:i.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}return{type:xe.data,data:e,statusCode:r}}function tT(t,e,n,r,i,o){let s=t.headers.get("Location");if(ce(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!Ld.test(s)){let l=r.slice(0,r.findIndex(u=>u.route.id===n)+1);s=ph(new URL(e.url),l,i,!0,s,o),t.headers.set("Location",s)}return t}function im(t,e,n){if(Ld.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=Co(i.pathname,n)!=null;if(i.origin===e.origin&&o)return i.pathname+i.search+i.hash}return t}function Oi(t,e,n,r){let i=t.createURL(bv(e)).toString(),o={signal:n};if(r&&gn(r.formMethod)){let{formMethod:s,formEncType:l}=r;o.method=s.toUpperCase(),l==="application/json"?(o.headers=new Headers({"Content-Type":l}),o.body=JSON.stringify(r.json)):l==="text/plain"?o.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?o.body=mh(r.formData):o.body=r.formData}return new Request(i,o)}function mh(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function om(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function nT(t,e,n,r,i,o){let s={},l=null,u,h=!1,f={},p=r&&Kt(r[1])?r[1].error:void 0;return n.forEach((m,R)=>{let A=e[R].route.id;if(ce(!ri(m),"Cannot handle redirect results in processLoaderData"),Kt(m)){let k=m.error;p!==void 0&&(k=p,p=void 0),l=l||{};{let V=Is(t,A);l[V.route.id]==null&&(l[V.route.id]=k)}s[A]=void 0,h||(h=!0,u=hu(m.error)?m.error.status:500),m.headers&&(f[A]=m.headers)}else ni(m)?(i.set(A,m.deferredData),s[A]=m.deferredData.data,m.statusCode!=null&&m.statusCode!==200&&!h&&(u=m.statusCode),m.headers&&(f[A]=m.headers)):(s[A]=m.data,m.statusCode&&m.statusCode!==200&&!h&&(u=m.statusCode),m.headers&&(f[A]=m.headers))}),p!==void 0&&r&&(l={[r[0]]:p},s[r[0]]=void 0),{loaderData:s,errors:l,statusCode:u||200,loaderHeaders:f}}function sm(t,e,n,r,i,o,s,l){let{loaderData:u,errors:h}=nT(e,n,r,i,l);for(let f=0;f<o.length;f++){let{key:p,match:m,controller:R}=o[f];ce(s!==void 0&&s[f]!==void 0,"Did not find corresponding fetcher result");let A=s[f];if(!(R&&R.signal.aborted))if(Kt(A)){let k=Is(t.matches,m==null?void 0:m.route.id);h&&h[k.route.id]||(h=je({},h,{[k.route.id]:A.error})),t.fetchers.delete(p)}else if(ri(A))ce(!1,"Unhandled fetcher revalidation redirect");else if(ni(A))ce(!1,"Unhandled fetcher deferred data");else{let k=hr(A.data);t.fetchers.set(p,k)}}return{loaderData:u,errors:h}}function am(t,e,n,r){let i=je({},e);for(let o of n){let s=o.route.id;if(e.hasOwnProperty(s)?e[s]!==void 0&&(i[s]=e[s]):t[s]!==void 0&&o.route.loader&&(i[s]=t[s]),r&&r.hasOwnProperty(s))break}return i}function lm(t){return t?Kt(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Is(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function um(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function kt(t,e){let{pathname:n,routeId:r,method:i,type:o,message:s}=e===void 0?{}:e,l="Unknown Server Error",u="Unknown @remix-run/router error";return t===400?(l="Bad Request",o==="route-discovery"?u='Unable to match URL "'+n+'" - the `children()` function for '+("route `"+r+"` threw the following error:\n"+s):i&&n&&r?u="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?u="defer() is not supported in actions":o==="invalid-body"&&(u="Unable to encode submission body")):t===403?(l="Forbidden",u='Route "'+r+'" does not match URL "'+n+'"'):t===404?(l="Not Found",u='No route matches URL "'+n+'"'):t===405&&(l="Method Not Allowed",i&&n&&r?u="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(u='Invalid request method "'+i.toUpperCase()+'"')),new Vd(t||500,l,new Error(u),!0)}function cm(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(ri(n))return{result:n,idx:e}}}function bv(t){let e=typeof t=="string"?Br(t):t;return pi(je({},e,{hash:""}))}function rT(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function iT(t){return typeof t=="object"&&t!=null&&"then"in t}function oT(t){return zv(t.result)&&B1.has(t.result.status)}function ni(t){return t.type===xe.deferred}function Kt(t){return t.type===xe.error}function ri(t){return(t&&t.type)===xe.redirect}function sT(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function zv(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function aT(t){return z1.has(t.toLowerCase())}function gn(t){return j1.has(t.toLowerCase())}async function hm(t,e,n,r,i,o){for(let s=0;s<n.length;s++){let l=n[s],u=e[s];if(!u)continue;let h=t.find(p=>p.route.id===u.route.id),f=h!=null&&!Uv(h,u)&&(o&&o[u.route.id])!==void 0;if(ni(l)&&(i||f)){let p=r[s];ce(p,"Expected an AbortSignal for revalidating fetcher deferred result"),await Bv(l,p,i).then(m=>{m&&(n[s]=m||n[s])})}}}async function Bv(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:xe.data,data:t.deferredData.unwrappedData}}catch(i){return{type:xe.error,error:i}}return{type:xe.data,data:t.deferredData.data}}}function Md(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function cs(t,e){let n=typeof e=="string"?Br(e).search:e.search;if(t[t.length-1].route.index&&Md(n||""))return t[t.length-1];let r=Mv(t);return r[r.length-1]}function dm(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:o,json:s}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(s!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function cc(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function lT(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function rs(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function uT(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function hr(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function cT(t,e){try{let n=t.sessionStorage.getItem(Fv);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(i,new Set(o||[]))}}catch{}}function hT(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(Fv,JSON.stringify(n))}catch(r){mo(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.24.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fl(){return Fl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fl.apply(this,arguments)}const du=U.createContext(null),$v=U.createContext(null),Ei=U.createContext(null),Od=U.createContext(null),Ti=U.createContext({outlet:null,matches:[],isDataRoute:!1}),Hv=U.createContext(null);function dT(t,e){let{relative:n}=e===void 0?{}:e;la()||ce(!1);let{basename:r,navigator:i}=U.useContext(Ei),{hash:o,pathname:s,search:l}=Gv(t,{relative:n}),u=s;return r!=="/"&&(u=s==="/"?r:Qn([r,s])),i.createHref({pathname:u,search:l,hash:o})}function la(){return U.useContext(Od)!=null}function fu(){return la()||ce(!1),U.useContext(Od).location}function qv(t){U.useContext(Ei).static||U.useLayoutEffect(t)}function fT(){let{isDataRoute:t}=U.useContext(Ti);return t?RT():pT()}function pT(){la()||ce(!1);let t=U.useContext(du),{basename:e,future:n,navigator:r}=U.useContext(Ei),{matches:i}=U.useContext(Ti),{pathname:o}=fu(),s=JSON.stringify(Dd(i,n.v7_relativeSplatPath)),l=U.useRef(!1);return qv(()=>{l.current=!0}),U.useCallback(function(h,f){if(f===void 0&&(f={}),!l.current)return;if(typeof h=="number"){r.go(h);return}let p=Nd(h,JSON.parse(s),o,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Qn([e,p.pathname])),(f.replace?r.replace:r.push)(p,f.state,f)},[e,r,s,o,t])}function Gv(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=U.useContext(Ei),{matches:i}=U.useContext(Ti),{pathname:o}=fu(),s=JSON.stringify(Dd(i,r.v7_relativeSplatPath));return U.useMemo(()=>Nd(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function mT(t,e,n,r){la()||ce(!1);let{navigator:i}=U.useContext(Ei),{matches:o}=U.useContext(Ti),s=o[o.length-1],l=s?s.params:{};s&&s.pathname;let u=s?s.pathnameBase:"/";s&&s.route;let h=fu(),f;f=h;let p=f.pathname||"/",m=p;if(u!=="/"){let k=u.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(k.length).join("/")}let R=Jr(t,{pathname:m});return wT(R&&R.map(k=>Object.assign({},k,{params:Object.assign({},l,k.params),pathname:Qn([u,i.encodeLocation?i.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?u:Qn([u,i.encodeLocation?i.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),o,n,r)}function gT(){let t=IT(),e=hu(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:i},n):null,null)}const yT=U.createElement(gT,null);class vT extends U.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?U.createElement(Ti.Provider,{value:this.props.routeContext},U.createElement(Hv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _T(t){let{routeContext:e,match:n,children:r}=t,i=U.useContext(du);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),U.createElement(Ti.Provider,{value:e},r)}function wT(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if((o=n)!=null&&o.errors)t=n.matches;else return null}let s=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let f=s.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);f>=0||ce(!1),s=s.slice(0,Math.min(s.length,f+1))}let u=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<s.length;f++){let p=s[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=f),p.route.id){let{loaderData:m,errors:R}=n,A=p.route.loader&&m[p.route.id]===void 0&&(!R||R[p.route.id]===void 0);if(p.route.lazy||A){u=!0,h>=0?s=s.slice(0,h+1):s=[s[0]];break}}}return s.reduceRight((f,p,m)=>{let R,A=!1,k=null,V=null;n&&(R=l&&p.route.id?l[p.route.id]:void 0,k=p.route.errorElement||yT,u&&(h<0&&m===0?(CT("route-fallback"),A=!0,V=null):h===m&&(A=!0,V=p.route.hydrateFallbackElement||null)));let w=e.concat(s.slice(0,m+1)),v=()=>{let I;return R?I=k:A?I=V:p.route.Component?I=U.createElement(p.route.Component,null):p.route.element?I=p.route.element:I=f,U.createElement(_T,{match:p,routeContext:{outlet:f,matches:w,isDataRoute:n!=null},children:I})};return n&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?U.createElement(vT,{location:n.location,revalidation:n.revalidation,component:k,error:R,children:v(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):v()},null)}var Kv=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Kv||{}),Ul=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Ul||{});function ET(t){let e=U.useContext(du);return e||ce(!1),e}function TT(t){let e=U.useContext($v);return e||ce(!1),e}function ST(t){let e=U.useContext(Ti);return e||ce(!1),e}function Wv(t){let e=ST(),n=e.matches[e.matches.length-1];return n.route.id||ce(!1),n.route.id}function IT(){var t;let e=U.useContext(Hv),n=TT(Ul.UseRouteError),r=Wv(Ul.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function RT(){let{router:t}=ET(Kv.UseNavigateStable),e=Wv(Ul.UseNavigateStable),n=U.useRef(!1);return qv(()=>{n.current=!0}),U.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Fl({fromRouteId:e},o)))},[t,e])}const fm={};function CT(t,e,n){fm[t]||(fm[t]=!0)}function AT(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Qe.Pop,navigator:o,static:s=!1,future:l}=t;la()&&ce(!1);let u=e.replace(/^\/*/,"/"),h=U.useMemo(()=>({basename:u,navigator:o,static:s,future:Fl({v7_relativeSplatPath:!1},l)}),[u,l,o,s]);typeof r=="string"&&(r=Br(r));let{pathname:f="/",search:p="",hash:m="",state:R=null,key:A="default"}=r,k=U.useMemo(()=>{let V=Co(f,u);return V==null?null:{location:{pathname:V,search:p,hash:m,state:R,key:A},navigationType:i}},[u,f,p,m,R,A,i]);return k==null?null:U.createElement(Ei.Provider,{value:h},U.createElement(Od.Provider,{children:n,value:k}))}new Promise(()=>{});function PT(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:U.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:U.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:U.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.24.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ws(){return Ws=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ws.apply(this,arguments)}function kT(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function xT(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function DT(t,e){return t.button===0&&(!e||e==="_self")&&!xT(t)}const NT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],VT="6";try{window.__reactRouterVersion=VT}catch{}function LT(t,e){return G1({basename:void 0,future:Ws({},void 0,{v7_prependBasename:!0}),history:g1({window:void 0}),hydrationData:MT(),routes:t,mapRouteProperties:PT,unstable_dataStrategy:void 0,unstable_patchRoutesOnMiss:void 0,window:void 0}).initialize()}function MT(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Ws({},e,{errors:OT(e.errors)})),e}function OT(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Vd(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let s=new o(i.message);s.stack="",n[r]=s}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}const FT=U.createContext({isTransitioning:!1}),UT=U.createContext(new Map),jT="startTransition",pm=rw[jT],bT="flushSync",mm=m1[bT];function zT(t){pm?pm(t):t()}function is(t){mm?mm(t):t()}let BT=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function $T(t){let{fallbackElement:e,router:n,future:r}=t,[i,o]=U.useState(n.state),[s,l]=U.useState(),[u,h]=U.useState({isTransitioning:!1}),[f,p]=U.useState(),[m,R]=U.useState(),[A,k]=U.useState(),V=U.useRef(new Map),{v7_startTransition:w}=r||{},v=U.useCallback(E=>{w?zT(E):E()},[w]),I=U.useCallback((E,y)=>{let{deletedFetchers:_,unstable_flushSync:S,unstable_viewTransitionOpts:C}=y;_.forEach(T=>V.current.delete(T)),E.fetchers.forEach((T,Te)=>{T.data!==void 0&&V.current.set(Te,T.data)});let N=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!C||N){S?is(()=>o(E)):v(()=>o(E));return}if(S){is(()=>{m&&(f&&f.resolve(),m.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:C.currentLocation,nextLocation:C.nextLocation})});let T=n.window.document.startViewTransition(()=>{is(()=>o(E))});T.finished.finally(()=>{is(()=>{p(void 0),R(void 0),l(void 0),h({isTransitioning:!1})})}),is(()=>R(T));return}m?(f&&f.resolve(),m.skipTransition(),k({state:E,currentLocation:C.currentLocation,nextLocation:C.nextLocation})):(l(E),h({isTransitioning:!0,flushSync:!1,currentLocation:C.currentLocation,nextLocation:C.nextLocation}))},[n.window,m,f,V,v]);U.useLayoutEffect(()=>n.subscribe(I),[n,I]),U.useEffect(()=>{u.isTransitioning&&!u.flushSync&&p(new BT)},[u]),U.useEffect(()=>{if(f&&s&&n.window){let E=s,y=f.promise,_=n.window.document.startViewTransition(async()=>{v(()=>o(E)),await y});_.finished.finally(()=>{p(void 0),R(void 0),l(void 0),h({isTransitioning:!1})}),R(_)}},[v,s,f,n.window]),U.useEffect(()=>{f&&s&&i.location.key===s.location.key&&f.resolve()},[f,m,i.location,s]),U.useEffect(()=>{!u.isTransitioning&&A&&(l(A.state),h({isTransitioning:!0,flushSync:!1,currentLocation:A.currentLocation,nextLocation:A.nextLocation}),k(void 0))},[u.isTransitioning,A]),U.useEffect(()=>{},[]);let M=U.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:E=>n.navigate(E),push:(E,y,_)=>n.navigate(E,{state:y,preventScrollReset:_==null?void 0:_.preventScrollReset}),replace:(E,y,_)=>n.navigate(E,{replace:!0,state:y,preventScrollReset:_==null?void 0:_.preventScrollReset})}),[n]),b=n.basename||"/",x=U.useMemo(()=>({router:n,navigator:M,static:!1,basename:b}),[n,M,b]);return U.createElement(U.Fragment,null,U.createElement(du.Provider,{value:x},U.createElement($v.Provider,{value:i},U.createElement(UT.Provider,{value:V.current},U.createElement(FT.Provider,{value:u},U.createElement(AT,{basename:b,location:i.location,navigationType:i.historyAction,navigator:M,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},i.initialized||n.future.v7_partialHydration?U.createElement(HT,{routes:n.routes,future:n.future,state:i}):e))))),null)}function HT(t){let{routes:e,future:n,state:r}=t;return mT(e,void 0,r,n)}const qT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",GT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ll=U.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:l,target:u,to:h,preventScrollReset:f,unstable_viewTransition:p}=e,m=kT(e,NT),{basename:R}=U.useContext(Ei),A,k=!1;if(typeof h=="string"&&GT.test(h)&&(A=h,qT))try{let I=new URL(window.location.href),M=h.startsWith("//")?new URL(I.protocol+h):new URL(h),b=Co(M.pathname,R);M.origin===I.origin&&b!=null?h=b+M.search+M.hash:k=!0}catch{}let V=dT(h,{relative:i}),w=KT(h,{replace:s,state:l,target:u,preventScrollReset:f,relative:i,unstable_viewTransition:p});function v(I){r&&r(I),I.defaultPrevented||w(I)}return U.createElement("a",Ws({},m,{href:A||V,onClick:k||o?r:v,ref:n,target:u}))});var gm;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(gm||(gm={}));var ym;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(ym||(ym={}));function KT(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:l}=e===void 0?{}:e,u=fT(),h=fu(),f=Gv(t,{relative:s});return U.useCallback(p=>{if(DT(p,n)){p.preventDefault();let m=r!==void 0?r:pi(h)===pi(f);u(t,{replace:m,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:l})}},[h,u,f,r,i,n,t,o,s,l])}const WT=[{name:"Who Am I ?",link:"/who-am-i",description:"description for game mode"},{name:"Guess the result",link:"/guess-the-result",description:"description for game mode"},{name:"Who's missing ?",link:"/who-Is-missing",description:"description for game mode"},{name:"Who has more goals ?",link:"/who-has-more-goals",description:"description for game mode"}],QT=({name:t,link:e,description:n})=>H.jsxs("a",{href:e,className:"border rounded-md flex flex-col ",children:[H.jsx("div",{className:"bg-blue-500 h-1/2",children:"image"}),H.jsxs("div",{className:"flex flex-col justify-between gap-3 p-3",children:[H.jsx("p",{children:n}),H.jsxs("section",{className:"flex justify-around",children:[H.jsx("span",{children:t}),H.jsx("button",{children:"Play"})]})]})]}),YT=()=>H.jsx("div",{className:"grid grid-cols-2 gap-8",children:WT.map(t=>H.jsx("div",{children:H.jsx(QT,{name:t.name,link:t.link,description:t.description})},t.name))}),XT=[{name:"Home",link:"/"},{name:"Games",subItems:[{name:"Who Am I ?",link:"/who-am-i"},{name:"Guess the result",link:"/guess-the-result"},{name:"Who's missing ?",link:"/who-Is-missing"},{name:"Who has more goals ?",link:"/who-has-more-goals"}]},{name:"Contribute",link:"/contribute"}];function JT(){const[t,e]=U.useState(null),n=r=>{e(t===r?null:r)};return H.jsxs("header",{className:"flex gap-40 select-none text-white bg-gradient-to-r from-violet-600 to-indigo-600 py-4 px-3 items-center font-sans ",children:[H.jsx(ll,{to:"/",className:"cursor-pointer text-2xl font-extrabold",children:"FootyQuizMaster"}),H.jsx("nav",{className:"cursor-pointer ",children:H.jsx("ul",{className:"flex gap-20 font-medium",children:XT.map(r=>H.jsxs("li",{className:" hover:duration-300 hover:opacity-75",children:[r.link?H.jsx(ll,{to:r.link,children:r.name}):H.jsx("span",{onClick:()=>n(r.name),children:r.name}),r.subItems&&r.name===t&&H.jsx("ul",{className:"absolute",children:r.subItems.map(i=>H.jsx("li",{children:H.jsx(ll,{to:i.link,children:i.name})},i.name))})]},r.name))})})]})}const ua=({children:t})=>H.jsxs("div",{className:"min-h-screen flex flex-col",children:[H.jsx(JT,{}),H.jsx("main",{className:"container mx-auto flex-grow",children:t})]});function ZT(){return H.jsx(ua,{children:H.jsx(YT,{})})}var vm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},eS=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],l=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Yv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,l=s?t[i+1]:0,u=i+2<t.length,h=u?t[i+2]:0,f=o>>2,p=(o&3)<<4|l>>4;let m=(l&15)<<2|h>>6,R=h&63;u||(R=64,s||(m=64)),r.push(n[f],n[p],n[m],n[R])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Qv(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):eS(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||l==null||h==null||p==null)throw new tS;const m=o<<2|l>>4;if(r.push(m),h!==64){const R=l<<4&240|h>>2;if(r.push(R),p!==64){const A=h<<6&192|p;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class tS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nS=function(t){const e=Qv(t);return Yv.encodeByteArray(e,!0)},jl=function(t){return nS(t).replace(/\./g,"")},rS=function(t){try{return Yv.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS=()=>iS().__FIREBASE_DEFAULTS__,sS=()=>{if(typeof process>"u"||typeof vm>"u")return;const t=vm.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},aS=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&rS(t[1]);return e&&JSON.parse(e)},Fd=()=>{try{return oS()||sS()||aS()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},lS=t=>{var e,n;return(n=(e=Fd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Xv=t=>{const e=lS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Jv=()=>{var t;return(t=Fd())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[jl(JSON.stringify(n)),jl(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hS(){var t;const e=(t=Fd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dS(){return!hS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fS(){try{return typeof indexedDB=="object"}catch{return!1}}function pS(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS="FirebaseError";class Si extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=mS,Object.setPrototypeOf(this,Si.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,e_.prototype.create)}}class e_{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?gS(o,r):"Error",l=`${this.serviceName}: ${s} (${i}).`;return new Si(i,l,r)}}function gS(t,e){return t.replace(yS,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const yS=/\{\$([^}]+)}/g;function gh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(_m(o)&&_m(s)){if(!gh(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function _m(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ud(t){return t&&t._delegate?t._delegate:t}class go{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new uS;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wS(e))try{this.getOrInitializeService({instanceIdentifier:Xr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Xr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xr){return this.instances.has(e)}getOptions(e=Xr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);r===l&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:_S(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Xr){return this.component?this.component.multipleInstances?e:Xr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _S(t){return t===Xr?void 0:t}function wS(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new vS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ye||(ye={}));const TS={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},SS=ye.INFO,IS={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},RS=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=IS[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class t_{constructor(e){this.name=e,this._logLevel=SS,this._logHandler=RS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...e),this._logHandler(this,ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...e),this._logHandler(this,ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...e),this._logHandler(this,ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...e),this._logHandler(this,ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...e),this._logHandler(this,ye.ERROR,...e)}}const CS=(t,e)=>e.some(n=>t instanceof n);let wm,Em;function AS(){return wm||(wm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PS(){return Em||(Em=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const n_=new WeakMap,yh=new WeakMap,r_=new WeakMap,hc=new WeakMap,jd=new WeakMap;function kS(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Pr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&n_.set(n,t)}).catch(()=>{}),jd.set(e,t),e}function xS(t){if(yh.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});yh.set(t,e)}let vh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return yh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||r_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function DS(t){vh=t(vh)}function NS(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(dc(this),e,...n);return r_.set(r,e.sort?e.sort():[e]),Pr(r)}:PS().includes(t)?function(...e){return t.apply(dc(this),e),Pr(n_.get(this))}:function(...e){return Pr(t.apply(dc(this),e))}}function VS(t){return typeof t=="function"?NS(t):(t instanceof IDBTransaction&&xS(t),CS(t,AS())?new Proxy(t,vh):t)}function Pr(t){if(t instanceof IDBRequest)return kS(t);if(hc.has(t))return hc.get(t);const e=VS(t);return e!==t&&(hc.set(t,e),jd.set(e,t)),e}const dc=t=>jd.get(t);function LS(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),l=Pr(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Pr(s.result),u.oldVersion,u.newVersion,Pr(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const MS=["get","getKey","getAll","getAllKeys","count"],OS=["put","add","delete","clear"],fc=new Map;function Tm(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(fc.get(e))return fc.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=OS.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||MS.includes(n)))return;const o=async function(s,...l){const u=this.transaction(s,i?"readwrite":"readonly");let h=u.store;return r&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),i&&u.done]))[0]};return fc.set(e,o),o}DS(t=>({...t,get:(e,n,r)=>Tm(e,n)||t.get(e,n,r),has:(e,n)=>!!Tm(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(US(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function US(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const _h="@firebase/app",Sm="0.10.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mi=new t_("@firebase/app"),jS="@firebase/app-compat",bS="@firebase/analytics-compat",zS="@firebase/analytics",BS="@firebase/app-check-compat",$S="@firebase/app-check",HS="@firebase/auth",qS="@firebase/auth-compat",GS="@firebase/database",KS="@firebase/database-compat",WS="@firebase/functions",QS="@firebase/functions-compat",YS="@firebase/installations",XS="@firebase/installations-compat",JS="@firebase/messaging",ZS="@firebase/messaging-compat",eI="@firebase/performance",tI="@firebase/performance-compat",nI="@firebase/remote-config",rI="@firebase/remote-config-compat",iI="@firebase/storage",oI="@firebase/storage-compat",sI="@firebase/firestore",aI="@firebase/vertexai-preview",lI="@firebase/firestore-compat",uI="firebase",cI="10.12.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh="[DEFAULT]",hI={[_h]:"fire-core",[jS]:"fire-core-compat",[zS]:"fire-analytics",[bS]:"fire-analytics-compat",[$S]:"fire-app-check",[BS]:"fire-app-check-compat",[HS]:"fire-auth",[qS]:"fire-auth-compat",[GS]:"fire-rtdb",[KS]:"fire-rtdb-compat",[WS]:"fire-fn",[QS]:"fire-fn-compat",[YS]:"fire-iid",[XS]:"fire-iid-compat",[JS]:"fire-fcm",[ZS]:"fire-fcm-compat",[eI]:"fire-perf",[tI]:"fire-perf-compat",[nI]:"fire-rc",[rI]:"fire-rc-compat",[iI]:"fire-gcs",[oI]:"fire-gcs-compat",[sI]:"fire-fst",[lI]:"fire-fst-compat",[aI]:"fire-vertex","fire-js":"fire-js",[uI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl=new Map,dI=new Map,Eh=new Map;function Im(t,e){try{t.container.addComponent(e)}catch(n){mi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Qs(t){const e=t.name;if(Eh.has(e))return mi.debug(`There were multiple attempts to register component ${e}.`),!1;Eh.set(e,t);for(const n of bl.values())Im(n,t);for(const n of dI.values())Im(n,t);return!0}function i_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},kr=new e_("app","Firebase",fI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new go("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw kr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_=cI;function s_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:wh,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw kr.create("bad-app-name",{appName:String(i)});if(n||(n=Jv()),!n)throw kr.create("no-options");const o=bl.get(i);if(o){if(gh(n,o.options)&&gh(r,o.config))return o;throw kr.create("duplicate-app",{appName:i})}const s=new ES(i);for(const u of Eh.values())s.addComponent(u);const l=new pI(n,r,s);return bl.set(i,l),l}function a_(t=wh){const e=bl.get(t);if(!e&&t===wh&&Jv())return s_();if(!e)throw kr.create("no-app",{appName:t});return e}function xr(t,e,n){var r;let i=(r=hI[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const l=[`Unable to register library "${i}" with version "${e}":`];o&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mi.warn(l.join(" "));return}Qs(new go(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI="firebase-heartbeat-database",gI=1,Ys="firebase-heartbeat-store";let pc=null;function l_(){return pc||(pc=LS(mI,gI,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ys)}catch(n){console.warn(n)}}}}).catch(t=>{throw kr.create("idb-open",{originalErrorMessage:t.message})})),pc}async function yI(t){try{const n=(await l_()).transaction(Ys),r=await n.objectStore(Ys).get(u_(t));return await n.done,r}catch(e){if(e instanceof Si)mi.warn(e.message);else{const n=kr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});mi.warn(n.message)}}}async function Rm(t,e){try{const r=(await l_()).transaction(Ys,"readwrite");await r.objectStore(Ys).put(e,u_(t)),await r.done}catch(n){if(n instanceof Si)mi.warn(n.message);else{const r=kr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});mi.warn(r.message)}}}function u_(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI=1024,_I=30*24*60*60*1e3;class wI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new TI(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Cm();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const l=new Date(s.date).valueOf();return Date.now()-l<=_I}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Cm(),{heartbeatsToSend:r,unsentEntries:i}=EI(this._heartbeatsCache.heartbeats),o=jl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function Cm(){return new Date().toISOString().substring(0,10)}function EI(t,e=vI){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Am(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Am(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class TI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fS()?pS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await yI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Rm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Rm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Am(t){return jl(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(t){Qs(new go("platform-logger",e=>new FS(e),"PRIVATE")),Qs(new go("heartbeat",e=>new wI(e),"PRIVATE")),xr(_h,Sm,t),xr(_h,Sm,"esm2017"),xr("fire-js","")}SI("");var Pm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ai,c_;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,y){function _(){}_.prototype=y.prototype,E.D=y.prototype,E.prototype=new _,E.prototype.constructor=E,E.C=function(S,C,N){for(var T=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)T[Te-2]=arguments[Te];return y.prototype[C].apply(S,T)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,y,_){_||(_=0);var S=Array(16);if(typeof y=="string")for(var C=0;16>C;++C)S[C]=y.charCodeAt(_++)|y.charCodeAt(_++)<<8|y.charCodeAt(_++)<<16|y.charCodeAt(_++)<<24;else for(C=0;16>C;++C)S[C]=y[_++]|y[_++]<<8|y[_++]<<16|y[_++]<<24;y=E.g[0],_=E.g[1],C=E.g[2];var N=E.g[3],T=y+(N^_&(C^N))+S[0]+3614090360&4294967295;y=_+(T<<7&4294967295|T>>>25),T=N+(C^y&(_^C))+S[1]+3905402710&4294967295,N=y+(T<<12&4294967295|T>>>20),T=C+(_^N&(y^_))+S[2]+606105819&4294967295,C=N+(T<<17&4294967295|T>>>15),T=_+(y^C&(N^y))+S[3]+3250441966&4294967295,_=C+(T<<22&4294967295|T>>>10),T=y+(N^_&(C^N))+S[4]+4118548399&4294967295,y=_+(T<<7&4294967295|T>>>25),T=N+(C^y&(_^C))+S[5]+1200080426&4294967295,N=y+(T<<12&4294967295|T>>>20),T=C+(_^N&(y^_))+S[6]+2821735955&4294967295,C=N+(T<<17&4294967295|T>>>15),T=_+(y^C&(N^y))+S[7]+4249261313&4294967295,_=C+(T<<22&4294967295|T>>>10),T=y+(N^_&(C^N))+S[8]+1770035416&4294967295,y=_+(T<<7&4294967295|T>>>25),T=N+(C^y&(_^C))+S[9]+2336552879&4294967295,N=y+(T<<12&4294967295|T>>>20),T=C+(_^N&(y^_))+S[10]+4294925233&4294967295,C=N+(T<<17&4294967295|T>>>15),T=_+(y^C&(N^y))+S[11]+2304563134&4294967295,_=C+(T<<22&4294967295|T>>>10),T=y+(N^_&(C^N))+S[12]+1804603682&4294967295,y=_+(T<<7&4294967295|T>>>25),T=N+(C^y&(_^C))+S[13]+4254626195&4294967295,N=y+(T<<12&4294967295|T>>>20),T=C+(_^N&(y^_))+S[14]+2792965006&4294967295,C=N+(T<<17&4294967295|T>>>15),T=_+(y^C&(N^y))+S[15]+1236535329&4294967295,_=C+(T<<22&4294967295|T>>>10),T=y+(C^N&(_^C))+S[1]+4129170786&4294967295,y=_+(T<<5&4294967295|T>>>27),T=N+(_^C&(y^_))+S[6]+3225465664&4294967295,N=y+(T<<9&4294967295|T>>>23),T=C+(y^_&(N^y))+S[11]+643717713&4294967295,C=N+(T<<14&4294967295|T>>>18),T=_+(N^y&(C^N))+S[0]+3921069994&4294967295,_=C+(T<<20&4294967295|T>>>12),T=y+(C^N&(_^C))+S[5]+3593408605&4294967295,y=_+(T<<5&4294967295|T>>>27),T=N+(_^C&(y^_))+S[10]+38016083&4294967295,N=y+(T<<9&4294967295|T>>>23),T=C+(y^_&(N^y))+S[15]+3634488961&4294967295,C=N+(T<<14&4294967295|T>>>18),T=_+(N^y&(C^N))+S[4]+3889429448&4294967295,_=C+(T<<20&4294967295|T>>>12),T=y+(C^N&(_^C))+S[9]+568446438&4294967295,y=_+(T<<5&4294967295|T>>>27),T=N+(_^C&(y^_))+S[14]+3275163606&4294967295,N=y+(T<<9&4294967295|T>>>23),T=C+(y^_&(N^y))+S[3]+4107603335&4294967295,C=N+(T<<14&4294967295|T>>>18),T=_+(N^y&(C^N))+S[8]+1163531501&4294967295,_=C+(T<<20&4294967295|T>>>12),T=y+(C^N&(_^C))+S[13]+2850285829&4294967295,y=_+(T<<5&4294967295|T>>>27),T=N+(_^C&(y^_))+S[2]+4243563512&4294967295,N=y+(T<<9&4294967295|T>>>23),T=C+(y^_&(N^y))+S[7]+1735328473&4294967295,C=N+(T<<14&4294967295|T>>>18),T=_+(N^y&(C^N))+S[12]+2368359562&4294967295,_=C+(T<<20&4294967295|T>>>12),T=y+(_^C^N)+S[5]+4294588738&4294967295,y=_+(T<<4&4294967295|T>>>28),T=N+(y^_^C)+S[8]+2272392833&4294967295,N=y+(T<<11&4294967295|T>>>21),T=C+(N^y^_)+S[11]+1839030562&4294967295,C=N+(T<<16&4294967295|T>>>16),T=_+(C^N^y)+S[14]+4259657740&4294967295,_=C+(T<<23&4294967295|T>>>9),T=y+(_^C^N)+S[1]+2763975236&4294967295,y=_+(T<<4&4294967295|T>>>28),T=N+(y^_^C)+S[4]+1272893353&4294967295,N=y+(T<<11&4294967295|T>>>21),T=C+(N^y^_)+S[7]+4139469664&4294967295,C=N+(T<<16&4294967295|T>>>16),T=_+(C^N^y)+S[10]+3200236656&4294967295,_=C+(T<<23&4294967295|T>>>9),T=y+(_^C^N)+S[13]+681279174&4294967295,y=_+(T<<4&4294967295|T>>>28),T=N+(y^_^C)+S[0]+3936430074&4294967295,N=y+(T<<11&4294967295|T>>>21),T=C+(N^y^_)+S[3]+3572445317&4294967295,C=N+(T<<16&4294967295|T>>>16),T=_+(C^N^y)+S[6]+76029189&4294967295,_=C+(T<<23&4294967295|T>>>9),T=y+(_^C^N)+S[9]+3654602809&4294967295,y=_+(T<<4&4294967295|T>>>28),T=N+(y^_^C)+S[12]+3873151461&4294967295,N=y+(T<<11&4294967295|T>>>21),T=C+(N^y^_)+S[15]+530742520&4294967295,C=N+(T<<16&4294967295|T>>>16),T=_+(C^N^y)+S[2]+3299628645&4294967295,_=C+(T<<23&4294967295|T>>>9),T=y+(C^(_|~N))+S[0]+4096336452&4294967295,y=_+(T<<6&4294967295|T>>>26),T=N+(_^(y|~C))+S[7]+1126891415&4294967295,N=y+(T<<10&4294967295|T>>>22),T=C+(y^(N|~_))+S[14]+2878612391&4294967295,C=N+(T<<15&4294967295|T>>>17),T=_+(N^(C|~y))+S[5]+4237533241&4294967295,_=C+(T<<21&4294967295|T>>>11),T=y+(C^(_|~N))+S[12]+1700485571&4294967295,y=_+(T<<6&4294967295|T>>>26),T=N+(_^(y|~C))+S[3]+2399980690&4294967295,N=y+(T<<10&4294967295|T>>>22),T=C+(y^(N|~_))+S[10]+4293915773&4294967295,C=N+(T<<15&4294967295|T>>>17),T=_+(N^(C|~y))+S[1]+2240044497&4294967295,_=C+(T<<21&4294967295|T>>>11),T=y+(C^(_|~N))+S[8]+1873313359&4294967295,y=_+(T<<6&4294967295|T>>>26),T=N+(_^(y|~C))+S[15]+4264355552&4294967295,N=y+(T<<10&4294967295|T>>>22),T=C+(y^(N|~_))+S[6]+2734768916&4294967295,C=N+(T<<15&4294967295|T>>>17),T=_+(N^(C|~y))+S[13]+1309151649&4294967295,_=C+(T<<21&4294967295|T>>>11),T=y+(C^(_|~N))+S[4]+4149444226&4294967295,y=_+(T<<6&4294967295|T>>>26),T=N+(_^(y|~C))+S[11]+3174756917&4294967295,N=y+(T<<10&4294967295|T>>>22),T=C+(y^(N|~_))+S[2]+718787259&4294967295,C=N+(T<<15&4294967295|T>>>17),T=_+(N^(C|~y))+S[9]+3951481745&4294967295,E.g[0]=E.g[0]+y&4294967295,E.g[1]=E.g[1]+(C+(T<<21&4294967295|T>>>11))&4294967295,E.g[2]=E.g[2]+C&4294967295,E.g[3]=E.g[3]+N&4294967295}r.prototype.u=function(E,y){y===void 0&&(y=E.length);for(var _=y-this.blockSize,S=this.B,C=this.h,N=0;N<y;){if(C==0)for(;N<=_;)i(this,E,N),N+=this.blockSize;if(typeof E=="string"){for(;N<y;)if(S[C++]=E.charCodeAt(N++),C==this.blockSize){i(this,S),C=0;break}}else for(;N<y;)if(S[C++]=E[N++],C==this.blockSize){i(this,S),C=0;break}}this.h=C,this.o+=y},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var y=1;y<E.length-8;++y)E[y]=0;var _=8*this.o;for(y=E.length-8;y<E.length;++y)E[y]=_&255,_/=256;for(this.u(E),E=Array(16),y=_=0;4>y;++y)for(var S=0;32>S;S+=8)E[_++]=this.g[y]>>>S&255;return E};function o(E,y){var _=l;return Object.prototype.hasOwnProperty.call(_,E)?_[E]:_[E]=y(E)}function s(E,y){this.h=y;for(var _=[],S=!0,C=E.length-1;0<=C;C--){var N=E[C]|0;S&&N==y||(_[C]=N,S=!1)}this.g=_}var l={};function u(E){return-128<=E&&128>E?o(E,function(y){return new s([y|0],0>y?-1:0)}):new s([E|0],0>E?-1:0)}function h(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return V(h(-E));for(var y=[],_=1,S=0;E>=_;S++)y[S]=E/_|0,_*=4294967296;return new s(y,0)}function f(E,y){if(E.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(E.charAt(0)=="-")return V(f(E.substring(1),y));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=h(Math.pow(y,8)),S=p,C=0;C<E.length;C+=8){var N=Math.min(8,E.length-C),T=parseInt(E.substring(C,C+N),y);8>N?(N=h(Math.pow(y,N)),S=S.j(N).add(h(T))):(S=S.j(_),S=S.add(h(T)))}return S}var p=u(0),m=u(1),R=u(16777216);t=s.prototype,t.m=function(){if(k(this))return-V(this).m();for(var E=0,y=1,_=0;_<this.g.length;_++){var S=this.i(_);E+=(0<=S?S:4294967296+S)*y,y*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(A(this))return"0";if(k(this))return"-"+V(this).toString(E);for(var y=h(Math.pow(E,6)),_=this,S="";;){var C=M(_,y).g;_=w(_,C.j(y));var N=((0<_.g.length?_.g[0]:_.h)>>>0).toString(E);if(_=C,A(_))return N+S;for(;6>N.length;)N="0"+N;S=N+S}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function A(E){if(E.h!=0)return!1;for(var y=0;y<E.g.length;y++)if(E.g[y]!=0)return!1;return!0}function k(E){return E.h==-1}t.l=function(E){return E=w(this,E),k(E)?-1:A(E)?0:1};function V(E){for(var y=E.g.length,_=[],S=0;S<y;S++)_[S]=~E.g[S];return new s(_,~E.h).add(m)}t.abs=function(){return k(this)?V(this):this},t.add=function(E){for(var y=Math.max(this.g.length,E.g.length),_=[],S=0,C=0;C<=y;C++){var N=S+(this.i(C)&65535)+(E.i(C)&65535),T=(N>>>16)+(this.i(C)>>>16)+(E.i(C)>>>16);S=T>>>16,N&=65535,T&=65535,_[C]=T<<16|N}return new s(_,_[_.length-1]&-2147483648?-1:0)};function w(E,y){return E.add(V(y))}t.j=function(E){if(A(this)||A(E))return p;if(k(this))return k(E)?V(this).j(V(E)):V(V(this).j(E));if(k(E))return V(this.j(V(E)));if(0>this.l(R)&&0>E.l(R))return h(this.m()*E.m());for(var y=this.g.length+E.g.length,_=[],S=0;S<2*y;S++)_[S]=0;for(S=0;S<this.g.length;S++)for(var C=0;C<E.g.length;C++){var N=this.i(S)>>>16,T=this.i(S)&65535,Te=E.i(C)>>>16,Mt=E.i(C)&65535;_[2*S+2*C]+=T*Mt,v(_,2*S+2*C),_[2*S+2*C+1]+=N*Mt,v(_,2*S+2*C+1),_[2*S+2*C+1]+=T*Te,v(_,2*S+2*C+1),_[2*S+2*C+2]+=N*Te,v(_,2*S+2*C+2)}for(S=0;S<y;S++)_[S]=_[2*S+1]<<16|_[2*S];for(S=y;S<2*y;S++)_[S]=0;return new s(_,0)};function v(E,y){for(;(E[y]&65535)!=E[y];)E[y+1]+=E[y]>>>16,E[y]&=65535,y++}function I(E,y){this.g=E,this.h=y}function M(E,y){if(A(y))throw Error("division by zero");if(A(E))return new I(p,p);if(k(E))return y=M(V(E),y),new I(V(y.g),V(y.h));if(k(y))return y=M(E,V(y)),new I(V(y.g),y.h);if(30<E.g.length){if(k(E)||k(y))throw Error("slowDivide_ only works with positive integers.");for(var _=m,S=y;0>=S.l(E);)_=b(_),S=b(S);var C=x(_,1),N=x(S,1);for(S=x(S,2),_=x(_,2);!A(S);){var T=N.add(S);0>=T.l(E)&&(C=C.add(_),N=T),S=x(S,1),_=x(_,1)}return y=w(E,C.j(y)),new I(C,y)}for(C=p;0<=E.l(y);){for(_=Math.max(1,Math.floor(E.m()/y.m())),S=Math.ceil(Math.log(_)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),N=h(_),T=N.j(y);k(T)||0<T.l(E);)_-=S,N=h(_),T=N.j(y);A(N)&&(N=m),C=C.add(N),E=w(E,T)}return new I(C,E)}t.A=function(E){return M(this,E).h},t.and=function(E){for(var y=Math.max(this.g.length,E.g.length),_=[],S=0;S<y;S++)_[S]=this.i(S)&E.i(S);return new s(_,this.h&E.h)},t.or=function(E){for(var y=Math.max(this.g.length,E.g.length),_=[],S=0;S<y;S++)_[S]=this.i(S)|E.i(S);return new s(_,this.h|E.h)},t.xor=function(E){for(var y=Math.max(this.g.length,E.g.length),_=[],S=0;S<y;S++)_[S]=this.i(S)^E.i(S);return new s(_,this.h^E.h)};function b(E){for(var y=E.g.length+1,_=[],S=0;S<y;S++)_[S]=E.i(S)<<1|E.i(S-1)>>>31;return new s(_,E.h)}function x(E,y){var _=y>>5;y%=32;for(var S=E.g.length-_,C=[],N=0;N<S;N++)C[N]=0<y?E.i(N+_)>>>y|E.i(N+_+1)<<32-y:E.i(N+_);return new s(C,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,c_=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=h,s.fromString=f,ai=s}).apply(typeof Pm<"u"?Pm:typeof self<"u"?self:typeof window<"u"?window:{});var Ha=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var h_,d_,hs,f_,ul,Th,p_,m_,g_;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,c,d){return a==Array.prototype||a==Object.prototype||(a[c]=d.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ha=="object"&&Ha];for(var c=0;c<a.length;++c){var d=a[c];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var r=n(this);function i(a,c){if(c)e:{var d=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var L=a[g];if(!(L in d))break e;d=d[L]}a=a[a.length-1],g=d[a],c=c(g),c!=g&&c!=null&&e(d,a,{configurable:!0,writable:!0,value:c})}}function o(a,c){a instanceof String&&(a+="");var d=0,g=!1,L={next:function(){if(!g&&d<a.length){var F=d++;return{value:c(F,a[F]),done:!1}}return g=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(a){return a||function(){return o(this,function(c,d){return d})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},l=this||self;function u(a){var c=typeof a;return c=c!="object"?c:a?Array.isArray(a)?"array":c:"null",c=="array"||c=="object"&&typeof a.length=="number"}function h(a){var c=typeof a;return c=="object"&&a!=null||c=="function"}function f(a,c,d){return a.call.apply(a.bind,arguments)}function p(a,c,d){if(!a)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,g),a.apply(c,L)}}return function(){return a.apply(c,arguments)}}function m(a,c,d){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,m.apply(null,arguments)}function R(a,c){var d=Array.prototype.slice.call(arguments,1);return function(){var g=d.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function A(a,c){function d(){}d.prototype=c.prototype,a.aa=c.prototype,a.prototype=new d,a.prototype.constructor=a,a.Qb=function(g,L,F){for(var $=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)$[ke-2]=arguments[ke];return c.prototype[L].apply(g,$)}}function k(a){const c=a.length;if(0<c){const d=Array(c);for(let g=0;g<c;g++)d[g]=a[g];return d}return[]}function V(a,c){for(let d=1;d<arguments.length;d++){const g=arguments[d];if(u(g)){const L=a.length||0,F=g.length||0;a.length=L+F;for(let $=0;$<F;$++)a[L+$]=g[$]}else a.push(g)}}class w{constructor(c,d){this.i=c,this.j=d,this.h=0,this.g=null}get(){let c;return 0<this.h?(this.h--,c=this.g,this.g=c.next,c.next=null):c=this.i(),c}}function v(a){return/^[\s\xa0]*$/.test(a)}function I(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function M(a){return M[" "](a),a}M[" "]=function(){};var b=I().indexOf("Gecko")!=-1&&!(I().toLowerCase().indexOf("webkit")!=-1&&I().indexOf("Edge")==-1)&&!(I().indexOf("Trident")!=-1||I().indexOf("MSIE")!=-1)&&I().indexOf("Edge")==-1;function x(a,c,d){for(const g in a)c.call(d,a[g],g,a)}function E(a,c){for(const d in a)c.call(void 0,a[d],d,a)}function y(a){const c={};for(const d in a)c[d]=a[d];return c}const _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(a,c){let d,g;for(let L=1;L<arguments.length;L++){g=arguments[L];for(d in g)a[d]=g[d];for(let F=0;F<_.length;F++)d=_[F],Object.prototype.hasOwnProperty.call(g,d)&&(a[d]=g[d])}}function C(a){var c=1;a=a.split(":");const d=[];for(;0<c&&a.length;)d.push(a.shift()),c--;return a.length&&d.push(a.join(":")),d}function N(a){l.setTimeout(()=>{throw a},0)}function T(){var a=te;let c=null;return a.g&&(c=a.g,a.g=a.g.next,a.g||(a.h=null),c.next=null),c}class Te{constructor(){this.h=this.g=null}add(c,d){const g=Mt.get();g.set(c,d),this.h?this.h.next=g:this.g=g,this.h=g}}var Mt=new w(()=>new Tn,a=>a.reset());class Tn{constructor(){this.next=this.g=this.h=null}set(c,d){this.h=c,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let Se,K=!1,te=new Te,re=()=>{const a=l.Promise.resolve(void 0);Se=()=>{a.then(pe)}};var pe=()=>{for(var a;a=T();){try{a.h.call(a.g)}catch(d){N(d)}var c=Mt;c.j(a),100>c.h&&(c.h++,a.next=c.g,c.g=a)}K=!1};function de(){this.s=this.s,this.C=this.C}de.prototype.s=!1,de.prototype.ma=function(){this.s||(this.s=!0,this.N())},de.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Pe(a,c){this.type=a,this.g=this.target=c,this.defaultPrevented=!1}Pe.prototype.h=function(){this.defaultPrevented=!0};var Ze=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,c=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const d=()=>{};l.addEventListener("test",d,c),l.removeEventListener("test",d,c)}catch{}return a}();function ut(a,c){if(Pe.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var d=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=c,c=a.relatedTarget){if(b){e:{try{M(c.nodeName);var L=!0;break e}catch{}L=!1}L||(c=null)}}else d=="mouseover"?c=a.fromElement:d=="mouseout"&&(c=a.toElement);this.relatedTarget=c,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:ct[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&ut.aa.h.call(this)}}A(ut,Pe);var ct={2:"touch",3:"pen",4:"mouse"};ut.prototype.h=function(){ut.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var ln="closure_listenable_"+(1e6*Math.random()|0),xo=0;function Cu(a,c,d,g,L){this.listener=a,this.proxy=null,this.src=c,this.type=d,this.capture=!!g,this.ha=L,this.key=++xo,this.da=this.fa=!1}function Ii(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Ri(a){this.src=a,this.g={},this.h=0}Ri.prototype.add=function(a,c,d,g,L){var F=a.toString();a=this.g[F],a||(a=this.g[F]=[],this.h++);var $=Sn(a,c,g,L);return-1<$?(c=a[$],d||(c.fa=!1)):(c=new Cu(c,this.src,F,!!g,L),c.fa=d,a.push(c)),c};function ot(a,c){var d=c.type;if(d in a.g){var g=a.g[d],L=Array.prototype.indexOf.call(g,c,void 0),F;(F=0<=L)&&Array.prototype.splice.call(g,L,1),F&&(Ii(c),a.g[d].length==0&&(delete a.g[d],a.h--))}}function Sn(a,c,d,g){for(var L=0;L<a.length;++L){var F=a[L];if(!F.da&&F.listener==c&&F.capture==!!d&&F.ha==g)return L}return-1}var Ci="closure_lm_"+(1e6*Math.random()|0),Do={};function In(a,c,d,g,L){if(Array.isArray(c)){for(var F=0;F<c.length;F++)In(a,c[F],d,g,L);return null}return d=nr(d),a&&a[ln]?a.K(c,d,h(g)?!!g.capture:!!g,L):Au(a,c,d,!1,g,L)}function Au(a,c,d,g,L,F){if(!c)throw Error("Invalid event type");var $=h(L)?!!L.capture:!!L,ke=Lo(a);if(ke||(a[Ci]=ke=new Ri(a)),d=ke.add(c,d,g,$,F),d.proxy)return d;if(g=Pu(),d.proxy=g,g.src=a,g.listener=d,a.addEventListener)Ze||(L=$),L===void 0&&(L=!1),a.addEventListener(c.toString(),g,L);else if(a.attachEvent)a.attachEvent(pa(c.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return d}function Pu(){function a(d){return c.call(a.src,a.listener,d)}const c=ku;return a}function No(a,c,d,g,L){if(Array.isArray(c))for(var F=0;F<c.length;F++)No(a,c[F],d,g,L);else g=h(g)?!!g.capture:!!g,d=nr(d),a&&a[ln]?(a=a.i,c=String(c).toString(),c in a.g&&(F=a.g[c],d=Sn(F,d,g,L),-1<d&&(Ii(F[d]),Array.prototype.splice.call(F,d,1),F.length==0&&(delete a.g[c],a.h--)))):a&&(a=Lo(a))&&(c=a.g[c.toString()],a=-1,c&&(a=Sn(c,d,g,L)),(d=-1<a?c[a]:null)&&Vo(d))}function Vo(a){if(typeof a!="number"&&a&&!a.da){var c=a.src;if(c&&c[ln])ot(c.i,a);else{var d=a.type,g=a.proxy;c.removeEventListener?c.removeEventListener(d,g,a.capture):c.detachEvent?c.detachEvent(pa(d),g):c.addListener&&c.removeListener&&c.removeListener(g),(d=Lo(c))?(ot(d,a),d.h==0&&(d.src=null,c[Ci]=null)):Ii(a)}}}function pa(a){return a in Do?Do[a]:Do[a]="on"+a}function ku(a,c){if(a.da)a=!0;else{c=new ut(c,this);var d=a.listener,g=a.ha||a.src;a.fa&&Vo(a),a=d.call(g,c)}return a}function Lo(a){return a=a[Ci],a instanceof Ri?a:null}var Un="__closure_events_fn_"+(1e9*Math.random()>>>0);function nr(a){return typeof a=="function"?a:(a[Un]||(a[Un]=function(c){return a.handleEvent(c)}),a[Un])}function et(){de.call(this),this.i=new Ri(this),this.M=this,this.F=null}A(et,de),et.prototype[ln]=!0,et.prototype.removeEventListener=function(a,c,d,g){No(this,a,c,d,g)};function tt(a,c){var d,g=a.F;if(g)for(d=[];g;g=g.F)d.push(g);if(a=a.M,g=c.type||c,typeof c=="string")c=new Pe(c,a);else if(c instanceof Pe)c.target=c.target||a;else{var L=c;c=new Pe(g,a),S(c,L)}if(L=!0,d)for(var F=d.length-1;0<=F;F--){var $=c.g=d[F];L=$t($,g,!0,c)&&L}if($=c.g=a,L=$t($,g,!0,c)&&L,L=$t($,g,!1,c)&&L,d)for(F=0;F<d.length;F++)$=c.g=d[F],L=$t($,g,!1,c)&&L}et.prototype.N=function(){if(et.aa.N.call(this),this.i){var a=this.i,c;for(c in a.g){for(var d=a.g[c],g=0;g<d.length;g++)Ii(d[g]);delete a.g[c],a.h--}}this.F=null},et.prototype.K=function(a,c,d,g){return this.i.add(String(a),c,!1,d,g)},et.prototype.L=function(a,c,d,g){return this.i.add(String(a),c,!0,d,g)};function $t(a,c,d,g){if(c=a.i.g[String(c)],!c)return!0;c=c.concat();for(var L=!0,F=0;F<c.length;++F){var $=c[F];if($&&!$.da&&$.capture==d){var ke=$.listener,dt=$.ha||$.src;$.fa&&ot(a.i,$),L=ke.call(dt,g)!==!1&&L}}return L&&!g.defaultPrevented}function Zt(a,c,d){if(typeof a=="function")d&&(a=m(a,d));else if(a&&typeof a.handleEvent=="function")a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(c)?-1:l.setTimeout(a,c||0)}function Mo(a){a.g=Zt(()=>{a.g=null,a.i&&(a.i=!1,Mo(a))},a.l);const c=a.h;a.h=null,a.m.apply(null,c)}class Ai extends de{constructor(c,d){super(),this.m=c,this.l=d,this.h=null,this.i=!1,this.g=null}j(c){this.h=arguments,this.g?this.i=!0:Mo(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $r(a){de.call(this),this.h=a,this.g={}}A($r,de);var un=[];function Oo(a){x(a.g,function(c,d){this.g.hasOwnProperty(d)&&Vo(c)},a),a.g={}}$r.prototype.N=function(){$r.aa.N.call(this),Oo(this)},$r.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pi=l.JSON.stringify,ma=l.JSON.parse,xu=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function ki(){}ki.prototype.h=null;function Hr(a){return a.h||(a.h=a.i())}function Fo(){}var jn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function rr(){Pe.call(this,"d")}A(rr,Pe);function qr(){Pe.call(this,"c")}A(qr,Pe);var bn={},Uo=null;function xi(){return Uo=Uo||new et}bn.La="serverreachability";function jo(a){Pe.call(this,bn.La,a)}A(jo,Pe);function ir(a){const c=xi();tt(c,new jo(c))}bn.STAT_EVENT="statevent";function Gr(a,c){Pe.call(this,bn.STAT_EVENT,a),this.stat=c}A(Gr,Pe);function ht(a){const c=xi();tt(c,new Gr(c,a))}bn.Ma="timingevent";function P(a,c){Pe.call(this,bn.Ma,a),this.size=c}A(P,Pe);function D(a,c){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},c)}function O(){this.g=!0}O.prototype.xa=function(){this.g=!1};function j(a,c,d,g,L,F){a.info(function(){if(a.g)if(F)for(var $="",ke=F.split("&"),dt=0;dt<ke.length;dt++){var Ee=ke[dt].split("=");if(1<Ee.length){var _t=Ee[0];Ee=Ee[1];var wt=_t.split("_");$=2<=wt.length&&wt[1]=="type"?$+(_t+"="+Ee+"&"):$+(_t+"=redacted&")}}else $=null;else $=F;return"XMLHTTP REQ ("+g+") [attempt "+L+"]: "+c+`
`+d+`
`+$})}function W(a,c,d,g,L,F,$){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+L+"]: "+c+`
`+d+`
`+F+" "+$})}function Y(a,c,d,g){a.info(function(){return"XMLHTTP TEXT ("+c+"): "+G(a,d)+(g?" "+g:"")})}function ee(a,c){a.info(function(){return"TIMEOUT: "+c})}O.prototype.info=function(){};function G(a,c){if(!a.g)return c;if(!c)return null;try{var d=JSON.parse(c);if(d){for(a=0;a<d.length;a++)if(Array.isArray(d[a])){var g=d[a];if(!(2>g.length)){var L=g[1];if(Array.isArray(L)&&!(1>L.length)){var F=L[0];if(F!="noop"&&F!="stop"&&F!="close")for(var $=1;$<L.length;$++)L[$]=""}}}}return Pi(d)}catch{return c}}var ie={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},X={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},oe;function me(){}A(me,ki),me.prototype.g=function(){return new XMLHttpRequest},me.prototype.i=function(){return{}},oe=new me;function ue(a,c,d,g){this.j=a,this.i=c,this.l=d,this.R=g||1,this.U=new $r(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ie}function Ie(){this.i=null,this.g="",this.h=!1}var ge={},qe={};function Oe(a,c,d){a.L=1,a.v=_a(Bn(c)),a.m=d,a.P=!0,or(a,null)}function or(a,c){a.F=Date.now(),hn(a),a.A=Bn(a.v);var d=a.A,g=a.R;Array.isArray(g)||(g=[String(g)]),_f(d.i,"t",g),a.C=0,d=a.j.J,a.h=new Ie,a.g=Ff(a.j,d?c:null,!a.m),0<a.O&&(a.M=new Ai(m(a.Y,a,a.g),a.O)),c=a.U,d=a.g,g=a.ca;var L="readystatechange";Array.isArray(L)||(L&&(un[0]=L.toString()),L=un);for(var F=0;F<L.length;F++){var $=In(d,L[F],g||c.handleEvent,!1,c.h||c);if(!$)break;c.g[$.key]=$}c=a.H?y(a.H):{},a.m?(a.u||(a.u="POST"),c["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,c)):(a.u="GET",a.g.ea(a.A,a.u,null,c)),ir(),j(a.i,a.u,a.A,a.l,a.R,a.m)}ue.prototype.ca=function(a){a=a.target;const c=this.M;c&&$n(a)==3?c.j():this.Y(a)},ue.prototype.Y=function(a){try{if(a==this.g)e:{const wt=$n(this.g);var c=this.g.Ba();const Li=this.g.Z();if(!(3>wt)&&(wt!=3||this.g&&(this.h.h||this.g.oa()||Cf(this.g)))){this.J||wt!=4||c==7||(c==8||0>=Li?ir(3):ir(2)),Ot(this);var d=this.g.Z();this.X=d;t:if(cn(this)){var g=Cf(this.g);a="";var L=g.length,F=$n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){en(this),Rn(this);var $="";break t}this.h.i=new l.TextDecoder}for(c=0;c<L;c++)this.h.h=!0,a+=this.h.i.decode(g[c],{stream:!(F&&c==L-1)});g.length=0,this.h.g+=a,this.C=0,$=this.h.g}else $=this.g.oa();if(this.o=d==200,W(this.i,this.u,this.A,this.l,this.R,wt,d),this.o){if(this.T&&!this.K){t:{if(this.g){var ke,dt=this.g;if((ke=dt.g?dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(ke)){var Ee=ke;break t}}Ee=null}if(d=Ee)Y(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ar(this,d);else{this.o=!1,this.s=3,ht(12),en(this),Rn(this);break e}}if(this.P){d=!0;let dn;for(;!this.J&&this.C<$.length;)if(dn=sr(this,$),dn==qe){wt==4&&(this.s=4,ht(14),d=!1),Y(this.i,this.l,null,"[Incomplete Response]");break}else if(dn==ge){this.s=4,ht(15),Y(this.i,this.l,$,"[Invalid Chunk]"),d=!1;break}else Y(this.i,this.l,dn,null),ar(this,dn);if(cn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||$.length!=0||this.h.h||(this.s=1,ht(16),d=!1),this.o=this.o&&d,!d)Y(this.i,this.l,$,"[Invalid Chunked Response]"),en(this),Rn(this);else if(0<$.length&&!this.W){this.W=!0;var _t=this.j;_t.g==this&&_t.ba&&!_t.M&&(_t.j.info("Great, no buffering proxy detected. Bytes received: "+$.length),Lu(_t),_t.M=!0,ht(11))}}else Y(this.i,this.l,$,null),ar(this,$);wt==4&&en(this),this.o&&!this.J&&(wt==4?Vf(this.j,this):(this.o=!1,hn(this)))}else b0(this.g),d==400&&0<$.indexOf("Unknown SID")?(this.s=3,ht(12)):(this.s=0,ht(13)),en(this),Rn(this)}}}catch{}finally{}};function cn(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function sr(a,c){var d=a.C,g=c.indexOf(`
`,d);return g==-1?qe:(d=Number(c.substring(d,g)),isNaN(d)?ge:(g+=1,g+d>c.length?qe:(c=c.slice(g,g+d),a.C=g+d,c)))}ue.prototype.cancel=function(){this.J=!0,en(this)};function hn(a){a.S=Date.now()+a.I,zn(a,a.I)}function zn(a,c){if(a.B!=null)throw Error("WatchDog timer not null");a.B=D(m(a.ba,a),c)}function Ot(a){a.B&&(l.clearTimeout(a.B),a.B=null)}ue.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(ee(this.i,this.A),this.L!=2&&(ir(),ht(17)),en(this),this.s=2,Rn(this)):zn(this,this.S-a)};function Rn(a){a.j.G==0||a.J||Vf(a.j,a)}function en(a){Ot(a);var c=a.M;c&&typeof c.ma=="function"&&c.ma(),a.M=null,Oo(a.U),a.g&&(c=a.g,a.g=null,c.abort(),c.ma())}function ar(a,c){try{var d=a.j;if(d.G!=0&&(d.g==a||Ht(d.h,a))){if(!a.K&&Ht(d.h,a)&&d.G==3){try{var g=d.Da.g.parse(c)}catch{g=null}if(Array.isArray(g)&&g.length==3){var L=g;if(L[0]==0){e:if(!d.u){if(d.g)if(d.g.F+3e3<a.F)Ia(d),Ta(d);else break e;Vu(d),ht(18)}}else d.za=L[1],0<d.za-d.T&&37500>L[2]&&d.F&&d.v==0&&!d.C&&(d.C=D(m(d.Za,d),6e3));if(1>=Ce(d.h)&&d.ca){try{d.ca()}catch{}d.ca=void 0}}else Wr(d,11)}else if((a.K||d.g==a)&&Ia(d),!v(c))for(L=d.Da.g.parse(c),c=0;c<L.length;c++){let Ee=L[c];if(d.T=Ee[0],Ee=Ee[1],d.G==2)if(Ee[0]=="c"){d.K=Ee[1],d.ia=Ee[2];const _t=Ee[3];_t!=null&&(d.la=_t,d.j.info("VER="+d.la));const wt=Ee[4];wt!=null&&(d.Aa=wt,d.j.info("SVER="+d.Aa));const Li=Ee[5];Li!=null&&typeof Li=="number"&&0<Li&&(g=1.5*Li,d.L=g,d.j.info("backChannelRequestTimeoutMs_="+g)),g=d;const dn=a.g;if(dn){const Ca=dn.g?dn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ca){var F=g.h;F.g||Ca.indexOf("spdy")==-1&&Ca.indexOf("quic")==-1&&Ca.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Di(F,F.h),F.h=null))}if(g.D){const Mu=dn.g?dn.g.getResponseHeader("X-HTTP-Session-Id"):null;Mu&&(g.ya=Mu,Ve(g.I,g.D,Mu))}}d.G=3,d.l&&d.l.ua(),d.ba&&(d.R=Date.now()-a.F,d.j.info("Handshake RTT: "+d.R+"ms")),g=d;var $=a;if(g.qa=Of(g,g.J?g.ia:null,g.W),$.K){ga(g.h,$);var ke=$,dt=g.L;dt&&(ke.I=dt),ke.B&&(Ot(ke),hn(ke)),g.g=$}else Df(g);0<d.i.length&&Sa(d)}else Ee[0]!="stop"&&Ee[0]!="close"||Wr(d,7);else d.G==3&&(Ee[0]=="stop"||Ee[0]=="close"?Ee[0]=="stop"?Wr(d,7):Nu(d):Ee[0]!="noop"&&d.l&&d.l.ta(Ee),d.v=0)}}ir(4)}catch{}}var ae=class{constructor(a,c){this.g=a,this.map=c}};function Ne(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function vt(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Ce(a){return a.h?1:a.g?a.g.size:0}function Ht(a,c){return a.h?a.h==c:a.g?a.g.has(c):!1}function Di(a,c){a.g?a.g.add(c):a.h=c}function ga(a,c){a.h&&a.h==c?a.h=null:a.g&&a.g.has(c)&&a.g.delete(c)}Ne.prototype.cancel=function(){if(this.i=df(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function df(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let c=a.i;for(const d of a.g.values())c=c.concat(d.D);return c}return k(a.i)}function R0(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var c=[],d=a.length,g=0;g<d;g++)c.push(a[g]);return c}c=[],d=0;for(g in a)c[d++]=a[g];return c}function C0(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var c=[];a=a.length;for(var d=0;d<a;d++)c.push(d);return c}c=[],d=0;for(const g in a)c[d++]=g;return c}}}function ff(a,c){if(a.forEach&&typeof a.forEach=="function")a.forEach(c,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,c,void 0);else for(var d=C0(a),g=R0(a),L=g.length,F=0;F<L;F++)c.call(void 0,g[F],d&&d[F],a)}var pf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function A0(a,c){if(a){a=a.split("&");for(var d=0;d<a.length;d++){var g=a[d].indexOf("="),L=null;if(0<=g){var F=a[d].substring(0,g);L=a[d].substring(g+1)}else F=a[d];c(F,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Kr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Kr){this.h=a.h,ya(this,a.j),this.o=a.o,this.g=a.g,va(this,a.s),this.l=a.l;var c=a.i,d=new Bo;d.i=c.i,c.g&&(d.g=new Map(c.g),d.h=c.h),mf(this,d),this.m=a.m}else a&&(c=String(a).match(pf))?(this.h=!1,ya(this,c[1]||"",!0),this.o=bo(c[2]||""),this.g=bo(c[3]||"",!0),va(this,c[4]),this.l=bo(c[5]||"",!0),mf(this,c[6]||"",!0),this.m=bo(c[7]||"")):(this.h=!1,this.i=new Bo(null,this.h))}Kr.prototype.toString=function(){var a=[],c=this.j;c&&a.push(zo(c,gf,!0),":");var d=this.g;return(d||c=="file")&&(a.push("//"),(c=this.o)&&a.push(zo(c,gf,!0),"@"),a.push(encodeURIComponent(String(d)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.s,d!=null&&a.push(":",String(d))),(d=this.l)&&(this.g&&d.charAt(0)!="/"&&a.push("/"),a.push(zo(d,d.charAt(0)=="/"?x0:k0,!0))),(d=this.i.toString())&&a.push("?",d),(d=this.m)&&a.push("#",zo(d,N0)),a.join("")};function Bn(a){return new Kr(a)}function ya(a,c,d){a.j=d?bo(c,!0):c,a.j&&(a.j=a.j.replace(/:$/,""))}function va(a,c){if(c){if(c=Number(c),isNaN(c)||0>c)throw Error("Bad port number "+c);a.s=c}else a.s=null}function mf(a,c,d){c instanceof Bo?(a.i=c,V0(a.i,a.h)):(d||(c=zo(c,D0)),a.i=new Bo(c,a.h))}function Ve(a,c,d){a.i.set(c,d)}function _a(a){return Ve(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function bo(a,c){return a?c?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function zo(a,c,d){return typeof a=="string"?(a=encodeURI(a).replace(c,P0),d&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function P0(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var gf=/[#\/\?@]/g,k0=/[#\?:]/g,x0=/[#\?]/g,D0=/[#\?@]/g,N0=/#/g;function Bo(a,c){this.h=this.g=null,this.i=a||null,this.j=!!c}function lr(a){a.g||(a.g=new Map,a.h=0,a.i&&A0(a.i,function(c,d){a.add(decodeURIComponent(c.replace(/\+/g," ")),d)}))}t=Bo.prototype,t.add=function(a,c){lr(this),this.i=null,a=Ni(this,a);var d=this.g.get(a);return d||this.g.set(a,d=[]),d.push(c),this.h+=1,this};function yf(a,c){lr(a),c=Ni(a,c),a.g.has(c)&&(a.i=null,a.h-=a.g.get(c).length,a.g.delete(c))}function vf(a,c){return lr(a),c=Ni(a,c),a.g.has(c)}t.forEach=function(a,c){lr(this),this.g.forEach(function(d,g){d.forEach(function(L){a.call(c,L,g,this)},this)},this)},t.na=function(){lr(this);const a=Array.from(this.g.values()),c=Array.from(this.g.keys()),d=[];for(let g=0;g<c.length;g++){const L=a[g];for(let F=0;F<L.length;F++)d.push(c[g])}return d},t.V=function(a){lr(this);let c=[];if(typeof a=="string")vf(this,a)&&(c=c.concat(this.g.get(Ni(this,a))));else{a=Array.from(this.g.values());for(let d=0;d<a.length;d++)c=c.concat(a[d])}return c},t.set=function(a,c){return lr(this),this.i=null,a=Ni(this,a),vf(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[c]),this.h+=1,this},t.get=function(a,c){return a?(a=this.V(a),0<a.length?String(a[0]):c):c};function _f(a,c,d){yf(a,c),0<d.length&&(a.i=null,a.g.set(Ni(a,c),k(d)),a.h+=d.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],c=Array.from(this.g.keys());for(var d=0;d<c.length;d++){var g=c[d];const F=encodeURIComponent(String(g)),$=this.V(g);for(g=0;g<$.length;g++){var L=F;$[g]!==""&&(L+="="+encodeURIComponent(String($[g]))),a.push(L)}}return this.i=a.join("&")};function Ni(a,c){return c=String(c),a.j&&(c=c.toLowerCase()),c}function V0(a,c){c&&!a.j&&(lr(a),a.i=null,a.g.forEach(function(d,g){var L=g.toLowerCase();g!=L&&(yf(this,g),_f(this,L,d))},a)),a.j=c}function L0(a,c){const d=new O;if(l.Image){const g=new Image;g.onload=R(ur,d,"TestLoadImage: loaded",!0,c,g),g.onerror=R(ur,d,"TestLoadImage: error",!1,c,g),g.onabort=R(ur,d,"TestLoadImage: abort",!1,c,g),g.ontimeout=R(ur,d,"TestLoadImage: timeout",!1,c,g),l.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else c(!1)}function M0(a,c){const d=new O,g=new AbortController,L=setTimeout(()=>{g.abort(),ur(d,"TestPingServer: timeout",!1,c)},1e4);fetch(a,{signal:g.signal}).then(F=>{clearTimeout(L),F.ok?ur(d,"TestPingServer: ok",!0,c):ur(d,"TestPingServer: server error",!1,c)}).catch(()=>{clearTimeout(L),ur(d,"TestPingServer: error",!1,c)})}function ur(a,c,d,g,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),g(d)}catch{}}function O0(){this.g=new xu}function F0(a,c,d){const g=d||"";try{ff(a,function(L,F){let $=L;h(L)&&($=Pi(L)),c.push(g+F+"="+encodeURIComponent($))})}catch(L){throw c.push(g+"type="+encodeURIComponent("_badmap")),L}}function $o(a){this.l=a.Ub||null,this.j=a.eb||!1}A($o,ki),$o.prototype.g=function(){return new wa(this.l,this.j)},$o.prototype.i=function(a){return function(){return a}}({});function wa(a,c){et.call(this),this.D=a,this.o=c,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(wa,et),t=wa.prototype,t.open=function(a,c){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=c,this.readyState=1,qo(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const c={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(c.body=a),(this.D||l).fetch(new Request(this.A,c)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ho(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,qo(this)),this.g&&(this.readyState=3,qo(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;wf(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function wf(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var c=a.value?a.value:new Uint8Array(0);(c=this.v.decode(c,{stream:!a.done}))&&(this.response=this.responseText+=c)}a.done?Ho(this):qo(this),this.readyState==3&&wf(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Ho(this))},t.Qa=function(a){this.g&&(this.response=a,Ho(this))},t.ga=function(){this.g&&Ho(this)};function Ho(a){a.readyState=4,a.l=null,a.j=null,a.v=null,qo(a)}t.setRequestHeader=function(a,c){this.u.append(a,c)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],c=this.h.entries();for(var d=c.next();!d.done;)d=d.value,a.push(d[0]+": "+d[1]),d=c.next();return a.join(`\r
`)};function qo(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(wa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Ef(a){let c="";return x(a,function(d,g){c+=g,c+=":",c+=d,c+=`\r
`}),c}function Du(a,c,d){e:{for(g in d){var g=!1;break e}g=!0}g||(d=Ef(d),typeof a=="string"?d!=null&&encodeURIComponent(String(d)):Ve(a,c,d))}function $e(a){et.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A($e,et);var U0=/^https?$/i,j0=["POST","PUT"];t=$e.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,c,d,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);c=c?c.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():oe.g(),this.v=this.o?Hr(this.o):Hr(oe),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(c,String(a),!0),this.B=!1}catch(F){Tf(this,F);return}if(a=d||"",d=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var L in g)d.set(L,g[L]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(const F of g.keys())d.set(F,g.get(F));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(d.keys()).find(F=>F.toLowerCase()=="content-type"),L=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(j0,c,void 0))||g||L||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,$]of d)this.g.setRequestHeader(F,$);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Rf(this),this.u=!0,this.g.send(a),this.u=!1}catch(F){Tf(this,F)}};function Tf(a,c){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=c,a.m=5,Sf(a),Ea(a)}function Sf(a){a.A||(a.A=!0,tt(a,"complete"),tt(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,tt(this,"complete"),tt(this,"abort"),Ea(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ea(this,!0)),$e.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?If(this):this.bb())},t.bb=function(){If(this)};function If(a){if(a.h&&typeof s<"u"&&(!a.v[1]||$n(a)!=4||a.Z()!=2)){if(a.u&&$n(a)==4)Zt(a.Ea,0,a);else if(tt(a,"readystatechange"),$n(a)==4){a.h=!1;try{const $=a.Z();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break e;default:c=!1}var d;if(!(d=c)){var g;if(g=$===0){var L=String(a.D).match(pf)[1]||null;!L&&l.self&&l.self.location&&(L=l.self.location.protocol.slice(0,-1)),g=!U0.test(L?L.toLowerCase():"")}d=g}if(d)tt(a,"complete"),tt(a,"success");else{a.m=6;try{var F=2<$n(a)?a.g.statusText:""}catch{F=""}a.l=F+" ["+a.Z()+"]",Sf(a)}}finally{Ea(a)}}}}function Ea(a,c){if(a.g){Rf(a);const d=a.g,g=a.v[0]?()=>{}:null;a.g=null,a.v=null,c||tt(a,"ready");try{d.onreadystatechange=g}catch{}}}function Rf(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function $n(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<$n(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var c=this.g.responseText;return a&&c.indexOf(a)==0&&(c=c.substring(a.length)),ma(c)}};function Cf(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function b0(a){const c={};a=(a.g&&2<=$n(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(v(a[g]))continue;var d=C(a[g]);const L=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();const F=c[L]||[];c[L]=F,F.push(d)}E(c,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Go(a,c,d){return d&&d.internalChannelParams&&d.internalChannelParams[a]||c}function Af(a){this.Aa=0,this.i=[],this.j=new O,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Go("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Go("baseRetryDelayMs",5e3,a),this.cb=Go("retryDelaySeedMs",1e4,a),this.Wa=Go("forwardChannelMaxRetries",2,a),this.wa=Go("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Ne(a&&a.concurrentRequestLimit),this.Da=new O0,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Af.prototype,t.la=8,t.G=1,t.connect=function(a,c,d,g){ht(0),this.W=a,this.H=c||{},d&&g!==void 0&&(this.H.OSID=d,this.H.OAID=g),this.F=this.X,this.I=Of(this,null,this.W),Sa(this)};function Nu(a){if(Pf(a),a.G==3){var c=a.U++,d=Bn(a.I);if(Ve(d,"SID",a.K),Ve(d,"RID",c),Ve(d,"TYPE","terminate"),Ko(a,d),c=new ue(a,a.j,c),c.L=2,c.v=_a(Bn(d)),d=!1,l.navigator&&l.navigator.sendBeacon)try{d=l.navigator.sendBeacon(c.v.toString(),"")}catch{}!d&&l.Image&&(new Image().src=c.v,d=!0),d||(c.g=Ff(c.j,null),c.g.ea(c.v)),c.F=Date.now(),hn(c)}Mf(a)}function Ta(a){a.g&&(Lu(a),a.g.cancel(),a.g=null)}function Pf(a){Ta(a),a.u&&(l.clearTimeout(a.u),a.u=null),Ia(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function Sa(a){if(!vt(a.h)&&!a.s){a.s=!0;var c=a.Ga;Se||re(),K||(Se(),K=!0),te.add(c,a),a.B=0}}function z0(a,c){return Ce(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=c.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=D(m(a.Ga,a,c),Lf(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const L=new ue(this,this.j,a);let F=this.o;if(this.S&&(F?(F=y(F),S(F,this.S)):F=this.S),this.m!==null||this.O||(L.H=F,F=null),this.P)e:{for(var c=0,d=0;d<this.i.length;d++){t:{var g=this.i[d];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(c+=g,4096<c){c=d;break e}if(c===4096||d===this.i.length-1){c=d+1;break e}}c=1e3}else c=1e3;c=xf(this,L,c),d=Bn(this.I),Ve(d,"RID",a),Ve(d,"CVER",22),this.D&&Ve(d,"X-HTTP-Session-Id",this.D),Ko(this,d),F&&(this.O?c="headers="+encodeURIComponent(String(Ef(F)))+"&"+c:this.m&&Du(d,this.m,F)),Di(this.h,L),this.Ua&&Ve(d,"TYPE","init"),this.P?(Ve(d,"$req",c),Ve(d,"SID","null"),L.T=!0,Oe(L,d,null)):Oe(L,d,c),this.G=2}}else this.G==3&&(a?kf(this,a):this.i.length==0||vt(this.h)||kf(this))};function kf(a,c){var d;c?d=c.l:d=a.U++;const g=Bn(a.I);Ve(g,"SID",a.K),Ve(g,"RID",d),Ve(g,"AID",a.T),Ko(a,g),a.m&&a.o&&Du(g,a.m,a.o),d=new ue(a,a.j,d,a.B+1),a.m===null&&(d.H=a.o),c&&(a.i=c.D.concat(a.i)),c=xf(a,d,1e3),d.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Di(a.h,d),Oe(d,g,c)}function Ko(a,c){a.H&&x(a.H,function(d,g){Ve(c,g,d)}),a.l&&ff({},function(d,g){Ve(c,g,d)})}function xf(a,c,d){d=Math.min(a.i.length,d);var g=a.l?m(a.l.Na,a.l,a):null;e:{var L=a.i;let F=-1;for(;;){const $=["count="+d];F==-1?0<d?(F=L[0].g,$.push("ofs="+F)):F=0:$.push("ofs="+F);let ke=!0;for(let dt=0;dt<d;dt++){let Ee=L[dt].g;const _t=L[dt].map;if(Ee-=F,0>Ee)F=Math.max(0,L[dt].g-100),ke=!1;else try{F0(_t,$,"req"+Ee+"_")}catch{g&&g(_t)}}if(ke){g=$.join("&");break e}}}return a=a.i.splice(0,d),c.D=a,g}function Df(a){if(!a.g&&!a.u){a.Y=1;var c=a.Fa;Se||re(),K||(Se(),K=!0),te.add(c,a),a.v=0}}function Vu(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=D(m(a.Fa,a),Lf(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,Nf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=D(m(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ht(10),Ta(this),Nf(this))};function Lu(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function Nf(a){a.g=new ue(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var c=Bn(a.qa);Ve(c,"RID","rpc"),Ve(c,"SID",a.K),Ve(c,"AID",a.T),Ve(c,"CI",a.F?"0":"1"),!a.F&&a.ja&&Ve(c,"TO",a.ja),Ve(c,"TYPE","xmlhttp"),Ko(a,c),a.m&&a.o&&Du(c,a.m,a.o),a.L&&(a.g.I=a.L);var d=a.g;a=a.ia,d.L=1,d.v=_a(Bn(c)),d.m=null,d.P=!0,or(d,a)}t.Za=function(){this.C!=null&&(this.C=null,Ta(this),Vu(this),ht(19))};function Ia(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function Vf(a,c){var d=null;if(a.g==c){Ia(a),Lu(a),a.g=null;var g=2}else if(Ht(a.h,c))d=c.D,ga(a.h,c),g=1;else return;if(a.G!=0){if(c.o)if(g==1){d=c.m?c.m.length:0,c=Date.now()-c.F;var L=a.B;g=xi(),tt(g,new P(g,d)),Sa(a)}else Df(a);else if(L=c.s,L==3||L==0&&0<c.X||!(g==1&&z0(a,c)||g==2&&Vu(a)))switch(d&&0<d.length&&(c=a.h,c.i=c.i.concat(d)),L){case 1:Wr(a,5);break;case 4:Wr(a,10);break;case 3:Wr(a,6);break;default:Wr(a,2)}}}function Lf(a,c){let d=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(d*=2),d*c}function Wr(a,c){if(a.j.info("Error code "+c),c==2){var d=m(a.fb,a),g=a.Xa;const L=!g;g=new Kr(g||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||ya(g,"https"),_a(g),L?L0(g.toString(),d):M0(g.toString(),d)}else ht(2);a.G=0,a.l&&a.l.sa(c),Mf(a),Pf(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function Mf(a){if(a.G=0,a.ka=[],a.l){const c=df(a.h);(c.length!=0||a.i.length!=0)&&(V(a.ka,c),V(a.ka,a.i),a.h.i.length=0,k(a.i),a.i.length=0),a.l.ra()}}function Of(a,c,d){var g=d instanceof Kr?Bn(d):new Kr(d);if(g.g!="")c&&(g.g=c+"."+g.g),va(g,g.s);else{var L=l.location;g=L.protocol,c=c?c+"."+L.hostname:L.hostname,L=+L.port;var F=new Kr(null);g&&ya(F,g),c&&(F.g=c),L&&va(F,L),d&&(F.l=d),g=F}return d=a.D,c=a.ya,d&&c&&Ve(g,d,c),Ve(g,"VER",a.la),Ko(a,g),g}function Ff(a,c,d){if(c&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return c=a.Ca&&!a.pa?new $e(new $o({eb:d})):new $e(a.pa),c.Ha(a.J),c}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Uf(){}t=Uf.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ra(){}Ra.prototype.g=function(a,c){return new qt(a,c)};function qt(a,c){et.call(this),this.g=new Af(c),this.l=a,this.h=c&&c.messageUrlParams||null,a=c&&c.messageHeaders||null,c&&c.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=c&&c.initMessageHeaders||null,c&&c.messageContentType&&(a?a["X-WebChannel-Content-Type"]=c.messageContentType:a={"X-WebChannel-Content-Type":c.messageContentType}),c&&c.va&&(a?a["X-WebChannel-Client-Profile"]=c.va:a={"X-WebChannel-Client-Profile":c.va}),this.g.S=a,(a=c&&c.Sb)&&!v(a)&&(this.g.m=a),this.v=c&&c.supportsCrossDomainXhr||!1,this.u=c&&c.sendRawJson||!1,(c=c&&c.httpSessionIdParam)&&!v(c)&&(this.g.D=c,a=this.h,a!==null&&c in a&&(a=this.h,c in a&&delete a[c])),this.j=new Vi(this)}A(qt,et),qt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},qt.prototype.close=function(){Nu(this.g)},qt.prototype.o=function(a){var c=this.g;if(typeof a=="string"){var d={};d.__data__=a,a=d}else this.u&&(d={},d.__data__=Pi(a),a=d);c.i.push(new ae(c.Ya++,a)),c.G==3&&Sa(c)},qt.prototype.N=function(){this.g.l=null,delete this.j,Nu(this.g),delete this.g,qt.aa.N.call(this)};function jf(a){rr.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var c=a.__sm__;if(c){e:{for(const d in c){a=d;break e}a=void 0}(this.i=a)&&(a=this.i,c=c!==null&&a in c?c[a]:void 0),this.data=c}else this.data=a}A(jf,rr);function bf(){qr.call(this),this.status=1}A(bf,qr);function Vi(a){this.g=a}A(Vi,Uf),Vi.prototype.ua=function(){tt(this.g,"a")},Vi.prototype.ta=function(a){tt(this.g,new jf(a))},Vi.prototype.sa=function(a){tt(this.g,new bf)},Vi.prototype.ra=function(){tt(this.g,"b")},Ra.prototype.createWebChannel=Ra.prototype.g,qt.prototype.send=qt.prototype.o,qt.prototype.open=qt.prototype.m,qt.prototype.close=qt.prototype.close,g_=function(){return new Ra},m_=function(){return xi()},p_=bn,Th={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ie.NO_ERROR=0,ie.TIMEOUT=8,ie.HTTP_ERROR=6,ul=ie,X.COMPLETE="complete",f_=X,Fo.EventType=jn,jn.OPEN="a",jn.CLOSE="b",jn.ERROR="c",jn.MESSAGE="d",et.prototype.listen=et.prototype.K,hs=Fo,d_=$o,$e.prototype.listenOnce=$e.prototype.L,$e.prototype.getLastError=$e.prototype.Ka,$e.prototype.getLastErrorCode=$e.prototype.Ba,$e.prototype.getStatus=$e.prototype.Z,$e.prototype.getResponseJson=$e.prototype.Oa,$e.prototype.getResponseText=$e.prototype.oa,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Ha,h_=$e}).apply(typeof Ha<"u"?Ha:typeof self<"u"?self:typeof window<"u"?window:{});const km="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}It.UNAUTHENTICATED=new It(null),It.GOOGLE_CREDENTIALS=new It("google-credentials-uid"),It.FIRST_PARTY=new It("first-party-uid"),It.MOCK_USER=new It("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ao="10.12.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gi=new t_("@firebase/firestore");function os(){return gi.logLevel}function J(t,...e){if(gi.logLevel<=ye.DEBUG){const n=e.map(bd);gi.debug(`Firestore (${Ao}): ${t}`,...n)}}function er(t,...e){if(gi.logLevel<=ye.ERROR){const n=e.map(bd);gi.error(`Firestore (${Ao}): ${t}`,...n)}}function yo(t,...e){if(gi.logLevel<=ye.WARN){const n=e.map(bd);gi.warn(`Firestore (${Ao}): ${t}`,...n)}}function bd(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function le(t="Unexpected state"){const e=`FIRESTORE (${Ao}) INTERNAL ASSERTION FAILED: `+t;throw er(e),new Error(e)}function Je(t,e){t||le()}function we(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Z extends Si{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class II{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(It.UNAUTHENTICATED))}shutdown(){}}class RI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class CI{constructor(e){this.t=e,this.currentUser=It.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let o=new Dr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Dr,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{J("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(J("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Dr)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(J("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Je(typeof r.accessToken=="string"),new y_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string"),new It(e)}}class AI{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=It.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class PI{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new AI(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(It.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class kI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xI{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&J("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,J("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{J("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):J("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Je(typeof n.token=="string"),this.R=n.token,new kI(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=DI(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Re(t,e){return t<e?-1:t>e?1:0}function vo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Z(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Z(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Z(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Z(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Bt.fromMillis(Date.now())}static fromDate(e){return Bt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Bt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.timestamp=e}static fromTimestamp(e){return new se(e)}static min(){return new se(new Bt(0,0))}static max(){return new se(new Bt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,n,r){n===void 0?n=0:n>e.length&&le(),r===void 0?r=e.length-n:r>e.length-n&&le(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Xs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Xs?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ue extends Xs{construct(e,n,r){return new Ue(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Z(q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ue(n)}static emptyPath(){return new Ue([])}}const NI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dt extends Xs{construct(e,n,r){return new Dt(e,n,r)}static isValidIdentifier(e){return NI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Dt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Z(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Z(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Z(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(s=!s,i++):l!=="."||s?(r+=l,i++):(o(),i++)}if(o(),s)throw new Z(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dt(n)}static emptyPath(){return new Dt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.path=e}static fromPath(e){return new ne(Ue.fromString(e))}static fromName(e){return new ne(Ue.fromString(e).popFirst(5))}static empty(){return new ne(Ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ue.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ue.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ne(new Ue(e.slice()))}}function VI(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=se.fromTimestamp(r===1e9?new Bt(n+1,0):new Bt(n,r));return new Or(i,ne.empty(),e)}function LI(t){return new Or(t.readTime,t.key,-1)}class Or{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Or(se.min(),ne.empty(),-1)}static max(){return new Or(se.max(),ne.empty(),-1)}}function MI(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ne.comparator(t.documentKey,e.documentKey),n!==0?n:Re(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zd(t){if(t.code!==q.FAILED_PRECONDITION||t.message!==OI)throw t;J("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&le(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let i=0,o=0,s=!1;e.forEach(l=>{++i,l.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(i=>i?z.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new z((r,i)=>{const o=e.length,s=new Array(o);let l=0;for(let u=0;u<o;u++){const h=u;n(e[h]).next(f=>{s[h]=f,++l,l===o&&r(s)},f=>i(f))}})}static doWhile(e,n){return new z((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function UI(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ca(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Bd.oe=-1;function pu(t){return t==null}function Sh(t){return t===0&&1/t==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function mu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function jI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,n){this.comparator=e,this.root=n||pt.EMPTY}insert(e,n){return new Ke(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pt.BLACK,null,null))}remove(e){return new Ke(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qa(this.root,e,this.comparator,!1)}getReverseIterator(){return new qa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qa(this.root,e,this.comparator,!0)}}class qa{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??pt.RED,this.left=i??pt.EMPTY,this.right=o??pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new pt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return pt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return pt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw le();const e=this.left.check();if(e!==this.right.check())throw le();return e+(this.isRed()?0:1)}}pt.EMPTY=null,pt.RED=!0,pt.BLACK=!1;pt.EMPTY=new class{constructor(){this.size=0}get key(){throw le()}get value(){throw le()}get color(){throw le()}get left(){throw le()}get right(){throw le()}copy(e,n,r,i,o){return this}insert(e,n,r){return new pt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.comparator=e,this.data=new Ke(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Dm(this.data.getIterator())}getIteratorFrom(e){return new Dm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof gt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new gt(this.comparator);return n.data=e,n}}class Dm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this.fields=e,e.sort(Dt.comparator)}static empty(){return new vr([])}unionWith(e){let n=new gt(Dt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new vr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return vo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new __("Invalid base64 string: "+o):o}}(e);return new Pt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Pt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pt.EMPTY_BYTE_STRING=new Pt("");const bI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fr(t){if(Je(!!t),typeof t=="string"){let e=0;const n=bI.exec(t);if(Je(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ye(t.seconds),nanos:Ye(t.nanos)}}function Ye(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function yi(t){return typeof t=="string"?Pt.fromBase64String(t):Pt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $d(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Hd(t){const e=t.mapValue.fields.__previous_value__;return $d(e)?Hd(e):e}function Js(t){const e=Fr(t.mapValue.fields.__local_write_time__.timestampValue);return new Bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e,n,r,i,o,s,l,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=h}}class Zs{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Zs("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Zs&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function vi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?$d(t)?4:BI(t)?9007199254740991:10:le()}function Ln(t,e){if(t===e)return!0;const n=vi(t);if(n!==vi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Js(t).isEqual(Js(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Fr(i.timestampValue),l=Fr(o.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return yi(i.bytesValue).isEqual(yi(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ye(i.geoPointValue.latitude)===Ye(o.geoPointValue.latitude)&&Ye(i.geoPointValue.longitude)===Ye(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ye(i.integerValue)===Ye(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Ye(i.doubleValue),l=Ye(o.doubleValue);return s===l?Sh(s)===Sh(l):isNaN(s)&&isNaN(l)}return!1}(t,e);case 9:return vo(t.arrayValue.values||[],e.arrayValue.values||[],Ln);case 10:return function(i,o){const s=i.mapValue.fields||{},l=o.mapValue.fields||{};if(xm(s)!==xm(l))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(l[u]===void 0||!Ln(s[u],l[u])))return!1;return!0}(t,e);default:return le()}}function ea(t,e){return(t.values||[]).find(n=>Ln(n,e))!==void 0}function _o(t,e){if(t===e)return 0;const n=vi(t),r=vi(e);if(n!==r)return Re(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Re(t.booleanValue,e.booleanValue);case 2:return function(o,s){const l=Ye(o.integerValue||o.doubleValue),u=Ye(s.integerValue||s.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return Nm(t.timestampValue,e.timestampValue);case 4:return Nm(Js(t),Js(e));case 5:return Re(t.stringValue,e.stringValue);case 6:return function(o,s){const l=yi(o),u=yi(s);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const l=o.split("/"),u=s.split("/");for(let h=0;h<l.length&&h<u.length;h++){const f=Re(l[h],u[h]);if(f!==0)return f}return Re(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const l=Re(Ye(o.latitude),Ye(s.latitude));return l!==0?l:Re(Ye(o.longitude),Ye(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const l=o.values||[],u=s.values||[];for(let h=0;h<l.length&&h<u.length;++h){const f=_o(l[h],u[h]);if(f)return f}return Re(l.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===Ga.mapValue&&s===Ga.mapValue)return 0;if(o===Ga.mapValue)return 1;if(s===Ga.mapValue)return-1;const l=o.fields||{},u=Object.keys(l),h=s.fields||{},f=Object.keys(h);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){const m=Re(u[p],f[p]);if(m!==0)return m;const R=_o(l[u[p]],h[f[p]]);if(R!==0)return R}return Re(u.length,f.length)}(t.mapValue,e.mapValue);default:throw le()}}function Nm(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Re(t,e);const n=Fr(t),r=Fr(e),i=Re(n.seconds,r.seconds);return i!==0?i:Re(n.nanos,r.nanos)}function wo(t){return Ih(t)}function Ih(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Fr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return yi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Ih(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Ih(n.fields[s])}`;return i+"}"}(t.mapValue):le()}function Rh(t){return!!t&&"integerValue"in t}function qd(t){return!!t&&"arrayValue"in t}function Vm(t){return!!t&&"nullValue"in t}function Lm(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function mc(t){return!!t&&"mapValue"in t}function Rs(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return mu(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Rs(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Rs(t.arrayValue.values[n]);return e}return Object.assign({},t)}function BI(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.value=e}static empty(){return new kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!mc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rs(n)}setAll(e){let n=Dt.emptyPath(),r={},i=[];e.forEach((s,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}s?r[l.lastSegment()]=Rs(s):i.push(l.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());mc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ln(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];mc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){mu(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new kn(Rs(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,n,r,i,o,s,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=l}static newInvalidDocument(e){return new Ct(e,0,se.min(),se.min(),se.min(),kn.empty(),0)}static newFoundDocument(e,n,r,i){return new Ct(e,1,n,se.min(),r,i,0)}static newNoDocument(e,n){return new Ct(e,2,n,se.min(),se.min(),kn.empty(),0)}static newUnknownDocument(e,n){return new Ct(e,3,n,se.min(),se.min(),kn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ct&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ct(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,n){this.position=e,this.inclusive=n}}function Mm(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=ne.comparator(ne.fromName(s.referenceValue),n.key):r=_o(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Om(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ln(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,n="asc"){this.field=e,this.dir=n}}function $I(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{}class rt extends w_{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new qI(e,n,r):n==="array-contains"?new WI(e,r):n==="in"?new QI(e,r):n==="not-in"?new YI(e,r):n==="array-contains-any"?new XI(e,r):new rt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new GI(e,r):new KI(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(_o(n,this.value)):n!==null&&vi(this.value)===vi(n)&&this.matchesComparison(_o(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return le()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mn extends w_{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Mn(e,n)}matches(e){return E_(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function E_(t){return t.op==="and"}function T_(t){return HI(t)&&E_(t)}function HI(t){for(const e of t.filters)if(e instanceof Mn)return!1;return!0}function Ch(t){if(t instanceof rt)return t.field.canonicalString()+t.op.toString()+wo(t.value);if(T_(t))return t.filters.map(e=>Ch(e)).join(",");{const e=t.filters.map(n=>Ch(n)).join(",");return`${t.op}(${e})`}}function S_(t,e){return t instanceof rt?function(r,i){return i instanceof rt&&r.op===i.op&&r.field.isEqual(i.field)&&Ln(r.value,i.value)}(t,e):t instanceof Mn?function(r,i){return i instanceof Mn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,l)=>o&&S_(s,i.filters[l]),!0):!1}(t,e):void le()}function I_(t){return t instanceof rt?function(n){return`${n.field.canonicalString()} ${n.op} ${wo(n.value)}`}(t):t instanceof Mn?function(n){return n.op.toString()+" {"+n.getFilters().map(I_).join(" ,")+"}"}(t):"Filter"}class qI extends rt{constructor(e,n,r){super(e,n,r),this.key=ne.fromName(r.referenceValue)}matches(e){const n=ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class GI extends rt{constructor(e,n){super(e,"in",n),this.keys=R_("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class KI extends rt{constructor(e,n){super(e,"not-in",n),this.keys=R_("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function R_(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ne.fromName(r.referenceValue))}class WI extends rt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return qd(n)&&ea(n.arrayValue,this.value)}}class QI extends rt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ea(this.value.arrayValue,n)}}class YI extends rt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ea(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ea(this.value.arrayValue,n)}}class XI extends rt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!qd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ea(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e,n=null,r=[],i=[],o=null,s=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=l,this.ue=null}}function Fm(t,e=null,n=[],r=[],i=null,o=null,s=null){return new JI(t,e,n,r,i,o,s)}function Gd(t){const e=we(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ch(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),pu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>wo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>wo(r)).join(",")),e.ue=n}return e.ue}function Kd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!$I(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!S_(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Om(t.startAt,e.startAt)&&Om(t.endAt,e.endAt)}function Ah(t){return ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,n=null,r=[],i=[],o=null,s="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=l,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function ZI(t,e,n,r,i,o,s,l){return new gu(t,e,n,r,i,o,s,l)}function Wd(t){return new gu(t)}function Um(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function eR(t){return t.collectionGroup!==null}function Cs(t){const e=we(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let l=new gt(Dt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Bl(o,r))}),n.has(Dt.keyField().canonicalString())||e.ce.push(new Bl(Dt.keyField(),r))}return e.ce}function Nn(t){const e=we(t);return e.le||(e.le=tR(e,Cs(t))),e.le}function tR(t,e){if(t.limitType==="F")return Fm(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Bl(i.field,o)});const n=t.endAt?new zl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new zl(t.startAt.position,t.startAt.inclusive):null;return Fm(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ph(t,e,n){return new gu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function yu(t,e){return Kd(Nn(t),Nn(e))&&t.limitType===e.limitType}function C_(t){return`${Gd(Nn(t))}|lt:${t.limitType}`}function Fi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>I_(i)).join(", ")}]`),pu(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>wo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>wo(i)).join(",")),`Target(${r})`}(Nn(t))}; limitType=${t.limitType})`}function vu(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ne.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Cs(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,l,u){const h=Mm(s,l,u);return s.inclusive?h<=0:h<0}(r.startAt,Cs(r),i)||r.endAt&&!function(s,l,u){const h=Mm(s,l,u);return s.inclusive?h>=0:h>0}(r.endAt,Cs(r),i))}(t,e)}function nR(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function A_(t){return(e,n)=>{let r=!1;for(const i of Cs(t)){const o=rR(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function rR(t,e,n){const r=t.field.isKeyField()?ne.comparator(e.key,n.key):function(o,s,l){const u=s.data.field(o),h=l.data.field(o);return u!==null&&h!==null?_o(u,h):le()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return le()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){mu(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return jI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR=new Ke(ne.comparator);function Ur(){return iR}const P_=new Ke(ne.comparator);function ds(...t){let e=P_;for(const n of t)e=e.insert(n.key,n);return e}function oR(t){let e=P_;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ii(){return As()}function k_(){return As()}function As(){return new Po(t=>t.toString(),(t,e)=>t.isEqual(e))}const sR=new gt(ne.comparator);function ve(...t){let e=sR;for(const n of t)e=e.add(n);return e}const aR=new gt(Re);function lR(){return aR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sh(e)?"-0":e}}function cR(t){return{integerValue:""+t}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(){this._=void 0}}function hR(t,e,n){return t instanceof kh?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&$d(o)&&(o=Hd(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof $l?x_(t,e):t instanceof Hl?D_(t,e):function(i,o){const s=fR(i,o),l=jm(s)+jm(i.Pe);return Rh(s)&&Rh(i.Pe)?cR(l):uR(i.serializer,l)}(t,e)}function dR(t,e,n){return t instanceof $l?x_(t,e):t instanceof Hl?D_(t,e):n}function fR(t,e){return t instanceof xh?function(r){return Rh(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class kh extends _u{}class $l extends _u{constructor(e){super(),this.elements=e}}function x_(t,e){const n=N_(e);for(const r of t.elements)n.some(i=>Ln(i,r))||n.push(r);return{arrayValue:{values:n}}}class Hl extends _u{constructor(e){super(),this.elements=e}}function D_(t,e){let n=N_(e);for(const r of t.elements)n=n.filter(i=>!Ln(i,r));return{arrayValue:{values:n}}}class xh extends _u{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function jm(t){return Ye(t.integerValue||t.doubleValue)}function N_(t){return qd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function pR(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof $l&&i instanceof $l||r instanceof Hl&&i instanceof Hl?vo(r.elements,i.elements,Ln):r instanceof xh&&i instanceof xh?Ln(r.Pe,i.Pe):r instanceof kh&&i instanceof kh}(t.transform,e.transform)}class li{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new li}static exists(e){return new li(void 0,e)}static updateTime(e){return new li(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Qd{}function V_(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new gR(t.key,li.none()):new Yd(t.key,t.data,li.none());{const n=t.data,r=kn.empty();let i=new gt(Dt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new wu(t.key,r,new vr(i.toArray()),li.none())}}function mR(t,e,n){t instanceof Yd?function(i,o,s){const l=i.value.clone(),u=zm(i.fieldTransforms,o,s.transformResults);l.setAll(u),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):t instanceof wu?function(i,o,s){if(!cl(i.precondition,o))return void o.convertToUnknownDocument(s.version);const l=zm(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(L_(i)),u.setAll(l),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Ps(t,e,n,r){return t instanceof Yd?function(o,s,l,u){if(!cl(o.precondition,s))return l;const h=o.value.clone(),f=Bm(o.fieldTransforms,u,s);return h.setAll(f),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof wu?function(o,s,l,u){if(!cl(o.precondition,s))return l;const h=Bm(o.fieldTransforms,u,s),f=s.data;return f.setAll(L_(o)),f.setAll(h),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,l){return cl(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l}(t,e,n)}function bm(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&vo(r,i,(o,s)=>pR(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Yd extends Qd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class wu extends Qd{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function L_(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function zm(t,e,n){const r=new Map;Je(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,l=e.data.field(o.field);r.set(o.field,dR(s,l,n[i]))}return r}function Bm(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,hR(o,s,e))}return r}class gR extends Qd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&mR(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ps(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ps(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=k_();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let l=this.applyToLocalView(s,o.mutatedFields);l=n.has(i.key)?null:l;const u=V_(s,l);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ve())}isEqual(e){return this.batchId===e.batchId&&vo(this.mutations,e.mutations,(n,r)=>bm(n,r))&&vo(this.baseMutations,e.baseMutations,(n,r)=>bm(n,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We,fe;function M_(t){if(t===void 0)return er("GRPC error has no .code"),q.UNKNOWN;switch(t){case We.OK:return q.OK;case We.CANCELLED:return q.CANCELLED;case We.UNKNOWN:return q.UNKNOWN;case We.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case We.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case We.INTERNAL:return q.INTERNAL;case We.UNAVAILABLE:return q.UNAVAILABLE;case We.UNAUTHENTICATED:return q.UNAUTHENTICATED;case We.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case We.NOT_FOUND:return q.NOT_FOUND;case We.ALREADY_EXISTS:return q.ALREADY_EXISTS;case We.PERMISSION_DENIED:return q.PERMISSION_DENIED;case We.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case We.ABORTED:return q.ABORTED;case We.OUT_OF_RANGE:return q.OUT_OF_RANGE;case We.UNIMPLEMENTED:return q.UNIMPLEMENTED;case We.DATA_LOSS:return q.DATA_LOSS;default:return le()}}(fe=We||(We={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER=new ai([4294967295,4294967295],0);function $m(t){const e=wR().encode(t),n=new c_;return n.update(e),new Uint8Array(n.digest())}function Hm(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ai([n,r],0),new ai([i,o],0)]}class Xd{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new fs(`Invalid padding: ${n}`);if(r<0)throw new fs(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new fs(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new fs(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ai.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(ai.fromNumber(r)));return i.compare(ER)===1&&(i=new ai([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=$m(e),[r,i]=Hm(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new Xd(o,i,n);return r.forEach(l=>s.insert(l)),s}insert(e){if(this.Ie===0)return;const n=$m(e),[r,i]=Hm(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class fs extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ha.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Eu(se.min(),i,new Ke(Re),Ur(),ve())}}class ha{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ha(r,n,ve(),ve(),ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class O_{constructor(e,n){this.targetId=e,this.me=n}}class F_{constructor(e,n,r=Pt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class qm{constructor(){this.fe=0,this.ge=Km(),this.pe=Pt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=ve(),n=ve(),r=ve();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:le()}}),new ha(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=Km()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Je(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class TR{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ur(),this.qe=Gm(),this.Qe=new Ke(Re)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:le()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(Ah(o))if(r===0){const s=new ne(o.path);this.Ue(n,s,Ct.newNoDocument(s,se.min()))}else Je(r===1);else{const s=this.Ye(n);if(s!==r){const l=this.Ze(e),u=l?this.Xe(l,e,s):1;if(u!==0){this.je(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,h)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,l;try{s=yi(r).toUint8Array()}catch(u){if(u instanceof __)return yo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new Xd(s,i,o)}catch(u){return yo(u instanceof fs?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),l=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const l=this.Je(s);if(l){if(o.current&&Ah(l.target)){const u=new ne(l.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,Ct.newNoDocument(u,e))}o.be&&(n.set(s,o.Ce()),o.ve())}});let r=ve();this.qe.forEach((o,s)=>{let l=!0;s.forEachWhile(u=>{const h=this.Je(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new Eu(e,n,this.Qe,this.ke,r);return this.ke=Ur(),this.qe=Gm(),this.Qe=new Ke(Re),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new qm,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new gt(Re),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||J("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new qm),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Gm(){return new Ke(ne.comparator)}function Km(){return new Ke(ne.comparator)}const SR={asc:"ASCENDING",desc:"DESCENDING"},IR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RR={and:"AND",or:"OR"};class CR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Dh(t,e){return t.useProto3Json||pu(e)?e:{value:e}}function AR(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function PR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function io(t){return Je(!!t),se.fromTimestamp(function(n){const r=Fr(n);return new Bt(r.seconds,r.nanos)}(t))}function kR(t,e){return Nh(t,e).canonicalString()}function Nh(t,e){const n=function(i){return new Ue(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function U_(t){const e=Ue.fromString(t);return Je($_(e)),e}function gc(t,e){const n=U_(e);if(n.get(1)!==t.databaseId.projectId)throw new Z(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Z(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ne(b_(n))}function j_(t,e){return kR(t.databaseId,e)}function xR(t){const e=U_(t);return e.length===4?Ue.emptyPath():b_(e)}function Wm(t){return new Ue(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function b_(t){return Je(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function DR(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:le()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(h,f){return h.useProto3Json?(Je(f===void 0||typeof f=="string"),Pt.fromBase64String(f||"")):(Je(f===void 0||f instanceof Buffer||f instanceof Uint8Array),Pt.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,l=s&&function(h){const f=h.code===void 0?q.UNKNOWN:M_(h.code);return new Z(f,h.message||"")}(s);n=new F_(r,i,o,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=gc(t,r.document.name),o=io(r.document.updateTime),s=r.document.createTime?io(r.document.createTime):se.min(),l=new kn({mapValue:{fields:r.document.fields}}),u=Ct.newFoundDocument(i,o,s,l),h=r.targetIds||[],f=r.removedTargetIds||[];n=new hl(h,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=gc(t,r.document),o=r.readTime?io(r.readTime):se.min(),s=Ct.newNoDocument(i,o),l=r.removedTargetIds||[];n=new hl([],l,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=gc(t,r.document),o=r.removedTargetIds||[];n=new hl([],o,i,null)}else{if(!("filter"in e))return le();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new _R(i,o),l=r.targetId;n=new O_(l,s)}}return n}function NR(t,e){return{documents:[j_(t,e.path)]}}function VR(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=j_(t,i);const o=function(h){if(h.length!==0)return B_(Mn.create(h,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(h){if(h.length!==0)return h.map(f=>function(m){return{field:Ui(m.field),direction:OR(m.dir)}}(f))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const l=Dh(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{_t:n,parent:i}}function LR(t){let e=xR(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Je(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];n.where&&(o=function(p){const m=z_(p);return m instanceof Mn&&T_(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(m=>function(A){return new Bl(ji(A.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(p){let m;return m=typeof p=="object"?p.value:p,pu(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){const m=!!p.before,R=p.values||[];return new zl(R,m)}(n.startAt));let h=null;return n.endAt&&(h=function(p){const m=!p.before,R=p.values||[];return new zl(R,m)}(n.endAt)),ZI(e,i,s,o,l,"F",u,h)}function MR(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return le()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function z_(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ji(n.unaryFilter.field);return rt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ji(n.unaryFilter.field);return rt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ji(n.unaryFilter.field);return rt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ji(n.unaryFilter.field);return rt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return le()}}(t):t.fieldFilter!==void 0?function(n){return rt.create(ji(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return le()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Mn.create(n.compositeFilter.filters.map(r=>z_(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return le()}}(n.compositeFilter.op))}(t):le()}function OR(t){return SR[t]}function FR(t){return IR[t]}function UR(t){return RR[t]}function Ui(t){return{fieldPath:t.canonicalString()}}function ji(t){return Dt.fromServerFormat(t.fieldPath)}function B_(t){return t instanceof rt?function(n){if(n.op==="=="){if(Lm(n.value))return{unaryFilter:{field:Ui(n.field),op:"IS_NAN"}};if(Vm(n.value))return{unaryFilter:{field:Ui(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Lm(n.value))return{unaryFilter:{field:Ui(n.field),op:"IS_NOT_NAN"}};if(Vm(n.value))return{unaryFilter:{field:Ui(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ui(n.field),op:FR(n.op),value:n.value}}}(t):t instanceof Mn?function(n){const r=n.getFilters().map(i=>B_(i));return r.length===1?r[0]:{compositeFilter:{op:UR(n.op),filters:r}}}(t):le()}function $_(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e,n,r,i,o=se.min(),s=se.min(),l=Pt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new _r(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e){this.ct=e}}function bR(t){const e=LR({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ph(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(){this._n=new BR}addToCollectionParentIndex(e,n){return this._n.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(Or.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(Or.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class BR{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new gt(Ue.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new gt(Ue.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Eo(0)}static Ln(){return new Eo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(){this.changes=new Po(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ct.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ps(r.mutation,i,vr.empty(),Bt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ve()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ve()){const i=ii();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=ds();return o.forEach((l,u)=>{s=s.insert(l,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=ii();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ve()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,l)=>{n.set(s,l)})})}computeViews(e,n,r,i){let o=Ur();const s=As(),l=function(){return As()}();return n.forEach((u,h)=>{const f=r.get(h.key);i.has(h.key)&&(f===void 0||f.mutation instanceof wu)?o=o.insert(h.key,h):f!==void 0?(s.set(h.key,f.mutation.getFieldMask()),Ps(f.mutation,h,f.mutation.getFieldMask(),Bt.now())):s.set(h.key,vr.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((h,f)=>s.set(h,f)),n.forEach((h,f)=>{var p;return l.set(h,new HR(f,(p=s.get(h))!==null&&p!==void 0?p:null))}),l))}recalculateAndSaveOverlays(e,n){const r=As();let i=new Ke((s,l)=>s-l),o=ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const l of s)l.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let f=r.get(u)||vr.empty();f=l.applyToLocalView(h,f),r.set(u,f);const p=(i.get(l.batchId)||ve()).add(u);i=i.insert(l.batchId,p)})}).next(()=>{const s=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),h=u.key,f=u.value,p=k_();f.forEach(m=>{if(!o.has(m)){const R=V_(n.get(m),r.get(m));R!==null&&p.set(m,R),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,h,p))}return z.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return ne.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):eR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):z.resolve(ii());let l=-1,u=o;return s.next(h=>z.forEach(h,(f,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),o.get(f)?z.resolve():this.remoteDocumentCache.getEntry(e,f).next(m=>{u=u.insert(f,m)}))).next(()=>this.populateOverlays(e,h,o)).next(()=>this.computeViews(e,u,h,ve())).next(f=>({batchId:l,changes:oR(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ne(n)).next(r=>{let i=ds();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=ds();return this.indexManager.getCollectionParents(e,o).next(l=>z.forEach(l,u=>{const h=function(p,m){return new gu(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(f=>{f.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,h)=>{const f=h.getKey();s.get(f)===null&&(s=s.insert(f,Ct.newInvalidDocument(f)))});let l=ds();return s.forEach((u,h)=>{const f=o.get(u);f!==void 0&&Ps(f.mutation,h,vr.empty(),Bt.now()),vu(n,h)&&(l=l.insert(u,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return z.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:io(i.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:bR(i.bundledQuery),readTime:io(i.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(){this.overlays=new Ke(ne.comparator),this.hr=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ii();return z.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const i=ii(),o=n.length+1,s=new ne(n.child("")),l=this.overlays.getIteratorFrom(s);for(;l.hasNext();){const u=l.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return z.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Ke((h,f)=>h-f);const s=this.overlays.getIterator();for(;s.hasNext();){const h=s.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let f=o.get(h.largestBatchId);f===null&&(f=ii(),o=o.insert(h.largestBatchId,f)),f.set(h.getKey(),h)}}const l=ii(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,f)=>l.set(h,f)),!(l.size()>=i)););return z.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new vR(n,r));let o=this.hr.get(n);o===void 0&&(o=ve(),this.hr.set(n,o)),this.hr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(){this.Pr=new gt(st.Ir),this.Tr=new gt(st.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new st(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new st(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new ne(new Ue([])),r=new st(n,e),i=new st(n,e+1),o=[];return this.Tr.forEachInRange([r,i],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new ne(new Ue([])),r=new st(n,e),i=new st(n,e+1);let o=ve();return this.Tr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new st(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class st{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return ne.comparator(e.key,n.key)||Re(e.pr,n.pr)}static Er(e,n){return Re(e.pr,n.pr)||ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new gt(st.Ir)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new yR(o,n,r,i);this.mutationQueue.push(s);for(const l of i)this.wr=this.wr.add(new st(l.key,o)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return z.resolve(s)}lookupMutationBatch(e,n){return z.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),o=i<0?0:i;return z.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new st(n,0),i=new st(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],s=>{const l=this.Sr(s.pr);o.push(l)}),z.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new gt(Re);return n.forEach(i=>{const o=new st(i,0),s=new st(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],l=>{r=r.add(l.pr)})}),z.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ne.isDocumentKey(o)||(o=o.child(""));const s=new st(new ne(o),0);let l=new gt(Re);return this.wr.forEachWhile(u=>{const h=u.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(l=l.add(u.pr)),!0)},s),z.resolve(this.Dr(l))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Je(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return z.forEach(n.mutations,i=>{const o=new st(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new st(n,0),i=this.wr.firstAfterOrEqual(r);return z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e){this.vr=e,this.docs=function(){return new Ke(ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():Ct.newInvalidDocument(n))}getEntries(e,n){let r=Ur();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Ct.newInvalidDocument(i))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Ur();const s=n.path,l=new ne(s.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:h,value:{document:f}}=u.getNext();if(!s.isPrefixOf(h.path))break;h.path.length>s.length+1||MI(LI(f),r)<=0||(i.has(f.key)||vu(n,f))&&(o=o.insert(f.key,f.mutableCopy()))}return z.resolve(o)}getAllFromCollectionGroup(e,n,r,i){le()}Fr(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new YR(this)}getSize(e){return z.resolve(this.size)}}class YR extends $R{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e){this.persistence=e,this.Mr=new Po(n=>Gd(n),Kd),this.lastRemoteSnapshotVersion=se.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Jd,this.targetCount=0,this.Lr=Eo.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),z.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new Eo(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.qn(n),z.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Mr.forEach((s,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),z.waitFor(o).next(()=>i)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),z.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),z.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e,n){this.Br={},this.overlays={},this.kr=new Bd(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new XR(this),this.indexManager=new zR,this.remoteDocumentCache=function(i){return new QR(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new jR(n),this.$r=new GR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new KR,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new WR(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){J("MemoryPersistence","Starting transaction:",e);const i=new ZR(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,n){return z.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class ZR extends FI{constructor(e){super(),this.currentSequenceNumber=e}}class Zd{constructor(e){this.persistence=e,this.zr=new Jd,this.jr=null}static Hr(e){return new Zd(e)}get Jr(){if(this.jr)return this.jr;throw le()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),z.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.Jr,r=>{const i=ne.fromPath(r);return this.Yr(e,i).next(o=>{o||n.removeEntry(i,se.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return z.or([()=>z.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=ve(),i=ve();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new ef(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return dS()?8:UI(cS())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ji(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new eC;return this.Ji(e,n,s).next(l=>{if(o.result=l,this.Ui)return this.Yi(e,n,s,l.size)})}).next(()=>o.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(os()<=ye.DEBUG&&J("QueryEngine","SDK will not create cache indexes for query:",Fi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),z.resolve()):(os()<=ye.DEBUG&&J("QueryEngine","Query:",Fi(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(os()<=ye.DEBUG&&J("QueryEngine","The SDK decides to create cache indexes for query:",Fi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Nn(n))):z.resolve())}ji(e,n){if(Um(n))return z.resolve(null);let r=Nn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ph(n,null,"F"),r=Nn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=ve(...o);return this.zi.getDocuments(e,s).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const h=this.Zi(n,l);return this.Xi(n,h,s,u.readTime)?this.ji(e,Ph(n,null,"F")):this.es(e,h,n,u)}))})))}Hi(e,n,r,i){return Um(n)||i.isEqual(se.min())?z.resolve(null):this.zi.getDocuments(e,r).next(o=>{const s=this.Zi(n,o);return this.Xi(n,s,r,i)?z.resolve(null):(os()<=ye.DEBUG&&J("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Fi(n)),this.es(e,s,n,VI(i,-1)).next(l=>l))})}Zi(e,n){let r=new gt(A_(e));return n.forEach((i,o)=>{vu(e,o)&&(r=r.add(o))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,n,r){return os()<=ye.DEBUG&&J("QueryEngine","Using full collection scan to execute query:",Fi(n)),this.zi.getDocumentsMatchingQuery(e,n,Or.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Ke(Re),this.rs=new Po(o=>Gd(o),Kd),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qR(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function rC(t,e,n,r){return new nC(t,e,n,r)}async function H_(t,e){const n=we(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],l=[];let u=ve();for(const h of i){s.push(h.batchId);for(const f of h.mutations)u=u.add(f.key)}for(const h of o){l.push(h.batchId);for(const f of h.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(h=>({us:h,removedBatchIds:s,addedBatchIds:l}))})})}function q_(t){const e=we(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function iC(t,e){const n=we(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const l=[];e.targetChanges.forEach((f,p)=>{const m=i.get(p);if(!m)return;l.push(n.Qr.removeMatchingKeys(o,f.removedDocuments,p).next(()=>n.Qr.addMatchingKeys(o,f.addedDocuments,p)));let R=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?R=R.withResumeToken(Pt.EMPTY_BYTE_STRING,se.min()).withLastLimboFreeSnapshotVersion(se.min()):f.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(f.resumeToken,r)),i=i.insert(p,R),function(k,V,w){return k.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(m,R,f)&&l.push(n.Qr.updateTargetData(o,R))});let u=Ur(),h=ve();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(o,f))}),l.push(oC(o,s,e.documentUpdates).next(f=>{u=f.cs,h=f.ls})),!r.isEqual(se.min())){const f=n.Qr.getLastRemoteSnapshotVersion(o).next(p=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));l.push(f)}return z.waitFor(l).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,h)).next(()=>u)}).then(o=>(n.ns=i,o))}function oC(t,e,n){let r=ve(),i=ve();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Ur();return n.forEach((l,u)=>{const h=o.get(l);u.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(se.min())?(e.removeEntry(l,u.readTime),s=s.insert(l,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),s=s.insert(l,u)):J("LocalStore","Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",u.version)}),{cs:s,ls:i}})}function sC(t,e){const n=we(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(o=>o?(i=o,z.resolve(i)):n.Qr.allocateTargetId(r).next(s=>(i=new _r(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function Vh(t,e,n){const r=we(t),i=r.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!ca(s))throw s;J("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function Qm(t,e,n){const r=we(t);let i=se.min(),o=ve();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,h,f){const p=we(u),m=p.rs.get(f);return m!==void 0?z.resolve(p.ns.get(m)):p.Qr.getTargetData(h,f)}(r,s,Nn(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(s,l.targetId).next(u=>{o=u})}).next(()=>r.ts.getDocumentsMatchingQuery(s,e,n?i:se.min(),n?o:ve())).next(l=>(aC(r,nR(e),l),{documents:l,hs:o})))}function aC(t,e,n){let r=t.ss.get(e)||se.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ss.set(e,r)}class Ym{constructor(){this.activeTargetIds=lR()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lC{constructor(){this.no=new Ym,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Ym,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){J("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){J("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ka=null;function yc(){return Ka===null?Ka=function(){return 268435456+Math.round(2147483648*Math.random())}():Ka++,"0x"+Ka.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const St="WebChannelConnection";class dC extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${o}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Do(){return!1}Co(n,r,i,o,s){const l=yc(),u=this.vo(n,r.toUriEncodedString());J("RestConnection",`Sending RPC '${n}' ${l}:`,u,i);const h={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(h,o,s),this.Mo(n,u,h,i).then(f=>(J("RestConnection",`Received RPC '${n}' ${l}: `,f),f),f=>{throw yo("RestConnection",`RPC '${n}' ${l} failed with error: `,f,"url: ",u,"request:",i),f})}xo(n,r,i,o,s,l){return this.Co(n,r,i,o,s)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ao}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}vo(n,r){const i=cC[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){const o=yc();return new Promise((s,l)=>{const u=new h_;u.setWithCredentials(!0),u.listenOnce(f_.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case ul.NO_ERROR:const f=u.getResponseJson();J(St,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),s(f);break;case ul.TIMEOUT:J(St,`RPC '${e}' ${o} timed out`),l(new Z(q.DEADLINE_EXCEEDED,"Request time out"));break;case ul.HTTP_ERROR:const p=u.getStatus();if(J(St,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const R=m==null?void 0:m.error;if(R&&R.status&&R.message){const A=function(V){const w=V.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(w)>=0?w:q.UNKNOWN}(R.status);l(new Z(A,R.message))}else l(new Z(q.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new Z(q.UNAVAILABLE,"Connection failed."));break;default:le()}}finally{J(St,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(i);J(St,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",h,r,15)})}Oo(e,n,r){const i=yc(),o=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=g_(),l=m_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.xmlHttpFactory=new d_({})),this.Fo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=o.join("");J(St,`Creating RPC '${e}' stream ${i}: ${f}`,u);const p=s.createWebChannel(f,u);let m=!1,R=!1;const A=new hC({lo:V=>{R?J(St,`Not sending because RPC '${e}' stream ${i} is closed:`,V):(m||(J(St,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),J(St,`RPC '${e}' stream ${i} sending:`,V),p.send(V))},ho:()=>p.close()}),k=(V,w,v)=>{V.listen(w,I=>{try{v(I)}catch(M){setTimeout(()=>{throw M},0)}})};return k(p,hs.EventType.OPEN,()=>{R||(J(St,`RPC '${e}' stream ${i} transport opened.`),A.mo())}),k(p,hs.EventType.CLOSE,()=>{R||(R=!0,J(St,`RPC '${e}' stream ${i} transport closed`),A.po())}),k(p,hs.EventType.ERROR,V=>{R||(R=!0,yo(St,`RPC '${e}' stream ${i} transport errored:`,V),A.po(new Z(q.UNAVAILABLE,"The operation could not be completed")))}),k(p,hs.EventType.MESSAGE,V=>{var w;if(!R){const v=V.data[0];Je(!!v);const I=v,M=I.error||((w=I[0])===null||w===void 0?void 0:w.error);if(M){J(St,`RPC '${e}' stream ${i} received error:`,M);const b=M.status;let x=function(_){const S=We[_];if(S!==void 0)return M_(S)}(b),E=M.message;x===void 0&&(x=q.INTERNAL,E="Unknown error status: "+b+" with message "+M.message),R=!0,A.po(new Z(x,E)),p.close()}else J(St,`RPC '${e}' stream ${i} received:`,v),A.yo(v)}}),k(l,p_.STAT_EVENT,V=>{V.stat===Th.PROXY?J(St,`RPC '${e}' stream ${i} detected buffering proxy`):V.stat===Th.NOPROXY&&J(St,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.fo()},0),A}}function vc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_(t){return new CR(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=o,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&J("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e,n,r,i,o,s,l,u){this.oi=e,this.Go=r,this.zo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new K_(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===q.RESOURCE_EXHAUSTED?(er(n.toString()),er("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{const i=new Z(q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){const r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return J("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(J("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pC extends fC{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=DR(this.serializer,e),r=function(o){if(!("targetChange"in o))return se.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?se.min():s.readTime?io(s.readTime):se.min()}(e);return this.listener.h_(n,r)}P_(e){const n={};n.database=Wm(this.serializer),n.addTarget=function(o,s){let l;const u=s.target;if(l=Ah(u)?{documents:NR(o,u)}:{query:VR(o,u)._t},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=PR(o,s.resumeToken);const h=Dh(o,s.expectedCount);h!==null&&(l.expectedCount=h)}else if(s.snapshotVersion.compareTo(se.min())>0){l.readTime=AR(o,s.snapshotVersion.toTimestamp());const h=Dh(o,s.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);const r=MR(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){const n={};n.database=Wm(this.serializer),n.removeTarget=e,this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new Z(q.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,Nh(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Z(q.UNKNOWN,o.toString())})}xo(e,n,r,i,o){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.xo(e,Nh(n,r),i,s,l,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Z(q.UNKNOWN,s.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class gC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(er(n),this.y_=!1):J("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=o,this.O_.io(s=>{r.enqueueAndForget(async()=>{fa(this)&&(J("RemoteStore","Restarting streams for network reachability change."),await async function(u){const h=we(u);h.M_.add(4),await da(h),h.N_.set("Unknown"),h.M_.delete(4),await Tu(h)}(this))})}),this.N_=new gC(r,i)}}async function Tu(t){if(fa(t))for(const e of t.x_)await e(!0)}async function da(t){for(const e of t.x_)await e(!1)}function W_(t,e){const n=we(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),of(n)?rf(n):ko(n).Xo()&&nf(n,e))}function tf(t,e){const n=we(t),r=ko(n);n.F_.delete(e),r.Xo()&&Q_(n,e),n.F_.size===0&&(r.Xo()?r.n_():fa(n)&&n.N_.set("Unknown"))}function nf(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ko(t).P_(e)}function Q_(t,e){t.L_.xe(e),ko(t).I_(e)}function rf(t){t.L_=new TR({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ko(t).start(),t.N_.w_()}function of(t){return fa(t)&&!ko(t).Zo()&&t.F_.size>0}function fa(t){return we(t).M_.size===0}function Y_(t){t.L_=void 0}async function vC(t){t.N_.set("Online")}async function _C(t){t.F_.forEach((e,n)=>{nf(t,e)})}async function wC(t,e){Y_(t),of(t)?(t.N_.D_(e),rf(t)):t.N_.set("Unknown")}async function EC(t,e,n){if(t.N_.set("Online"),e instanceof F_&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const l of o.targetIds)i.F_.has(l)&&(await i.remoteSyncer.rejectListen(l,s),i.F_.delete(l),i.L_.removeTarget(l))}(t,e)}catch(r){J("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Jm(t,r)}else if(e instanceof hl?t.L_.Ke(e):e instanceof O_?t.L_.He(e):t.L_.We(e),!n.isEqual(se.min()))try{const r=await q_(t.localStore);n.compareTo(r)>=0&&await function(o,s){const l=o.L_.rt(s);return l.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const f=o.F_.get(h);f&&o.F_.set(h,f.withResumeToken(u.resumeToken,s))}}),l.targetMismatches.forEach((u,h)=>{const f=o.F_.get(u);if(!f)return;o.F_.set(u,f.withResumeToken(Pt.EMPTY_BYTE_STRING,f.snapshotVersion)),Q_(o,u);const p=new _r(f.target,u,h,f.sequenceNumber);nf(o,p)}),o.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){J("RemoteStore","Failed to raise snapshot:",r),await Jm(t,r)}}async function Jm(t,e,n){if(!ca(e))throw e;t.M_.add(1),await da(t),t.N_.set("Offline"),n||(n=()=>q_(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{J("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await Tu(t)})}async function Zm(t,e){const n=we(t);n.asyncQueue.verifyOperationInProgress(),J("RemoteStore","RemoteStore received new credentials");const r=fa(n);n.M_.add(3),await da(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await Tu(n)}async function TC(t,e){const n=we(t);e?(n.M_.delete(2),await Tu(n)):e||(n.M_.add(2),await da(n),n.N_.set("Unknown"))}function ko(t){return t.B_||(t.B_=function(n,r,i){const o=we(n);return o.f_(),new pC(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:vC.bind(null,t),To:_C.bind(null,t),Ao:wC.bind(null,t),h_:EC.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),of(t)?rf(t):t.N_.set("Unknown")):(await t.B_.stop(),Y_(t))})),t.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,l=new sf(e,n,s,i,o);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Z(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function X_(t,e){if(er("AsyncQueue",`${e}: ${t}`),ca(t))return new Z(q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ne.comparator(n.key,r.key):(n,r)=>ne.comparator(n.key,r.key),this.keyedMap=ds(),this.sortedSet=new Ke(this.comparator)}static emptySet(e){return new oo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof oo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new oo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(){this.q_=new Ke(ne.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):le():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class To{constructor(e,n,r,i,o,s,l,u,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(l=>{s.push({type:0,doc:l})}),new To(e,n,oo.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class IC{constructor(){this.queries=new Po(e=>C_(e),yu),this.onlineState="Unknown",this.z_=new Set}}async function J_(t,e){const n=we(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.W_()&&e.G_()&&(r=2):(o=new SC,r=e.G_()?0:1);try{switch(r){case 0:o.K_=await n.onListen(i,!0);break;case 1:o.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const l=X_(s,`Initialization of query '${Fi(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,o),o.U_.push(e),e.j_(n.onlineState),o.K_&&e.H_(o.K_)&&af(n)}async function Z_(t,e){const n=we(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.U_.indexOf(e);s>=0&&(o.U_.splice(s,1),o.U_.length===0?i=e.G_()?0:1:!o.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function RC(t,e){const n=we(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const l of s.U_)l.H_(i)&&(r=!0);s.K_=i}}r&&af(n)}function CC(t,e,n){const r=we(t),i=r.queries.get(e);if(i)for(const o of i.U_)o.onError(n);r.queries.delete(e)}function af(t){t.z_.forEach(e=>{e.next()})}var Lh,tg;(tg=Lh||(Lh={})).J_="default",tg.Cache="cache";class e0{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new To(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=To.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==Lh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e){this.key=e}}class n0{constructor(e){this.key=e}}class AC{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=ve(),this.mutatedKeys=ve(),this.Ia=A_(e),this.Ta=new oo(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new eg,i=n?n.Ta:this.Ta;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{const m=i.get(f),R=vu(this.query,p)?p:null,A=!!m&&this.mutatedKeys.has(m.key),k=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let V=!1;m&&R?m.data.isEqual(R.data)?A!==k&&(r.track({type:3,doc:R}),V=!0):this.Ra(m,R)||(r.track({type:2,doc:R}),V=!0,(u&&this.Ia(R,u)>0||h&&this.Ia(R,h)<0)&&(l=!0)):!m&&R?(r.track({type:0,doc:R}),V=!0):m&&!R&&(r.track({type:1,doc:m}),V=!0,(u||h)&&(l=!0)),V&&(R?(s=s.add(R),o=k?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{Ta:s,Aa:r,Xi:l,mutatedKeys:o}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const s=e.Aa.Q_();s.sort((f,p)=>function(R,A){const k=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return le()}};return k(R)-k(A)}(f.type,p.type)||this.Ia(f.doc,p.doc)),this.Va(r),i=i!=null&&i;const l=n&&!i?this.ma():[],u=this.Pa.size===0&&this.current&&!i?1:0,h=u!==this.ha;return this.ha=u,s.length!==0||h?{snapshot:new To(this.query,e.Ta,o,s,e.mutatedKeys,u===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:l}:{fa:l}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new eg,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=ve(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new n0(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new t0(r))}),n}pa(e){this.la=e.hs,this.Pa=ve();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return To.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class PC{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class kC{constructor(e){this.key=e,this.wa=!1}}class xC{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Sa={},this.ba=new Po(l=>C_(l),yu),this.Da=new Map,this.Ca=new Set,this.va=new Ke(ne.comparator),this.Fa=new Map,this.Ma=new Jd,this.xa={},this.Oa=new Map,this.Na=Eo.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function DC(t,e,n=!0){const r=a0(t);let i;const o=r.ba.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ya()):i=await r0(r,e,n,!0),i}async function NC(t,e){const n=a0(t);await r0(n,e,!0,!1)}async function r0(t,e,n,r){const i=await sC(t.localStore,Nn(e)),o=i.targetId,s=n?t.sharedClientState.addLocalQueryTarget(o):"not-current";let l;return r&&(l=await VC(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&W_(t.remoteStore,i),l}async function VC(t,e,n,r,i){t.Ba=(p,m,R)=>async function(k,V,w,v){let I=V.view.da(w);I.Xi&&(I=await Qm(k.localStore,V.query,!1).then(({documents:E})=>V.view.da(E,I)));const M=v&&v.targetChanges.get(V.targetId),b=v&&v.targetMismatches.get(V.targetId)!=null,x=V.view.applyChanges(I,k.isPrimaryClient,M,b);return rg(k,V.targetId,x.fa),x.snapshot}(t,p,m,R);const o=await Qm(t.localStore,e,!0),s=new AC(e,o.hs),l=s.da(o.documents),u=ha.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=s.applyChanges(l,t.isPrimaryClient,u);rg(t,n,h.fa);const f=new PC(e,n,s);return t.ba.set(e,f),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),h.snapshot}async function LC(t,e,n){const r=we(t),i=r.ba.get(e),o=r.Da.get(i.targetId);if(o.length>1)return r.Da.set(i.targetId,o.filter(s=>!yu(s,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Vh(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&tf(r.remoteStore,i.targetId),Mh(r,i.targetId)}).catch(zd)):(Mh(r,i.targetId),await Vh(r.localStore,i.targetId,!0))}async function MC(t,e){const n=we(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),tf(n.remoteStore,r.targetId))}async function i0(t,e){const n=we(t);try{const r=await iC(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Fa.get(o);s&&(Je(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.wa=!0:i.modifiedDocuments.size>0?Je(s.wa):i.removedDocuments.size>0&&(Je(s.wa),s.wa=!1))}),await s0(n,r,e)}catch(r){await zd(r)}}function ng(t,e,n){const r=we(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((o,s)=>{const l=s.view.j_(e);l.snapshot&&i.push(l.snapshot)}),function(s,l){const u=we(s);u.onlineState=l;let h=!1;u.queries.forEach((f,p)=>{for(const m of p.U_)m.j_(l)&&(h=!0)}),h&&af(u)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function OC(t,e,n){const r=we(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),o=i&&i.key;if(o){let s=new Ke(ne.comparator);s=s.insert(o,Ct.newNoDocument(o,se.min()));const l=ve().add(o),u=new Eu(se.min(),new Map,new Ke(Re),s,l);await i0(r,u),r.va=r.va.remove(o),r.Fa.delete(e),lf(r)}else await Vh(r.localStore,e,!1).then(()=>Mh(r,e,n)).catch(zd)}function Mh(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||o0(t,r)})}function o0(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(tf(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),lf(t))}function rg(t,e,n){for(const r of n)r instanceof t0?(t.Ma.addReference(r.key,e),FC(t,r)):r instanceof n0?(J("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||o0(t,r.key)):le()}function FC(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(J("SyncEngine","New document in limbo: "+n),t.Ca.add(r),lf(t))}function lf(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new ne(Ue.fromString(e)),r=t.Na.next();t.Fa.set(r,new kC(n)),t.va=t.va.insert(n,r),W_(t.remoteStore,new _r(Nn(Wd(n.path)),r,"TargetPurposeLimboResolution",Bd.oe))}}async function s0(t,e,n){const r=we(t),i=[],o=[],s=[];r.ba.isEmpty()||(r.ba.forEach((l,u)=>{s.push(r.Ba(u,e,n).then(h=>{if((h||n)&&r.isPrimaryClient){const f=h&&!h.fromCache;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(h){i.push(h);const f=ef.Ki(u.targetId,h);o.push(f)}}))}),await Promise.all(s),r.Sa.h_(i),await async function(u,h){const f=we(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>z.forEach(h,m=>z.forEach(m.qi,R=>f.persistence.referenceDelegate.addReference(p,m.targetId,R)).next(()=>z.forEach(m.Qi,R=>f.persistence.referenceDelegate.removeReference(p,m.targetId,R)))))}catch(p){if(!ca(p))throw p;J("LocalStore","Failed to update sequence numbers: "+p)}for(const p of h){const m=p.targetId;if(!p.fromCache){const R=f.ns.get(m),A=R.snapshotVersion,k=R.withLastLimboFreeSnapshotVersion(A);f.ns=f.ns.insert(m,k)}}}(r.localStore,o))}async function UC(t,e){const n=we(t);if(!n.currentUser.isEqual(e)){J("SyncEngine","User change. New user:",e.toKey());const r=await H_(n.localStore,e);n.currentUser=e,function(o,s){o.Oa.forEach(l=>{l.forEach(u=>{u.reject(new Z(q.CANCELLED,s))})}),o.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await s0(n,r.us)}}function jC(t,e){const n=we(t),r=n.Fa.get(e);if(r&&r.wa)return ve().add(r.key);{let i=ve();const o=n.Da.get(e);if(!o)return i;for(const s of o){const l=n.ba.get(s);i=i.unionWith(l.view.Ea)}return i}}function a0(t){const e=we(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=i0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=OC.bind(null,e),e.Sa.h_=RC.bind(null,e.eventManager),e.Sa.ka=CC.bind(null,e.eventManager),e}class ig{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=G_(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return rC(this.persistence,new tC,e.initialUser,this.serializer)}createPersistence(e){return new JR(Zd.Hr,this.serializer)}createSharedClientState(e){return new lC}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class bC{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ng(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=UC.bind(null,this.syncEngine),await TC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new IC}()}createDatastore(e){const n=G_(e.databaseInfo.databaseId),r=function(o){return new dC(o)}(e.databaseInfo);return function(o,s,l,u){return new mC(o,s,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,l){return new yC(r,i,o,s,l)}(this.localStore,this.datastore,e.asyncQueue,n=>ng(this.syncEngine,n,0),function(){return Xm.D()?new Xm:new uC}())}createSyncEngine(e,n){return function(i,o,s,l,u,h,f){const p=new xC(i,o,s,l,u,h);return f&&(p.La=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=we(r);J("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await da(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):er("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=It.UNAUTHENTICATED,this.clientId=v_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{J("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(J("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Z(q.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=X_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function _c(t,e){t.asyncQueue.verifyOperationInProgress(),J("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await H_(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function og(t,e){t.asyncQueue.verifyOperationInProgress();const n=await $C(t);J("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Zm(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Zm(e.remoteStore,i)),t._onlineComponents=e}function BC(t){return t.name==="FirebaseError"?t.code===q.FAILED_PRECONDITION||t.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function $C(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){J("FirestoreClient","Using user provided OfflineComponentProvider");try{await _c(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!BC(n))throw n;yo("Error using user provided cache. Falling back to memory cache: "+n),await _c(t,new ig)}}else J("FirestoreClient","Using default OfflineComponentProvider"),await _c(t,new ig);return t._offlineComponents}async function HC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(J("FirestoreClient","Using user provided OnlineComponentProvider"),await og(t,t._uninitializedComponentsProvider._online)):(J("FirestoreClient","Using default OnlineComponentProvider"),await og(t,new bC))),t._onlineComponents}async function u0(t){const e=await HC(t),n=e.eventManager;return n.onListen=DC.bind(null,e.syncEngine),n.onUnlisten=LC.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=NC.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=MC.bind(null,e.syncEngine),n}function qC(t,e,n={}){const r=new Dr;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,l,u,h){const f=new l0({next:m=>{s.enqueueAndForget(()=>Z_(o,p));const R=m.docs.has(l);!R&&m.fromCache?h.reject(new Z(q.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&m.fromCache&&u&&u.source==="server"?h.reject(new Z(q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(m)},error:m=>h.reject(m)}),p=new e0(Wd(l.path),f,{includeMetadataChanges:!0,ra:!0});return J_(o,p)}(await u0(t),t.asyncQueue,e,n,r)),r.promise}function GC(t,e,n={}){const r=new Dr;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,l,u,h){const f=new l0({next:m=>{s.enqueueAndForget(()=>Z_(o,p)),m.fromCache&&u.source==="server"?h.reject(new Z(q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(m)},error:m=>h.reject(m)}),p=new e0(l,f,{includeMetadataChanges:!0,ra:!0});return J_(o,p)}(await u0(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c0(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0(t,e,n){if(!n)throw new Z(q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function KC(t,e,n,r){if(e===!0&&r===!0)throw new Z(q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ag(t){if(!ne.isDocumentKey(t))throw new Z(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function lg(t){if(ne.isDocumentKey(t))throw new Z(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function WC(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":le()}function ta(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Z(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=WC(t);throw new Z(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Z(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Z(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}KC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=c0((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Z(q.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Z(q.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Z(q.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Su{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ug({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Z(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Z(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ug(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new II;switch(r.type){case"firstParty":return new PI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Z(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=sg.get(n);r&&(J("ComponentProvider","Removing Datastore"),sg.delete(n),r.terminate())}(this),Promise.resolve()}}function QC(t,e,n,r={}){var i;const o=(t=ta(t,Su))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&yo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=It.MOCK_USER;else{l=Zv(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new Z(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new It(h)}t._authCredentials=new RI(new y_(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Iu(this.firestore,e,this._query)}}class Vn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vn(this.firestore,e,this._key)}}class Nr extends Iu{constructor(e,n,r){super(e,n,Wd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vn(this.firestore,null,new ne(e))}withConverter(e){return new Nr(this.firestore,e,this._path)}}function uf(t,e,...n){if(t=Ud(t),h0("collection","path",e),t instanceof Su){const r=Ue.fromString(e,...n);return lg(r),new Nr(t,null,r)}{if(!(t instanceof Vn||t instanceof Nr))throw new Z(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ue.fromString(e,...n));return lg(r),new Nr(t.firestore,null,r)}}function cg(t,e,...n){if(t=Ud(t),arguments.length===1&&(e=v_.newId()),h0("doc","path",e),t instanceof Su){const r=Ue.fromString(e,...n);return ag(r),new Vn(t,null,new ne(r))}{if(!(t instanceof Vn||t instanceof Nr))throw new Z(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ue.fromString(e,...n));return ag(r),new Vn(t.firestore,t instanceof Nr?t.converter:null,new ne(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new K_(this,"async_queue_retry"),this.hu=()=>{const n=vc();n&&J("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=vc();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=vc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new Dr;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!ca(e))throw e;J("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(s){let l=s.message||"";return s.stack&&(l=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),l}(r);throw er("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=sf.createAndSchedule(this,e,n,r,o=>this.Eu(o));return this._u.push(i),i}Pu(){this.au&&le()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}class cf extends Su{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new YC}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||f0(this),this._firestoreClient.terminate()}}function XC(t,e){const n=typeof t=="object"?t:a_(),r=typeof t=="string"?t:"(default)",i=i_(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=Xv("firestore");o&&QC(i,...o)}return i}function d0(t){return t._firestoreClient||f0(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function f0(t){var e,n,r;const i=t._freezeSettings(),o=function(l,u,h,f){return new zI(l,u,h,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,c0(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new zC(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ql(Pt.fromBase64String(e))}catch(n){throw new Z(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ql(Pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Z(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Z(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Z(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}}const ZC=new RegExp("[~\\*/\\[\\]]");function eA(t,e,n){if(e.search(ZC)>=0)throw hg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t);try{return new p0(...e.split("."))._internalPath}catch{throw hg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t)}}function hg(t,e,n,r,i){let o=`Function ${e}() called with invalid data`;o+=". ";let s="";return new Z(q.INVALID_ARGUMENT,o+t+s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new tA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(g0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class tA extends m0{data(){return super.data()}}function g0(t,e){return typeof e=="string"?eA(t,e):e instanceof p0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Z(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rA{convertValue(e,n="none"){switch(vi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ye(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(yi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw le()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return mu(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new JC(Ye(e.latitude),Ye(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Hd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Js(e));default:return null}}convertTimestamp(e){const n=Fr(e);return new Bt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ue.fromString(e);Je($_(r));const i=new Zs(r.get(1),r.get(3)),o=new ne(r.popFirst(5));return i.isEqual(n)||er(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class y0 extends m0{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new dl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(g0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class dl extends y0{data(e={}){return super.data(e)}}class iA{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ps(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new dl(this._firestore,this._userDataWriter,r.key,r,new ps(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Z(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(l=>{const u=new dl(i._firestore,i._userDataWriter,l.doc.key,l.doc,new ps(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>o||l.type!==3).map(l=>{const u=new dl(i._firestore,i._userDataWriter,l.doc.key,l.doc,new ps(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,f=-1;return l.type!==0&&(h=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),l.type!==1&&(s=s.add(l.doc),f=s.indexOf(l.doc.key)),{type:oA(l.type),doc:u,oldIndex:h,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function oA(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return le()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(t){t=ta(t,Vn);const e=ta(t.firestore,cf);return qC(d0(e),t._key).then(n=>sA(e,t,n))}class v0 extends rA{constructor(e){super(),this.firestore=e}convertBytes(e){return new ql(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vn(this.firestore,null,n)}}function hf(t){t=ta(t,Iu);const e=ta(t.firestore,cf),n=d0(e),r=new v0(e);return nA(t._query),GC(n,t._query).then(i=>new iA(e,r,t,i))}function sA(t,e,n){const r=n.docs.get(e._key),i=new v0(t);return new y0(t,i,e._key,r,new ps(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Ao=i})(o_),Qs(new go("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),l=new cf(new CI(r.getProvider("auth-internal")),new xI(r.getProvider("app-check-internal")),function(h,f){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Z(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zs(h.options.projectId,f)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),xr(km,"4.6.3",e),xr(km,"4.6.3","esm2017")})();var aA="firebase",lA="10.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xr(aA,lA,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="firebasestorage.googleapis.com",uA="storageBucket",cA=2*60*1e3,hA=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn extends Si{constructor(e,n,r=0){super(wc(e),`Firebase Storage: ${n} (${wc(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Fn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return wc(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var On;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(On||(On={}));function wc(t){return"storage/"+t}function dA(){const t="An unknown error occurred, please check the error payload for server response.";return new Fn(On.UNKNOWN,t)}function fA(){return new Fn(On.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function pA(){return new Fn(On.CANCELED,"User canceled the upload/download.")}function mA(t){return new Fn(On.INVALID_URL,"Invalid URL '"+t+"'.")}function gA(t){return new Fn(On.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function fg(t){return new Fn(On.INVALID_ARGUMENT,t)}function w0(){return new Fn(On.APP_DELETED,"The Firebase app was deleted.")}function yA(t){return new Fn(On.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=vn.makeFromUrl(e,n)}catch{return new vn(e,"")}if(r.path==="")return r;throw gA(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(M){M.path.charAt(M.path.length-1)==="/"&&(M.path_=M.path_.slice(0,-1))}const s="(/(.*))?$",l=new RegExp("^gs://"+i+s,"i"),u={bucket:1,path:3};function h(M){M.path_=decodeURIComponent(M.path)}const f="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",R=new RegExp(`^https?://${p}/${f}/b/${i}/o${m}`,"i"),A={bucket:1,path:3},k=n===_0?"(?:storage.googleapis.com|storage.cloud.google.com)":n,V="([^?#]*)",w=new RegExp(`^https?://${k}/${i}/${V}`,"i"),I=[{regex:l,indices:u,postModify:o},{regex:R,indices:A,postModify:h},{regex:w,indices:{bucket:1,path:2},postModify:h}];for(let M=0;M<I.length;M++){const b=I[M],x=b.regex.exec(e);if(x){const E=x[b.indices.bucket];let y=x[b.indices.path];y||(y=""),r=new vn(E,y),b.postModify(r);break}}if(r==null)throw mA(e);return r}}class vA{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(t,e,n){let r=1,i=null,o=null,s=!1,l=0;function u(){return l===2}let h=!1;function f(...V){h||(h=!0,e.apply(null,V))}function p(V){i=setTimeout(()=>{i=null,t(R,u())},V)}function m(){o&&clearTimeout(o)}function R(V,...w){if(h){m();return}if(V){m(),f.call(null,V,...w);return}if(u()||s){m(),f.call(null,V,...w);return}r<64&&(r*=2);let I;l===1?(l=2,I=0):I=(r+Math.random())*1e3,p(I)}let A=!1;function k(V){A||(A=!0,m(),!h&&(i!==null?(V||(l=2),clearTimeout(i),p(0)):V||(l=1)))}return p(0),o=setTimeout(()=>{s=!0,k(!0)},n),k}function wA(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(t){return t!==void 0}function pg(t,e,n,r){if(r<e)throw fg(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw fg(`Invalid value for '${t}'. Expected ${n} or less.`)}function TA(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gl;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Gl||(Gl={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,n,r,i,o,s,l,u,h,f,p,m=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=l,this.errorCallback_=u,this.timeout_=h,this.progressCallback_=f,this.connectionFactory_=p,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((R,A)=>{this.resolve_=R,this.reject_=A,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Wa(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=l=>{const u=l.loaded,h=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,h)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const l=o.getErrorCode()===Gl.NO_ERROR,u=o.getStatus();if(!l||SA(u,this.additionalRetryCodes_)&&this.retry){const f=o.getErrorCode()===Gl.ABORT;r(!1,new Wa(!1,null,f));return}const h=this.successCodes_.indexOf(u)!==-1;r(!0,new Wa(h,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(l,l.getResponse());EA(u)?o(u):o()}catch(u){s(u)}else if(l!==null){const u=dA();u.serverResponse=l.getErrorText(),this.errorCallback_?s(this.errorCallback_(l,u)):s(u)}else if(i.canceled){const u=this.appDelete_?w0():pA();s(u)}else{const u=fA();s(u)}};this.canceled_?n(!1,new Wa(!1,null,!0)):this.backoffId_=_A(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&wA(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Wa{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function RA(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function CA(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function AA(t,e){e&&(t["X-Firebase-GMPID"]=e)}function PA(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function kA(t,e,n,r,i,o,s=!0){const l=TA(t.urlParams),u=t.url+l,h=Object.assign({},t.headers);return AA(h,e),RA(h,n),CA(h,o),PA(h,r),new IA(u,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function DA(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,n){this._service=e,n instanceof vn?this._location=n:this._location=vn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Kl(e,n)}get root(){const e=new vn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return DA(this._location.path)}get storage(){return this._service}get parent(){const e=xA(this._location.path);if(e===null)return null;const n=new vn(this._location.bucket,e);return new Kl(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw yA(e)}}function mg(t,e){const n=e==null?void 0:e[uA];return n==null?null:vn.makeFromBucketSpec(n,t)}function NA(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:Zv(i,t.app.options.projectId))}class VA{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=_0,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=cA,this._maxUploadRetryTime=hA,this._requests=new Set,i!=null?this._bucket=vn.makeFromBucketSpec(i,this._host):this._bucket=mg(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=vn.makeFromBucketSpec(this._url,e):this._bucket=mg(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){pg("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){pg("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Kl(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new vA(w0());{const s=kA(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const gg="@firebase/storage",yg="0.12.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0="storage";function LA(t=a_(),e){t=Ud(t);const r=i_(t,E0).getImmediate({identifier:e}),i=Xv("storage");return i&&MA(r,...i),r}function MA(t,e,n,r={}){NA(t,e,n,r)}function OA(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new VA(n,r,i,e,o_)}function FA(){Qs(new go(E0,OA,"PUBLIC").setMultipleInstances(!0)),xr(gg,yg,""),xr(gg,yg,"esm2017")}FA();const UA={apiKey:"AIzaSyArtrlmVfN_wbS4rV_HwxTVCteJ2BNXHi0",authDomain:"footballquizzesapp.firebaseapp.com",projectId:"footballquizzesapp",storageBucket:"footballquizzesapp.appspot.com",messagingSenderId:"228889265534",appId:"1:228889265534:web:3e1c187afdd9b477501f2f",measurementId:"G-LFR6WCC6ZY"},T0=s_(UA),na=XC(T0);LA(T0);const Vr=async t=>{if(!t)return null;try{if(Array.isArray(t))return(await Promise.all(t.map(async n=>{const r=typeof n=="string"?n:n.path,i=await dg(cg(na,r));return i.exists()?i.data():null}))).filter(n=>n!==null);{const e=typeof t=="string"?t:t.path,n=await dg(cg(na,e));return n.exists()?n.data():null}}catch(e){return console.error("Failed to fetch reference data:",e),null}},S0=()=>{const[t,e]=U.useState([]),[n,r]=U.useState(!0),[i,o]=U.useState(null);return U.useEffect(()=>{const s=uf(na,"players");(async()=>{const u=localStorage.getItem("playersData");if(u){e(JSON.parse(u)),r(!1);return}try{const h=await hf(s),f=await Promise.all(h.docs.map(async p=>{const m=p.data(),R=m.career,A=Array.isArray(R)?await Vr(R):[await Vr(R)];return{id:p.id,career:A,goals:m.goals||null,name:m.name,retired:m.retire}}));localStorage.setItem("playersData",JSON.stringify(f)),e(f)}catch(h){h instanceof Error?o(h.message):o("An unknown error occurred")}finally{r(!1)}})()},[]),{players:t,loading:n,error:i}},Wl=t=>t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/-/g,"").toLowerCase(),so=t=>Math.floor(Math.random()*t.length),I0=(t,e)=>[...e,t],Ru=({text:t,onClick:e})=>H.jsx("button",{onClick:e,className:"bg-violet-500 text-white px-4 py-3 hover:opacity-85 rounded-lg transition duration-300",children:t}),jA=()=>{var V;const[t,e]=U.useState(null),[n,r]=U.useState(""),[i,o]=U.useState("welcome"),[s,l]=U.useState(0),u=U.useRef(0),h=U.useRef([]),{players:f,loading:p,error:m}=S0(),R=()=>{let w=!1;for(;!w;){const v=so(f),I=f[v];I!=null&&I.career&&I.career.length>1&&!h.current.includes(I)&&(h.current=I0(I,h.current),e(I),u.current+=1,w=!0)}},A=()=>{o("started"),R()},k=()=>{if(t===null)return;const w=Wl(n),v=Wl(t.name);if(w===v){if(console.log("saha"),l(I=>I+1),u.current>=5){o("over");return}r(""),R()}else{if(console.log("aasba"),l(I=>I+1),u.current>=5){o("over");return}r(""),R()}};return p?H.jsx("div",{children:"Loading..."}):(m&&console.error(m),H.jsxs(ua,{children:[" ",H.jsx("span",{children:"Who Am I?"}),i==="welcome"&&H.jsx(Ru,{text:"start",onClick:A}),i==="started"&&H.jsxs("div",{children:[H.jsx("section",{className:"flex gap-7 items-center",children:(V=t==null?void 0:t.career)==null?void 0:V.map((w,v)=>H.jsx("div",{className:"flex flex-col items-center",children:H.jsx("img",{src:w.logo,className:"h-24 w-24",alt:w.name,title:w.name})},v))}),H.jsx("input",{onChange:w=>r(w.target.value),value:n,name:"input",placeholder:"Guess the Player",required:!0,type:"text"}),H.jsx("button",{onClick:k,children:"Guess"})]}),i==="over"&&H.jsxs("div",{children:["Your Score is ",s," "]})]}))},bA=()=>{const[t,e]=U.useState([]),[n,r]=U.useState(!0),[i,o]=U.useState(null);return U.useEffect(()=>{const s=uf(na,"matches");(async()=>{const u=localStorage.getItem("matchesData");if(u){e(JSON.parse(u)),r(!1);return}try{const h=await hf(s),f=await Promise.all(h.docs.map(async p=>{const m=p.data(),R=m.awayTeam,A=m.homeTeam,k=m.logo,[V,w,v]=await Promise.all([Vr(R)||{name:"",logo:""},Vr(A)||{name:"",logo:""},Vr(k)||{name:"",logo:""}]);return{awayTeam:V,homeTeam:w,logo:v,id:p.id,awayTeamGoals:m.awayTeamGoals,homeTeamGoals:m.homeTeamGoals,competition:m.competition,phase:m.phase}}));localStorage.setItem("matchesData",JSON.stringify(f)),e(f)}catch(h){h instanceof Error?o(h.message):o("An unknown error occurred")}finally{r(!1)}})()},[]),{matches:t,loading:n,error:i}},zA=()=>{const[t,e]=U.useState(null),[n,r]=U.useState("welcome"),[i,o]=U.useState(0),[s,l]=U.useState({homeTeam:0,awayTeam:0}),{matches:u,loading:h,error:f}=bA(),p=U.useRef(0),m=U.useRef([]),R=()=>{const w=so(u),v=u[w];m.current.includes(v)||(e(v),p.current+=1)},A=()=>{r("started"),R()},k=w=>{const{name:v,value:I}=w.target;l(M=>({...M,[v]:Number(I)}))},V=()=>{if(p.current>=5){r("over");return}(t==null?void 0:t.awayTeamGoals)===s.awayTeam&&t.homeTeamGoals===s.homeTeam?(console.log("well done"),o(w=>w+1),R()):(console.log("aasba"),l({homeTeam:0,awayTeam:0}),R())};return h?H.jsx("div",{children:"loading"}):(f&&console.error(f),H.jsx(ua,{children:H.jsxs("div",{children:[H.jsx("p",{children:"Guess The Result"}),n==="welcome"&&H.jsx(Ru,{text:"start",onClick:A}),n==="started"&&H.jsxs("section",{children:[H.jsxs("div",{children:[H.jsx("div",{children:t==null?void 0:t.awayTeam.name})," ",H.jsx("input",{onChange:w=>k(w),name:"awayTeam",value:s.awayTeam,type:"number",required:!0}),H.jsx("div",{children:t==null?void 0:t.homeTeam.name})," ",H.jsx("input",{onChange:w=>k(w),name:"homeTeam",value:s.homeTeam,type:"number",required:!0})]}),H.jsx("button",{onClick:V,children:"Guess"})]}),n==="over"&&H.jsxs("div",{children:["your score is ",i]})]})}))},BA=()=>{const[t,e]=U.useState([]),[n,r]=U.useState(!0),[i,o]=U.useState(null);return U.useEffect(()=>{const s=uf(na,"squads");(async()=>{const u=localStorage.getItem("squadsData");if(u){e(JSON.parse(u)),r(!1);return}try{const h=await hf(s),f=await Promise.all(h.docs.map(async p=>{const m=p.data(),R=m.awayTeam,A=m.homeTeam,k=m.logo,[V,w,v]=await Promise.all([Vr(R)||{name:"",logo:""},Vr(A)||{name:"",logo:""},Vr(k)||{name:"",logo:""}]);return{awayTeam:V,homeTeam:w,logo:v,id:p.id,awayTeamGoals:m.awayTeamGoals,homeTeamGoals:m.homeTeamGoals,competition:m.competition,phase:m.phase,missingPlayer:m.missingPlayer,players:m.players}}));localStorage.setItem("squadsData",JSON.stringify(f)),e(f)}catch(h){h instanceof Error?o(h.message):o("An unknown error occurred")}finally{r(!1)}})()},[]),{squads:t,loading:n,error:i}},$A=()=>{const{squads:t,loading:e,error:n}=BA(),[r,i]=U.useState(null),[o,s]=U.useState("welcome"),[l,u]=U.useState(0),[h,f]=U.useState(""),p=U.useRef(0),m=U.useRef([]),R=()=>{if(p.current>=5){s("over");return}const V=so(t),w=t[V];m.current.includes(w)||(m.current=I0(w,m.current),i(w),p.current+=1)},A=()=>{s("started"),R()},k=()=>{if(r===null)return;const V=Wl(h),w=Wl(r==null?void 0:r.missingPlayer);V===w?(u(v=>v+=1),f(""),R()):(f(""),R())};return e?H.jsx("div",{children:"Loading"}):(n&&console.error(n),H.jsxs(ua,{children:[H.jsx("div",{children:"Who Is Missing?"}),o==="welcome"&&H.jsx(Ru,{text:"start",onClick:A}),o==="started"&&H.jsxs("section",{children:[H.jsx("input",{value:h,onChange:V=>f(V.target.value),required:!0}),H.jsx("button",{onClick:k,children:"Guess"})]}),o==="over"&&H.jsxs("div",{children:["your score is ",l]})]}))},HA=()=>{const[t,e]=U.useState(null),[n,r]=U.useState(null),[i,o]=U.useState(0),[s,l]=U.useState("welcome"),{players:u,loading:h,error:f}=S0(),p=()=>{l("started");let A=!1;for(;!A;){const k=so(u),V=so(u),w=u[k],v=u[V];w.goals!==null&&v.goals!==null&&v.goals!==w.goals&&(e(w),r(v),A=!0)}},m=A=>{let k=!1;for(;!k;){const V=so(u),w=u[V];A.goals!==null&&w.goals!==null&&w.goals!==A.goals&&(r(w),k=!0)}},R=A=>{const{value:k}=A.currentTarget;t===null||t.goals===null||n===null||n.goals===null||(t.goals<n.goals&&k==="more"?(e(n),m(n),o(V=>V+1)):t.goals>n.goals&&k==="less"?(e(n),m(n),o(V=>V+1)):l("over"))};return h?H.jsx("div",{children:"Loading.."}):(f&&console.error(f),H.jsxs(ua,{children:[H.jsx("div",{children:"Who Has More Goals ?"}),s==="welcome"&&H.jsx(Ru,{text:"start",onClick:p}),s==="started"&&H.jsx("section",{children:H.jsxs("div",{children:[t==null?void 0:t.name,H.jsxs("div",{children:[n==null?void 0:n.name,H.jsx("button",{onClick:A=>R(A),value:"more",children:"more"}),H.jsx("button",{onClick:A=>R(A),value:"less",children:"less"})]})]})}),s==="over"&&H.jsxs("div",{children:["your score is ",i]})]}))},qA=()=>H.jsxs("div",{children:[H.jsx("p",{children:"Error 404 not found"}),H.jsx(ll,{to:"/",children:"Home"})]}),GA=()=>H.jsx("div",{children:"Contribute"}),KA=LT([{path:"/",element:H.jsx(ZT,{}),errorElement:H.jsx(qA,{})},{path:"/who-am-i",element:H.jsx(jA,{})},{path:"/guess-the-result",element:H.jsx(zA,{})},{path:"/who-Is-missing",element:H.jsx($A,{})},{path:"/who-has-more-goals",element:H.jsx(HA,{})},{path:"/contribute",element:H.jsx(GA,{})}]);Ec.createRoot(document.getElementById("root")).render(H.jsx(xg.StrictMode,{children:H.jsx($T,{router:KA})}));
